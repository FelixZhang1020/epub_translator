var Jf=e=>{throw TypeError(e)};var Qo=(e,t,n)=>t.has(e)||Jf("Cannot "+n);var S=(e,t,n)=>(Qo(e,t,"read from private field"),n?n.call(e):t.get(e)),J=(e,t,n)=>t.has(e)?Jf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),q=(e,t,n,r)=>(Qo(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ae=(e,t,n)=>(Qo(e,t,"access private method"),n);var Wa=(e,t,n,r)=>({set _(i){q(e,t,i,n)},get _(){return S(e,t,r)}});function av(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function go(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eg={exports:{}},yo={},tg={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oa=Symbol.for("react.element"),lv=Symbol.for("react.portal"),ov=Symbol.for("react.fragment"),uv=Symbol.for("react.strict_mode"),cv=Symbol.for("react.profiler"),dv=Symbol.for("react.provider"),fv=Symbol.for("react.context"),hv=Symbol.for("react.forward_ref"),pv=Symbol.for("react.suspense"),mv=Symbol.for("react.memo"),gv=Symbol.for("react.lazy"),Yf=Symbol.iterator;function yv(e){return e===null||typeof e!="object"?null:(e=Yf&&e[Yf]||e["@@iterator"],typeof e=="function"?e:null)}var ng={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rg=Object.assign,ig={};function ps(e,t,n){this.props=e,this.context=t,this.refs=ig,this.updater=n||ng}ps.prototype.isReactComponent={};ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sg(){}sg.prototype=ps.prototype;function yd(e,t,n){this.props=e,this.context=t,this.refs=ig,this.updater=n||ng}var xd=yd.prototype=new sg;xd.constructor=yd;rg(xd,ps.prototype);xd.isPureReactComponent=!0;var Zf=Array.isArray,ag=Object.prototype.hasOwnProperty,vd={current:null},lg={key:!0,ref:!0,__self:!0,__source:!0};function og(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)ag.call(t,r)&&!lg.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Oa,type:e,key:s,ref:a,props:i,_owner:vd.current}}function xv(e,t){return{$$typeof:Oa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oa}function vv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var eh=/\/+/g;function Go(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vv(""+e.key):t.toString(36)}function yl(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Oa:case lv:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Go(a,0):r,Zf(i)?(n="",e!=null&&(n=e.replace(eh,"$&/")+"/"),yl(i,t,n,"",function(c){return c})):i!=null&&(bd(i)&&(i=xv(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(eh,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Zf(e))for(var l=0;l<e.length;l++){s=e[l];var u=r+Go(s,l);a+=yl(s,t,n,u,i)}else if(u=yv(e),typeof u=="function")for(e=u.call(e),l=0;!(s=e.next()).done;)s=s.value,u=r+Go(s,l++),a+=yl(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Qa(e,t,n){if(e==null)return e;var r=[],i=0;return yl(e,r,"","",function(s){return t.call(n,s,i++)}),r}function bv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},xl={transition:null},wv={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:xl,ReactCurrentOwner:vd};function ug(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Qa,forEach:function(e,t,n){Qa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Qa(e,function(){t++}),t},toArray:function(e){return Qa(e,function(t){return t})||[]},only:function(e){if(!bd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=ps;ce.Fragment=ov;ce.Profiler=cv;ce.PureComponent=yd;ce.StrictMode=uv;ce.Suspense=pv;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wv;ce.act=ug;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=rg({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=vd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)ag.call(t,u)&&!lg.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Oa,type:e.type,key:i,ref:s,props:r,_owner:a}};ce.createContext=function(e){return e={$$typeof:fv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dv,_context:e},e.Consumer=e};ce.createElement=og;ce.createFactory=function(e){var t=og.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:hv,render:e}};ce.isValidElement=bd;ce.lazy=function(e){return{$$typeof:gv,_payload:{_status:-1,_result:e},_init:bv}};ce.memo=function(e,t){return{$$typeof:mv,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=xl.transition;xl.transition={};try{e()}finally{xl.transition=t}};ce.unstable_act=ug;ce.useCallback=function(e,t){return vt.current.useCallback(e,t)};ce.useContext=function(e){return vt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return vt.current.useEffect(e,t)};ce.useId=function(){return vt.current.useId()};ce.useImperativeHandle=function(e,t,n){return vt.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return vt.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return vt.current.useReducer(e,t,n)};ce.useRef=function(e){return vt.current.useRef(e)};ce.useState=function(e){return vt.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return vt.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return vt.current.useTransition()};ce.version="18.3.1";tg.exports=ce;var N=tg.exports;const wd=go(N),kv=av({__proto__:null,default:wd},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv=N,Cv=Symbol.for("react.element"),jv=Symbol.for("react.fragment"),Nv=Object.prototype.hasOwnProperty,Ev=Sv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pv={key:!0,ref:!0,__self:!0,__source:!0};function cg(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Nv.call(t,r)&&!Pv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Cv,type:e,key:s,ref:a,props:i,_owner:Ev.current}}yo.Fragment=jv;yo.jsx=cg;yo.jsxs=cg;eg.exports=yo;var o=eg.exports,$u={},dg={exports:{}},Kt={},fg={exports:{}},hg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,V){var w=T.length;T.push(V);e:for(;0<w;){var Y=w-1>>>1,se=T[Y];if(0<i(se,V))T[Y]=V,T[w]=se,w=Y;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var V=T[0],w=T.pop();if(w!==V){T[0]=w;e:for(var Y=0,se=T.length,C=se>>>1;Y<C;){var he=2*(Y+1)-1,Ne=T[he],de=he+1,Le=T[de];if(0>i(Ne,w))de<se&&0>i(Le,Ne)?(T[Y]=Le,T[de]=w,Y=de):(T[Y]=Ne,T[he]=w,Y=he);else if(de<se&&0>i(Le,w))T[Y]=Le,T[de]=w,Y=de;else break e}}return V}function i(T,V){var w=T.sortIndex-V.sortIndex;return w!==0?w:T.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,f=null,p=3,h=!1,m=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(T){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=T)r(c),V.sortIndex=V.expirationTime,t(u,V);else break;V=n(c)}}function k(T){if(x=!1,v(T),!m)if(n(u)!==null)m=!0,X(E);else{var V=n(c);V!==null&&le(k,V.startTime-T)}}function E(T,V){m=!1,x&&(x=!1,y(P),P=-1),h=!0;var w=p;try{for(v(V),f=n(u);f!==null&&(!(f.expirationTime>V)||T&&!M());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,p=f.priorityLevel;var se=Y(f.expirationTime<=V);V=e.unstable_now(),typeof se=="function"?f.callback=se:f===n(u)&&r(u),v(V)}else r(u);f=n(u)}if(f!==null)var C=!0;else{var he=n(c);he!==null&&le(k,he.startTime-V),C=!1}return C}finally{f=null,p=w,h=!1}}var j=!1,O=null,P=-1,D=5,L=-1;function M(){return!(e.unstable_now()-L<D)}function F(){if(O!==null){var T=e.unstable_now();L=T;var V=!0;try{V=O(!0,T)}finally{V?H():(j=!1,O=null)}}else j=!1}var H;if(typeof g=="function")H=function(){g(F)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,B=K.port2;K.port1.onmessage=F,H=function(){B.postMessage(null)}}else H=function(){b(F,0)};function X(T){O=T,j||(j=!0,H())}function le(T,V){P=b(function(){T(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,X(E))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var w=p;p=V;try{return T()}finally{p=w}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,V){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var w=p;p=T;try{return V()}finally{p=w}},e.unstable_scheduleCallback=function(T,V,w){var Y=e.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?Y+w:Y):w=Y,T){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=w+se,T={id:d++,callback:V,priorityLevel:T,startTime:w,expirationTime:se,sortIndex:-1},w>Y?(T.sortIndex=w,t(c,T),n(u)===null&&T===n(c)&&(x?(y(P),P=-1):x=!0,le(k,w-Y))):(T.sortIndex=se,t(u,T),m||h||(m=!0,X(E))),T},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(T){var V=p;return function(){var w=p;p=V;try{return T.apply(this,arguments)}finally{p=w}}}})(hg);fg.exports=hg;var _v=fg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv=N,qt=_v;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pg=new Set,ra={};function yi(e,t){ss(e,t),ss(e+"Capture",t)}function ss(e,t){for(ra[e]=t,e=0;e<t.length;e++)pg.add(t[e])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uu=Object.prototype.hasOwnProperty,Rv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,th={},nh={};function Lv(e){return Uu.call(nh,e)?!0:Uu.call(th,e)?!1:Rv.test(e)?nh[e]=!0:(th[e]=!0,!1)}function Ov(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Av(e,t,n,r){if(t===null||typeof t>"u"||Ov(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bt(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var kd=/[\-:]([a-z])/g;function Sd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kd,Sd);it[t]=new bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kd,Sd);it[t]=new bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kd,Sd);it[t]=new bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new bt(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cd(e,t,n,r){var i=it.hasOwnProperty(t)?it[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Av(t,n,i,r)&&(n=null),r||i===null?Lv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var er=Tv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ga=Symbol.for("react.element"),Ni=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),jd=Symbol.for("react.strict_mode"),Bu=Symbol.for("react.profiler"),mg=Symbol.for("react.provider"),gg=Symbol.for("react.context"),Nd=Symbol.for("react.forward_ref"),Hu=Symbol.for("react.suspense"),qu=Symbol.for("react.suspense_list"),Ed=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),yg=Symbol.for("react.offscreen"),rh=Symbol.iterator;function _s(e){return e===null||typeof e!="object"?null:(e=rh&&e[rh]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,Xo;function $s(e){if(Xo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xo=t&&t[1]||""}return`
`+Xo+e}var Jo=!1;function Yo(e,t){if(!e||Jo)return"";Jo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{Jo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$s(e):""}function Iv(e){switch(e.tag){case 5:return $s(e.type);case 16:return $s("Lazy");case 13:return $s("Suspense");case 19:return $s("SuspenseList");case 0:case 2:case 15:return e=Yo(e.type,!1),e;case 11:return e=Yo(e.type.render,!1),e;case 1:return e=Yo(e.type,!0),e;default:return""}}function Ku(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ei:return"Fragment";case Ni:return"Portal";case Bu:return"Profiler";case jd:return"StrictMode";case Hu:return"Suspense";case qu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gg:return(e.displayName||"Context")+".Consumer";case mg:return(e._context.displayName||"Context")+".Provider";case Nd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ed:return t=e.displayName||null,t!==null?t:Ku(e.type)||"Memo";case sr:t=e._payload,e=e._init;try{return Ku(e(t))}catch{}}return null}function Mv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ku(t);case 8:return t===jd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fv(e){var t=xg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xa(e){e._valueTracker||(e._valueTracker=Fv(e))}function vg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vu(e,t){var n=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ih(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Rr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bg(e,t){t=t.checked,t!=null&&Cd(e,"checked",t,!1)}function Wu(e,t){bg(e,t);var n=Rr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qu(e,t.type,Rr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qu(e,t,n){(t!=="number"||Ml(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Us=Array.isArray;function Di(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Gu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ah(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(Us(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rr(n)}}function wg(e,t){var n=Rr(t.value),r=Rr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function lh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ja,Sg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ja=Ja||document.createElement("div"),Ja.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ja.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ia(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zv=["Webkit","ms","Moz","O"];Object.keys(Ks).forEach(function(e){zv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ks[t]=Ks[e]})});function Cg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ks.hasOwnProperty(e)&&Ks[e]?(""+t).trim():t+"px"}function jg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Cg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Dv=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ju(e,t){if(t){if(Dv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Yu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zu=null;function Pd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ec=null,$i=null,Ui=null;function oh(e){if(e=Ma(e)){if(typeof ec!="function")throw Error(z(280));var t=e.stateNode;t&&(t=ko(t),ec(e.stateNode,e.type,t))}}function Ng(e){$i?Ui?Ui.push(e):Ui=[e]:$i=e}function Eg(){if($i){var e=$i,t=Ui;if(Ui=$i=null,oh(e),t)for(e=0;e<t.length;e++)oh(t[e])}}function Pg(e,t){return e(t)}function _g(){}var Zo=!1;function Tg(e,t,n){if(Zo)return e(t,n);Zo=!0;try{return Pg(e,t,n)}finally{Zo=!1,($i!==null||Ui!==null)&&(_g(),Eg())}}function sa(e,t){var n=e.stateNode;if(n===null)return null;var r=ko(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var tc=!1;if(Gn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){tc=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{tc=!1}function $v(e,t,n,r,i,s,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Vs=!1,Fl=null,zl=!1,nc=null,Uv={onError:function(e){Vs=!0,Fl=e}};function Bv(e,t,n,r,i,s,a,l,u){Vs=!1,Fl=null,$v.apply(Uv,arguments)}function Hv(e,t,n,r,i,s,a,l,u){if(Bv.apply(this,arguments),Vs){if(Vs){var c=Fl;Vs=!1,Fl=null}else throw Error(z(198));zl||(zl=!0,nc=c)}}function xi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Rg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uh(e){if(xi(e)!==e)throw Error(z(188))}function qv(e){var t=e.alternate;if(!t){if(t=xi(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return uh(i),e;if(s===r)return uh(i),t;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function Lg(e){return e=qv(e),e!==null?Og(e):null}function Og(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Og(e);if(t!==null)return t;e=e.sibling}return null}var Ag=qt.unstable_scheduleCallback,ch=qt.unstable_cancelCallback,Kv=qt.unstable_shouldYield,Vv=qt.unstable_requestPaint,$e=qt.unstable_now,Wv=qt.unstable_getCurrentPriorityLevel,_d=qt.unstable_ImmediatePriority,Ig=qt.unstable_UserBlockingPriority,Dl=qt.unstable_NormalPriority,Qv=qt.unstable_LowPriority,Mg=qt.unstable_IdlePriority,xo=null,Pn=null;function Gv(e){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(xo,e,void 0,(e.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Yv,Xv=Math.log,Jv=Math.LN2;function Yv(e){return e>>>=0,e===0?32:31-(Xv(e)/Jv|0)|0}var Ya=64,Za=4194304;function Bs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $l(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Bs(l):(s&=a,s!==0&&(r=Bs(s)))}else a=n&~i,a!==0?r=Bs(a):s!==0&&(r=Bs(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-hn(t),i=1<<n,r|=e[n],t&=~i;return r}function Zv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-hn(s),l=1<<a,u=i[a];u===-1?(!(l&n)||l&r)&&(i[a]=Zv(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}}function rc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fg(){var e=Ya;return Ya<<=1,!(Ya&4194240)&&(Ya=64),e}function eu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Aa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hn(t),e[t]=n}function t1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-hn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Td(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-hn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ke=0;function zg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dg,Rd,$g,Ug,Bg,ic=!1,el=[],wr=null,kr=null,Sr=null,aa=new Map,la=new Map,lr=[],n1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dh(e,t){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":aa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(t.pointerId)}}function Rs(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ma(t),t!==null&&Rd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function r1(e,t,n,r,i){switch(t){case"focusin":return wr=Rs(wr,e,t,n,r,i),!0;case"dragenter":return kr=Rs(kr,e,t,n,r,i),!0;case"mouseover":return Sr=Rs(Sr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return aa.set(s,Rs(aa.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,la.set(s,Rs(la.get(s)||null,e,t,n,r,i)),!0}return!1}function Hg(e){var t=Vr(e.target);if(t!==null){var n=xi(t);if(n!==null){if(t=n.tag,t===13){if(t=Rg(n),t!==null){e.blockedOn=t,Bg(e.priority,function(){$g(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zu=r,n.target.dispatchEvent(r),Zu=null}else return t=Ma(n),t!==null&&Rd(t),e.blockedOn=n,!1;t.shift()}return!0}function fh(e,t,n){vl(e)&&n.delete(t)}function i1(){ic=!1,wr!==null&&vl(wr)&&(wr=null),kr!==null&&vl(kr)&&(kr=null),Sr!==null&&vl(Sr)&&(Sr=null),aa.forEach(fh),la.forEach(fh)}function Ls(e,t){e.blockedOn===t&&(e.blockedOn=null,ic||(ic=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,i1)))}function oa(e){function t(i){return Ls(i,e)}if(0<el.length){Ls(el[0],e);for(var n=1;n<el.length;n++){var r=el[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wr!==null&&Ls(wr,e),kr!==null&&Ls(kr,e),Sr!==null&&Ls(Sr,e),aa.forEach(t),la.forEach(t),n=0;n<lr.length;n++)r=lr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<lr.length&&(n=lr[0],n.blockedOn===null);)Hg(n),n.blockedOn===null&&lr.shift()}var Bi=er.ReactCurrentBatchConfig,Ul=!0;function s1(e,t,n,r){var i=ke,s=Bi.transition;Bi.transition=null;try{ke=1,Ld(e,t,n,r)}finally{ke=i,Bi.transition=s}}function a1(e,t,n,r){var i=ke,s=Bi.transition;Bi.transition=null;try{ke=4,Ld(e,t,n,r)}finally{ke=i,Bi.transition=s}}function Ld(e,t,n,r){if(Ul){var i=sc(e,t,n,r);if(i===null)cu(e,t,r,Bl,n),dh(e,r);else if(r1(i,e,t,n,r))r.stopPropagation();else if(dh(e,r),t&4&&-1<n1.indexOf(e)){for(;i!==null;){var s=Ma(i);if(s!==null&&Dg(s),s=sc(e,t,n,r),s===null&&cu(e,t,r,Bl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else cu(e,t,r,null,n)}}var Bl=null;function sc(e,t,n,r){if(Bl=null,e=Pd(r),e=Vr(e),e!==null)if(t=xi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Rg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bl=e,null}function qg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wv()){case _d:return 1;case Ig:return 4;case Dl:case Qv:return 16;case Mg:return 536870912;default:return 16}default:return 16}}var xr=null,Od=null,bl=null;function Kg(){if(bl)return bl;var e,t=Od,n=t.length,r,i="value"in xr?xr.value:xr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return bl=i.slice(e,1<r?1-r:void 0)}function wl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tl(){return!0}function hh(){return!1}function Vt(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tl:hh,this.isPropagationStopped=hh,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),t}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ad=Vt(ms),Ia=Ie({},ms,{view:0,detail:0}),l1=Vt(Ia),tu,nu,Os,vo=Ie({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Id,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Os&&(Os&&e.type==="mousemove"?(tu=e.screenX-Os.screenX,nu=e.screenY-Os.screenY):nu=tu=0,Os=e),tu)},movementY:function(e){return"movementY"in e?e.movementY:nu}}),ph=Vt(vo),o1=Ie({},vo,{dataTransfer:0}),u1=Vt(o1),c1=Ie({},Ia,{relatedTarget:0}),ru=Vt(c1),d1=Ie({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),f1=Vt(d1),h1=Ie({},ms,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),p1=Vt(h1),m1=Ie({},ms,{data:0}),mh=Vt(m1),g1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=x1[e])?!!t[e]:!1}function Id(){return v1}var b1=Ie({},Ia,{key:function(e){if(e.key){var t=g1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?y1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Id,charCode:function(e){return e.type==="keypress"?wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),w1=Vt(b1),k1=Ie({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gh=Vt(k1),S1=Ie({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Id}),C1=Vt(S1),j1=Ie({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),N1=Vt(j1),E1=Ie({},vo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P1=Vt(E1),_1=[9,13,27,32],Md=Gn&&"CompositionEvent"in window,Ws=null;Gn&&"documentMode"in document&&(Ws=document.documentMode);var T1=Gn&&"TextEvent"in window&&!Ws,Vg=Gn&&(!Md||Ws&&8<Ws&&11>=Ws),yh=" ",xh=!1;function Wg(e,t){switch(e){case"keyup":return _1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pi=!1;function R1(e,t){switch(e){case"compositionend":return Qg(t);case"keypress":return t.which!==32?null:(xh=!0,yh);case"textInput":return e=t.data,e===yh&&xh?null:e;default:return null}}function L1(e,t){if(Pi)return e==="compositionend"||!Md&&Wg(e,t)?(e=Kg(),bl=Od=xr=null,Pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vg&&t.locale!=="ko"?null:t.data;default:return null}}var O1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O1[e.type]:t==="textarea"}function Gg(e,t,n,r){Ng(r),t=Hl(t,"onChange"),0<t.length&&(n=new Ad("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qs=null,ua=null;function A1(e){a0(e,0)}function bo(e){var t=Ri(e);if(vg(t))return e}function I1(e,t){if(e==="change")return t}var Xg=!1;if(Gn){var iu;if(Gn){var su="oninput"in document;if(!su){var bh=document.createElement("div");bh.setAttribute("oninput","return;"),su=typeof bh.oninput=="function"}iu=su}else iu=!1;Xg=iu&&(!document.documentMode||9<document.documentMode)}function wh(){Qs&&(Qs.detachEvent("onpropertychange",Jg),ua=Qs=null)}function Jg(e){if(e.propertyName==="value"&&bo(ua)){var t=[];Gg(t,ua,e,Pd(e)),Tg(A1,t)}}function M1(e,t,n){e==="focusin"?(wh(),Qs=t,ua=n,Qs.attachEvent("onpropertychange",Jg)):e==="focusout"&&wh()}function F1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bo(ua)}function z1(e,t){if(e==="click")return bo(t)}function D1(e,t){if(e==="input"||e==="change")return bo(t)}function $1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:$1;function ca(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Uu.call(t,i)||!mn(e[i],t[i]))return!1}return!0}function kh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sh(e,t){var n=kh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kh(n)}}function Yg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zg(){for(var e=window,t=Ml();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ml(e.document)}return t}function Fd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function U1(e){var t=Zg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yg(n.ownerDocument.documentElement,n)){if(r!==null&&Fd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Sh(n,s);var a=Sh(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var B1=Gn&&"documentMode"in document&&11>=document.documentMode,_i=null,ac=null,Gs=null,lc=!1;function Ch(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lc||_i==null||_i!==Ml(r)||(r=_i,"selectionStart"in r&&Fd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gs&&ca(Gs,r)||(Gs=r,r=Hl(ac,"onSelect"),0<r.length&&(t=new Ad("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_i)))}function nl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ti={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},au={},e0={};Gn&&(e0=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function wo(e){if(au[e])return au[e];if(!Ti[e])return e;var t=Ti[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in e0)return au[e]=t[n];return e}var t0=wo("animationend"),n0=wo("animationiteration"),r0=wo("animationstart"),i0=wo("transitionend"),s0=new Map,jh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){s0.set(e,t),yi(t,[e])}for(var lu=0;lu<jh.length;lu++){var ou=jh[lu],H1=ou.toLowerCase(),q1=ou[0].toUpperCase()+ou.slice(1);Ar(H1,"on"+q1)}Ar(t0,"onAnimationEnd");Ar(n0,"onAnimationIteration");Ar(r0,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(i0,"onTransitionEnd");ss("onMouseEnter",["mouseout","mouseover"]);ss("onMouseLeave",["mouseout","mouseover"]);ss("onPointerEnter",["pointerout","pointerover"]);ss("onPointerLeave",["pointerout","pointerover"]);yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hs));function Nh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Hv(r,t,void 0,e),e.currentTarget=null}function a0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Nh(i,l,c),s=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Nh(i,l,c),s=u}}}if(zl)throw e=nc,zl=!1,nc=null,e}function Pe(e,t){var n=t[fc];n===void 0&&(n=t[fc]=new Set);var r=e+"__bubble";n.has(r)||(l0(t,e,2,!1),n.add(r))}function uu(e,t,n){var r=0;t&&(r|=4),l0(n,e,r,t)}var rl="_reactListening"+Math.random().toString(36).slice(2);function da(e){if(!e[rl]){e[rl]=!0,pg.forEach(function(n){n!=="selectionchange"&&(K1.has(n)||uu(n,!1,e),uu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rl]||(t[rl]=!0,uu("selectionchange",!1,t))}}function l0(e,t,n,r){switch(qg(t)){case 1:var i=s1;break;case 4:i=a1;break;default:i=Ld}n=i.bind(null,t,n,e),i=void 0,!tc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function cu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Vr(l),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}l=l.parentNode}}r=r.return}Tg(function(){var c=s,d=Pd(n),f=[];e:{var p=s0.get(e);if(p!==void 0){var h=Ad,m=e;switch(e){case"keypress":if(wl(n)===0)break e;case"keydown":case"keyup":h=w1;break;case"focusin":m="focus",h=ru;break;case"focusout":m="blur",h=ru;break;case"beforeblur":case"afterblur":h=ru;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ph;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=u1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=C1;break;case t0:case n0:case r0:h=f1;break;case i0:h=N1;break;case"scroll":h=l1;break;case"wheel":h=P1;break;case"copy":case"cut":case"paste":h=p1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=gh}var x=(t&4)!==0,b=!x&&e==="scroll",y=x?p!==null?p+"Capture":null:p;x=[];for(var g=c,v;g!==null;){v=g;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,y!==null&&(k=sa(g,y),k!=null&&x.push(fa(g,k,v)))),b)break;g=g.return}0<x.length&&(p=new h(p,m,null,n,d),f.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==Zu&&(m=n.relatedTarget||n.fromElement)&&(Vr(m)||m[Xn]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=c,m=m?Vr(m):null,m!==null&&(b=xi(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(x=ph,k="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=gh,k="onPointerLeave",y="onPointerEnter",g="pointer"),b=h==null?p:Ri(h),v=m==null?p:Ri(m),p=new x(k,g+"leave",h,n,d),p.target=b,p.relatedTarget=v,k=null,Vr(d)===c&&(x=new x(y,g+"enter",m,n,d),x.target=v,x.relatedTarget=b,k=x),b=k,h&&m)t:{for(x=h,y=m,g=0,v=x;v;v=Ci(v))g++;for(v=0,k=y;k;k=Ci(k))v++;for(;0<g-v;)x=Ci(x),g--;for(;0<v-g;)y=Ci(y),v--;for(;g--;){if(x===y||y!==null&&x===y.alternate)break t;x=Ci(x),y=Ci(y)}x=null}else x=null;h!==null&&Eh(f,p,h,x,!1),m!==null&&b!==null&&Eh(f,b,m,x,!0)}}e:{if(p=c?Ri(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var E=I1;else if(vh(p))if(Xg)E=D1;else{E=F1;var j=M1}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=z1);if(E&&(E=E(e,c))){Gg(f,E,n,d);break e}j&&j(e,p,c),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Qu(p,"number",p.value)}switch(j=c?Ri(c):window,e){case"focusin":(vh(j)||j.contentEditable==="true")&&(_i=j,ac=c,Gs=null);break;case"focusout":Gs=ac=_i=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,Ch(f,n,d);break;case"selectionchange":if(B1)break;case"keydown":case"keyup":Ch(f,n,d)}var O;if(Md)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Pi?Wg(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Vg&&n.locale!=="ko"&&(Pi||P!=="onCompositionStart"?P==="onCompositionEnd"&&Pi&&(O=Kg()):(xr=d,Od="value"in xr?xr.value:xr.textContent,Pi=!0)),j=Hl(c,P),0<j.length&&(P=new mh(P,e,null,n,d),f.push({event:P,listeners:j}),O?P.data=O:(O=Qg(n),O!==null&&(P.data=O)))),(O=T1?R1(e,n):L1(e,n))&&(c=Hl(c,"onBeforeInput"),0<c.length&&(d=new mh("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=O))}a0(f,t)})}function fa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=sa(e,n),s!=null&&r.unshift(fa(e,s,i)),s=sa(e,t),s!=null&&r.push(fa(e,s,i))),e=e.return}return r}function Ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Eh(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=sa(n,s),u!=null&&a.unshift(fa(n,u,l))):i||(u=sa(n,s),u!=null&&a.push(fa(n,u,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var V1=/\r\n?/g,W1=/\u0000|\uFFFD/g;function Ph(e){return(typeof e=="string"?e:""+e).replace(V1,`
`).replace(W1,"")}function il(e,t,n){if(t=Ph(t),Ph(e)!==t&&n)throw Error(z(425))}function ql(){}var oc=null,uc=null;function cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dc=typeof setTimeout=="function"?setTimeout:void 0,Q1=typeof clearTimeout=="function"?clearTimeout:void 0,_h=typeof Promise=="function"?Promise:void 0,G1=typeof queueMicrotask=="function"?queueMicrotask:typeof _h<"u"?function(e){return _h.resolve(null).then(e).catch(X1)}:dc;function X1(e){setTimeout(function(){throw e})}function du(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),oa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);oa(t)}function Cr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Th(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gs=Math.random().toString(36).slice(2),Nn="__reactFiber$"+gs,ha="__reactProps$"+gs,Xn="__reactContainer$"+gs,fc="__reactEvents$"+gs,J1="__reactListeners$"+gs,Y1="__reactHandles$"+gs;function Vr(e){var t=e[Nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xn]||n[Nn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Th(e);e!==null;){if(n=e[Nn])return n;e=Th(e)}return t}e=n,n=e.parentNode}return null}function Ma(e){return e=e[Nn]||e[Xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ri(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function ko(e){return e[ha]||null}var hc=[],Li=-1;function Ir(e){return{current:e}}function _e(e){0>Li||(e.current=hc[Li],hc[Li]=null,Li--)}function Ce(e,t){Li++,hc[Li]=e.current,e.current=t}var Lr={},dt=Ir(Lr),_t=Ir(!1),ui=Lr;function as(e,t){var n=e.type.contextTypes;if(!n)return Lr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Tt(e){return e=e.childContextTypes,e!=null}function Kl(){_e(_t),_e(dt)}function Rh(e,t,n){if(dt.current!==Lr)throw Error(z(168));Ce(dt,t),Ce(_t,n)}function o0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(z(108,Mv(e)||"Unknown",i));return Ie({},n,r)}function Vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lr,ui=dt.current,Ce(dt,e),Ce(_t,_t.current),!0}function Lh(e,t,n){var r=e.stateNode;if(!r)throw Error(z(169));n?(e=o0(e,t,ui),r.__reactInternalMemoizedMergedChildContext=e,_e(_t),_e(dt),Ce(dt,e)):_e(_t),Ce(_t,n)}var Dn=null,So=!1,fu=!1;function u0(e){Dn===null?Dn=[e]:Dn.push(e)}function Z1(e){So=!0,u0(e)}function Mr(){if(!fu&&Dn!==null){fu=!0;var e=0,t=ke;try{var n=Dn;for(ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Dn=null,So=!1}catch(i){throw Dn!==null&&(Dn=Dn.slice(e+1)),Ag(_d,Mr),i}finally{ke=t,fu=!1}}return null}var Oi=[],Ai=0,Wl=null,Ql=0,Jt=[],Yt=0,ci=null,qn=1,Kn="";function Hr(e,t){Oi[Ai++]=Ql,Oi[Ai++]=Wl,Wl=e,Ql=t}function c0(e,t,n){Jt[Yt++]=qn,Jt[Yt++]=Kn,Jt[Yt++]=ci,ci=e;var r=qn;e=Kn;var i=32-hn(r)-1;r&=~(1<<i),n+=1;var s=32-hn(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,qn=1<<32-hn(t)+i|n<<i|r,Kn=s+e}else qn=1<<s|n<<i|r,Kn=e}function zd(e){e.return!==null&&(Hr(e,1),c0(e,1,0))}function Dd(e){for(;e===Wl;)Wl=Oi[--Ai],Oi[Ai]=null,Ql=Oi[--Ai],Oi[Ai]=null;for(;e===ci;)ci=Jt[--Yt],Jt[Yt]=null,Kn=Jt[--Yt],Jt[Yt]=null,qn=Jt[--Yt],Jt[Yt]=null}var Ht=null,Ut=null,Te=!1,fn=null;function d0(e,t){var n=en(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Oh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ht=e,Ut=Cr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ht=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ci!==null?{id:qn,overflow:Kn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=en(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ht=e,Ut=null,!0):!1;default:return!1}}function pc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mc(e){if(Te){var t=Ut;if(t){var n=t;if(!Oh(e,t)){if(pc(e))throw Error(z(418));t=Cr(n.nextSibling);var r=Ht;t&&Oh(e,t)?d0(r,n):(e.flags=e.flags&-4097|2,Te=!1,Ht=e)}}else{if(pc(e))throw Error(z(418));e.flags=e.flags&-4097|2,Te=!1,Ht=e}}}function Ah(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ht=e}function sl(e){if(e!==Ht)return!1;if(!Te)return Ah(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cc(e.type,e.memoizedProps)),t&&(t=Ut)){if(pc(e))throw f0(),Error(z(418));for(;t;)d0(e,t),t=Cr(t.nextSibling)}if(Ah(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ut=Cr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Ht?Cr(e.stateNode.nextSibling):null;return!0}function f0(){for(var e=Ut;e;)e=Cr(e.nextSibling)}function ls(){Ut=Ht=null,Te=!1}function $d(e){fn===null?fn=[e]:fn.push(e)}var eb=er.ReactCurrentBatchConfig;function As(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function al(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ih(e){var t=e._init;return t(e._payload)}function h0(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=Pr(y,g),y.index=0,y.sibling=null,y}function s(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,g,v,k){return g===null||g.tag!==6?(g=vu(v,y.mode,k),g.return=y,g):(g=i(g,v),g.return=y,g)}function u(y,g,v,k){var E=v.type;return E===Ei?d(y,g,v.props.children,k,v.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===sr&&Ih(E)===g.type)?(k=i(g,v.props),k.ref=As(y,g,v),k.return=y,k):(k=Pl(v.type,v.key,v.props,null,y.mode,k),k.ref=As(y,g,v),k.return=y,k)}function c(y,g,v,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=bu(v,y.mode,k),g.return=y,g):(g=i(g,v.children||[]),g.return=y,g)}function d(y,g,v,k,E){return g===null||g.tag!==7?(g=li(v,y.mode,k,E),g.return=y,g):(g=i(g,v),g.return=y,g)}function f(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=vu(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ga:return v=Pl(g.type,g.key,g.props,null,y.mode,v),v.ref=As(y,null,g),v.return=y,v;case Ni:return g=bu(g,y.mode,v),g.return=y,g;case sr:var k=g._init;return f(y,k(g._payload),v)}if(Us(g)||_s(g))return g=li(g,y.mode,v,null),g.return=y,g;al(y,g)}return null}function p(y,g,v,k){var E=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:l(y,g,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ga:return v.key===E?u(y,g,v,k):null;case Ni:return v.key===E?c(y,g,v,k):null;case sr:return E=v._init,p(y,g,E(v._payload),k)}if(Us(v)||_s(v))return E!==null?null:d(y,g,v,k,null);al(y,v)}return null}function h(y,g,v,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(v)||null,l(g,y,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ga:return y=y.get(k.key===null?v:k.key)||null,u(g,y,k,E);case Ni:return y=y.get(k.key===null?v:k.key)||null,c(g,y,k,E);case sr:var j=k._init;return h(y,g,v,j(k._payload),E)}if(Us(k)||_s(k))return y=y.get(v)||null,d(g,y,k,E,null);al(g,k)}return null}function m(y,g,v,k){for(var E=null,j=null,O=g,P=g=0,D=null;O!==null&&P<v.length;P++){O.index>P?(D=O,O=null):D=O.sibling;var L=p(y,O,v[P],k);if(L===null){O===null&&(O=D);break}e&&O&&L.alternate===null&&t(y,O),g=s(L,g,P),j===null?E=L:j.sibling=L,j=L,O=D}if(P===v.length)return n(y,O),Te&&Hr(y,P),E;if(O===null){for(;P<v.length;P++)O=f(y,v[P],k),O!==null&&(g=s(O,g,P),j===null?E=O:j.sibling=O,j=O);return Te&&Hr(y,P),E}for(O=r(y,O);P<v.length;P++)D=h(O,y,P,v[P],k),D!==null&&(e&&D.alternate!==null&&O.delete(D.key===null?P:D.key),g=s(D,g,P),j===null?E=D:j.sibling=D,j=D);return e&&O.forEach(function(M){return t(y,M)}),Te&&Hr(y,P),E}function x(y,g,v,k){var E=_s(v);if(typeof E!="function")throw Error(z(150));if(v=E.call(v),v==null)throw Error(z(151));for(var j=E=null,O=g,P=g=0,D=null,L=v.next();O!==null&&!L.done;P++,L=v.next()){O.index>P?(D=O,O=null):D=O.sibling;var M=p(y,O,L.value,k);if(M===null){O===null&&(O=D);break}e&&O&&M.alternate===null&&t(y,O),g=s(M,g,P),j===null?E=M:j.sibling=M,j=M,O=D}if(L.done)return n(y,O),Te&&Hr(y,P),E;if(O===null){for(;!L.done;P++,L=v.next())L=f(y,L.value,k),L!==null&&(g=s(L,g,P),j===null?E=L:j.sibling=L,j=L);return Te&&Hr(y,P),E}for(O=r(y,O);!L.done;P++,L=v.next())L=h(O,y,P,L.value,k),L!==null&&(e&&L.alternate!==null&&O.delete(L.key===null?P:L.key),g=s(L,g,P),j===null?E=L:j.sibling=L,j=L);return e&&O.forEach(function(F){return t(y,F)}),Te&&Hr(y,P),E}function b(y,g,v,k){if(typeof v=="object"&&v!==null&&v.type===Ei&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ga:e:{for(var E=v.key,j=g;j!==null;){if(j.key===E){if(E=v.type,E===Ei){if(j.tag===7){n(y,j.sibling),g=i(j,v.props.children),g.return=y,y=g;break e}}else if(j.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===sr&&Ih(E)===j.type){n(y,j.sibling),g=i(j,v.props),g.ref=As(y,j,v),g.return=y,y=g;break e}n(y,j);break}else t(y,j);j=j.sibling}v.type===Ei?(g=li(v.props.children,y.mode,k,v.key),g.return=y,y=g):(k=Pl(v.type,v.key,v.props,null,y.mode,k),k.ref=As(y,g,v),k.return=y,y=k)}return a(y);case Ni:e:{for(j=v.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=i(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else t(y,g);g=g.sibling}g=bu(v,y.mode,k),g.return=y,y=g}return a(y);case sr:return j=v._init,b(y,g,j(v._payload),k)}if(Us(v))return m(y,g,v,k);if(_s(v))return x(y,g,v,k);al(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,v),g.return=y,y=g):(n(y,g),g=vu(v,y.mode,k),g.return=y,y=g),a(y)):n(y,g)}return b}var os=h0(!0),p0=h0(!1),Gl=Ir(null),Xl=null,Ii=null,Ud=null;function Bd(){Ud=Ii=Xl=null}function Hd(e){var t=Gl.current;_e(Gl),e._currentValue=t}function gc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Hi(e,t){Xl=e,Ud=Ii=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pt=!0),e.firstContext=null)}function rn(e){var t=e._currentValue;if(Ud!==e)if(e={context:e,memoizedValue:t,next:null},Ii===null){if(Xl===null)throw Error(z(308));Ii=e,Xl.dependencies={lanes:0,firstContext:e}}else Ii=Ii.next=e;return t}var Wr=null;function qd(e){Wr===null?Wr=[e]:Wr.push(e)}function m0(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,qd(t)):(n.next=i.next,i.next=n),t.interleaved=n,Jn(e,r)}function Jn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ar=!1;function Kd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Jn(e,n)}return i=r.interleaved,i===null?(t.next=t,qd(r)):(t.next=i.next,i.next=t),r.interleaved=t,Jn(e,n)}function kl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Td(e,n)}}function Mh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jl(e,t,n,r){var i=e.updateQueue;ar=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;a=0,d=c=u=null,l=s;do{var p=l.lane,h=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,x=l;switch(p=t,h=n,x.tag){case 1:if(m=x.payload,typeof m=="function"){f=m.call(h,f,p);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,p=typeof m=="function"?m.call(h,f,p):m,p==null)break e;f=Ie({},f,p);break e;case 2:ar=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=h,u=f):d=d.next=h,a|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);fi|=a,e.lanes=a,e.memoizedState=f}}function Fh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Fa={},_n=Ir(Fa),pa=Ir(Fa),ma=Ir(Fa);function Qr(e){if(e===Fa)throw Error(z(174));return e}function Vd(e,t){switch(Ce(ma,t),Ce(pa,e),Ce(_n,Fa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xu(t,e)}_e(_n),Ce(_n,t)}function us(){_e(_n),_e(pa),_e(ma)}function y0(e){Qr(ma.current);var t=Qr(_n.current),n=Xu(t,e.type);t!==n&&(Ce(pa,e),Ce(_n,n))}function Wd(e){pa.current===e&&(_e(_n),_e(pa))}var Oe=Ir(0);function Yl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hu=[];function Qd(){for(var e=0;e<hu.length;e++)hu[e]._workInProgressVersionPrimary=null;hu.length=0}var Sl=er.ReactCurrentDispatcher,pu=er.ReactCurrentBatchConfig,di=0,Ae=null,Qe=null,Ze=null,Zl=!1,Xs=!1,ga=0,tb=0;function lt(){throw Error(z(321))}function Gd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mn(e[n],t[n]))return!1;return!0}function Xd(e,t,n,r,i,s){if(di=s,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sl.current=e===null||e.memoizedState===null?sb:ab,e=n(r,i),Xs){s=0;do{if(Xs=!1,ga=0,25<=s)throw Error(z(301));s+=1,Ze=Qe=null,t.updateQueue=null,Sl.current=lb,e=n(r,i)}while(Xs)}if(Sl.current=eo,t=Qe!==null&&Qe.next!==null,di=0,Ze=Qe=Ae=null,Zl=!1,t)throw Error(z(300));return e}function Jd(){var e=ga!==0;return ga=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ae.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function sn(){if(Qe===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=Ze===null?Ae.memoizedState:Ze.next;if(t!==null)Ze=t,Qe=e;else{if(e===null)throw Error(z(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ze===null?Ae.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function ya(e,t){return typeof t=="function"?t(e):t}function mu(e){var t=sn(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=Qe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,u=null,c=s;do{var d=c.lane;if((di&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,a=r):u=u.next=f,Ae.lanes|=d,fi|=d}c=c.next}while(c!==null&&c!==s);u===null?a=r:u.next=l,mn(r,t.memoizedState)||(Pt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ae.lanes|=s,fi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gu(e){var t=sn(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);mn(s,t.memoizedState)||(Pt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function x0(){}function v0(e,t){var n=Ae,r=sn(),i=t(),s=!mn(r.memoizedState,i);if(s&&(r.memoizedState=i,Pt=!0),r=r.queue,Yd(k0.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,xa(9,w0.bind(null,n,r,i,t),void 0,null),et===null)throw Error(z(349));di&30||b0(n,t,i)}return i}function b0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function w0(e,t,n,r){t.value=n,t.getSnapshot=r,S0(t)&&C0(e)}function k0(e,t,n){return n(function(){S0(t)&&C0(e)})}function S0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mn(e,n)}catch{return!0}}function C0(e){var t=Jn(e,1);t!==null&&pn(t,e,1,-1)}function zh(e){var t=wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:e},t.queue=e,e=e.dispatch=ib.bind(null,Ae,e),[t.memoizedState,e]}function xa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function j0(){return sn().memoizedState}function Cl(e,t,n,r){var i=wn();Ae.flags|=e,i.memoizedState=xa(1|t,n,void 0,r===void 0?null:r)}function Co(e,t,n,r){var i=sn();r=r===void 0?null:r;var s=void 0;if(Qe!==null){var a=Qe.memoizedState;if(s=a.destroy,r!==null&&Gd(r,a.deps)){i.memoizedState=xa(t,n,s,r);return}}Ae.flags|=e,i.memoizedState=xa(1|t,n,s,r)}function Dh(e,t){return Cl(8390656,8,e,t)}function Yd(e,t){return Co(2048,8,e,t)}function N0(e,t){return Co(4,2,e,t)}function E0(e,t){return Co(4,4,e,t)}function P0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _0(e,t,n){return n=n!=null?n.concat([e]):null,Co(4,4,P0.bind(null,t,e),n)}function Zd(){}function T0(e,t){var n=sn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function R0(e,t){var n=sn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function L0(e,t,n){return di&21?(mn(n,t)||(n=Fg(),Ae.lanes|=n,fi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pt=!0),e.memoizedState=n)}function nb(e,t){var n=ke;ke=n!==0&&4>n?n:4,e(!0);var r=pu.transition;pu.transition={};try{e(!1),t()}finally{ke=n,pu.transition=r}}function O0(){return sn().memoizedState}function rb(e,t,n){var r=Er(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},A0(e))I0(t,n);else if(n=m0(e,t,n,r),n!==null){var i=xt();pn(n,e,r,i),M0(n,t,r)}}function ib(e,t,n){var r=Er(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(A0(e))I0(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,mn(l,a)){var u=t.interleaved;u===null?(i.next=i,qd(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=m0(e,t,i,r),n!==null&&(i=xt(),pn(n,e,r,i),M0(n,t,r))}}function A0(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function I0(e,t){Xs=Zl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function M0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Td(e,n)}}var eo={readContext:rn,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},sb={readContext:rn,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:rn,useEffect:Dh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cl(4194308,4,P0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cl(4,2,e,t)},useMemo:function(e,t){var n=wn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rb.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:zh,useDebugValue:Zd,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=zh(!1),t=e[0];return e=nb.bind(null,e[1]),wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ae,i=wn();if(Te){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),et===null)throw Error(z(349));di&30||b0(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Dh(k0.bind(null,r,s,e),[e]),r.flags|=2048,xa(9,w0.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=wn(),t=et.identifierPrefix;if(Te){var n=Kn,r=qn;n=(r&~(1<<32-hn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ga++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ab={readContext:rn,useCallback:T0,useContext:rn,useEffect:Yd,useImperativeHandle:_0,useInsertionEffect:N0,useLayoutEffect:E0,useMemo:R0,useReducer:mu,useRef:j0,useState:function(){return mu(ya)},useDebugValue:Zd,useDeferredValue:function(e){var t=sn();return L0(t,Qe.memoizedState,e)},useTransition:function(){var e=mu(ya)[0],t=sn().memoizedState;return[e,t]},useMutableSource:x0,useSyncExternalStore:v0,useId:O0,unstable_isNewReconciler:!1},lb={readContext:rn,useCallback:T0,useContext:rn,useEffect:Yd,useImperativeHandle:_0,useInsertionEffect:N0,useLayoutEffect:E0,useMemo:R0,useReducer:gu,useRef:j0,useState:function(){return gu(ya)},useDebugValue:Zd,useDeferredValue:function(e){var t=sn();return Qe===null?t.memoizedState=e:L0(t,Qe.memoizedState,e)},useTransition:function(){var e=gu(ya)[0],t=sn().memoizedState;return[e,t]},useMutableSource:x0,useSyncExternalStore:v0,useId:O0,unstable_isNewReconciler:!1};function on(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jo={isMounted:function(e){return(e=e._reactInternals)?xi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xt(),i=Er(e),s=Vn(r,i);s.payload=t,n!=null&&(s.callback=n),t=jr(e,s,i),t!==null&&(pn(t,e,i,r),kl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xt(),i=Er(e),s=Vn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=jr(e,s,i),t!==null&&(pn(t,e,i,r),kl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xt(),r=Er(e),i=Vn(n,r);i.tag=2,t!=null&&(i.callback=t),t=jr(e,i,r),t!==null&&(pn(t,e,r,n),kl(t,e,r))}};function $h(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!ca(n,r)||!ca(i,s):!0}function F0(e,t,n){var r=!1,i=Lr,s=t.contextType;return typeof s=="object"&&s!==null?s=rn(s):(i=Tt(t)?ui:dt.current,r=t.contextTypes,s=(r=r!=null)?as(e,i):Lr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Uh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jo.enqueueReplaceState(t,t.state,null)}function xc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Kd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=rn(s):(s=Tt(t)?ui:dt.current,i.context=as(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(yc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jo.enqueueReplaceState(i,i.state,null),Jl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do n+=Iv(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function yu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ob=typeof WeakMap=="function"?WeakMap:Map;function z0(e,t,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){no||(no=!0,_c=r),vc(e,t)},n}function D0(e,t,n){n=Vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){vc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){vc(e,t),typeof r!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Bh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ob;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kb.bind(null,e,t,n),t.then(e,e))}function Hh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qh(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vn(-1,1),t.tag=2,jr(n,t,1))),n.lanes|=1),e)}var ub=er.ReactCurrentOwner,Pt=!1;function gt(e,t,n,r){t.child=e===null?p0(t,null,n,r):os(t,e.child,n,r)}function Kh(e,t,n,r,i){n=n.render;var s=t.ref;return Hi(t,i),r=Xd(e,t,n,r,s,i),n=Jd(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yn(e,t,i)):(Te&&n&&zd(t),t.flags|=1,gt(e,t,r,i),t.child)}function Vh(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!of(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,$0(e,t,s,r,i)):(e=Pl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ca,n(a,r)&&e.ref===t.ref)return Yn(e,t,i)}return t.flags|=1,e=Pr(s,r),e.ref=t.ref,e.return=t,t.child=e}function $0(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ca(s,r)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Pt=!0);else return t.lanes=e.lanes,Yn(e,t,i)}return bc(e,t,n,r,i)}function U0(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Fi,$t),$t|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(Fi,$t),$t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(Fi,$t),$t|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ce(Fi,$t),$t|=r;return gt(e,t,i,n),t.child}function B0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function bc(e,t,n,r,i){var s=Tt(n)?ui:dt.current;return s=as(t,s),Hi(t,i),n=Xd(e,t,n,r,s,i),r=Jd(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yn(e,t,i)):(Te&&r&&zd(t),t.flags|=1,gt(e,t,n,i),t.child)}function Wh(e,t,n,r,i){if(Tt(n)){var s=!0;Vl(t)}else s=!1;if(Hi(t,i),t.stateNode===null)jl(e,t),F0(t,n,r),xc(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=rn(c):(c=Tt(n)?ui:dt.current,c=as(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Uh(t,a,r,c),ar=!1;var p=t.memoizedState;a.state=p,Jl(t,r,a,i),u=t.memoizedState,l!==r||p!==u||_t.current||ar?(typeof d=="function"&&(yc(t,n,d,r),u=t.memoizedState),(l=ar||$h(t,n,l,r,p,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,g0(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:on(t.type,l),a.props=c,f=t.pendingProps,p=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=rn(u):(u=Tt(n)?ui:dt.current,u=as(t,u));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==u)&&Uh(t,a,r,u),ar=!1,p=t.memoizedState,a.state=p,Jl(t,r,a,i);var m=t.memoizedState;l!==f||p!==m||_t.current||ar?(typeof h=="function"&&(yc(t,n,h,r),m=t.memoizedState),(c=ar||$h(t,n,c,r,p,m,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return wc(e,t,n,r,s,i)}function wc(e,t,n,r,i,s){B0(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Lh(t,n,!1),Yn(e,t,s);r=t.stateNode,ub.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=os(t,e.child,null,s),t.child=os(t,null,l,s)):gt(e,t,l,s),t.memoizedState=r.state,i&&Lh(t,n,!0),t.child}function H0(e){var t=e.stateNode;t.pendingContext?Rh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rh(e,t.context,!1),Vd(e,t.containerInfo)}function Qh(e,t,n,r,i){return ls(),$d(i),t.flags|=256,gt(e,t,n,r),t.child}var kc={dehydrated:null,treeContext:null,retryLane:0};function Sc(e){return{baseLanes:e,cachePool:null,transitions:null}}function q0(e,t,n){var r=t.pendingProps,i=Oe.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ce(Oe,i&1),e===null)return mc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Po(a,r,0,null),e=li(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Sc(n),t.memoizedState=kc,e):ef(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return cb(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Pr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Pr(l,s):(s=li(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Sc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=kc,r}return s=e.child,e=s.sibling,r=Pr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ef(e,t){return t=Po({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ll(e,t,n,r){return r!==null&&$d(r),os(t,e.child,null,n),e=ef(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cb(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=yu(Error(z(422))),ll(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Po({mode:"visible",children:r.children},i,0,null),s=li(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&os(t,e.child,null,a),t.child.memoizedState=Sc(a),t.memoizedState=kc,s);if(!(t.mode&1))return ll(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(z(419)),r=yu(s,r,void 0),ll(e,t,a,r)}if(l=(a&e.childLanes)!==0,Pt||l){if(r=et,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Jn(e,i),pn(r,e,i,-1))}return lf(),r=yu(Error(z(421))),ll(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Sb.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ut=Cr(i.nextSibling),Ht=t,Te=!0,fn=null,e!==null&&(Jt[Yt++]=qn,Jt[Yt++]=Kn,Jt[Yt++]=ci,qn=e.id,Kn=e.overflow,ci=t),t=ef(t,r.children),t.flags|=4096,t)}function Gh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gc(e.return,t,n)}function xu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function K0(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(gt(e,t,r.children,n),r=Oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gh(e,n,t);else if(e.tag===19)Gh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ce(Oe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Yl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),xu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Yl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}xu(t,!0,n,null,s);break;case"together":xu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=Pr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function db(e,t,n){switch(t.tag){case 3:H0(t),ls();break;case 5:y0(t);break;case 1:Tt(t.type)&&Vl(t);break;case 4:Vd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ce(Gl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Oe,Oe.current&1),t.flags|=128,null):n&t.child.childLanes?q0(e,t,n):(Ce(Oe,Oe.current&1),e=Yn(e,t,n),e!==null?e.sibling:null);Ce(Oe,Oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return K0(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Oe,Oe.current),r)break;return null;case 22:case 23:return t.lanes=0,U0(e,t,n)}return Yn(e,t,n)}var V0,Cc,W0,Q0;V0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cc=function(){};W0=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qr(_n.current);var s=null;switch(n){case"input":i=Vu(e,i),r=Vu(e,r),s=[];break;case"select":i=Ie({},i,{value:void 0}),r=Ie({},r,{value:void 0}),s=[];break;case"textarea":i=Gu(e,i),r=Gu(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ql)}Ju(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ra.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ra.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Pe("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Q0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Is(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fb(e,t,n){var r=t.pendingProps;switch(Dd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return Tt(t.type)&&Kl(),ot(t),null;case 3:return r=t.stateNode,us(),_e(_t),_e(dt),Qd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(sl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fn!==null&&(Lc(fn),fn=null))),Cc(e,t),ot(t),null;case 5:Wd(t);var i=Qr(ma.current);if(n=t.type,e!==null&&t.stateNode!=null)W0(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return ot(t),null}if(e=Qr(_n.current),sl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Nn]=t,r[ha]=s,e=(t.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(i=0;i<Hs.length;i++)Pe(Hs[i],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":ih(r,s),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pe("invalid",r);break;case"textarea":ah(r,s),Pe("invalid",r)}Ju(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&il(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&il(r.textContent,l,e),i=["children",""+l]):ra.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Pe("scroll",r)}switch(n){case"input":Xa(r),sh(r,s,!0);break;case"textarea":Xa(r),lh(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ql)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Nn]=t,e[ha]=r,V0(e,t,!1,!1),t.stateNode=e;e:{switch(a=Yu(n,r),n){case"dialog":Pe("cancel",e),Pe("close",e),i=r;break;case"iframe":case"object":case"embed":Pe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Hs.length;i++)Pe(Hs[i],e);i=r;break;case"source":Pe("error",e),i=r;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),i=r;break;case"details":Pe("toggle",e),i=r;break;case"input":ih(e,r),i=Vu(e,r),Pe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ie({},r,{value:void 0}),Pe("invalid",e);break;case"textarea":ah(e,r),i=Gu(e,r),Pe("invalid",e);break;default:i=r}Ju(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?jg(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Sg(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ia(e,u):typeof u=="number"&&ia(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ra.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Pe("scroll",e):u!=null&&Cd(e,s,u,a))}switch(n){case"input":Xa(e),sh(e,r,!1);break;case"textarea":Xa(e),lh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Rr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Di(e,!!r.multiple,s,!1):r.defaultValue!=null&&Di(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ql)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)Q0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(n=Qr(ma.current),Qr(_n.current),sl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nn]=t,(s=r.nodeValue!==n)&&(e=Ht,e!==null))switch(e.tag){case 3:il(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&il(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nn]=t,t.stateNode=r}return ot(t),null;case 13:if(_e(Oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&Ut!==null&&t.mode&1&&!(t.flags&128))f0(),ls(),t.flags|=98560,s=!1;else if(s=sl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(z(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Nn]=t}else ls(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),s=!1}else fn!==null&&(Lc(fn),fn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Oe.current&1?Xe===0&&(Xe=3):lf())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return us(),Cc(e,t),e===null&&da(t.stateNode.containerInfo),ot(t),null;case 10:return Hd(t.type._context),ot(t),null;case 17:return Tt(t.type)&&Kl(),ot(t),null;case 19:if(_e(Oe),s=t.memoizedState,s===null)return ot(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Is(s,!1);else{if(Xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Yl(e),a!==null){for(t.flags|=128,Is(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce(Oe,Oe.current&1|2),t.child}e=e.sibling}s.tail!==null&&$e()>ds&&(t.flags|=128,r=!0,Is(s,!1),t.lanes=4194304)}else{if(!r)if(e=Yl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Is(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Te)return ot(t),null}else 2*$e()-s.renderingStartTime>ds&&n!==1073741824&&(t.flags|=128,r=!0,Is(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=Oe.current,Ce(Oe,r?n&1|2:n&1),t):(ot(t),null);case 22:case 23:return af(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$t&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function hb(e,t){switch(Dd(t),t.tag){case 1:return Tt(t.type)&&Kl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return us(),_e(_t),_e(dt),Qd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wd(t),null;case 13:if(_e(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Oe),null;case 4:return us(),null;case 10:return Hd(t.type._context),null;case 22:case 23:return af(),null;case 24:return null;default:return null}}var ol=!1,ut=!1,pb=typeof WeakSet=="function"?WeakSet:Set,W=null;function Mi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(e,t,r)}else n.current=null}function jc(e,t,n){try{n()}catch(r){Fe(e,t,r)}}var Xh=!1;function mb(e,t){if(oc=Ul,e=Zg(),Fd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(l=a+i),f!==s||r!==0&&f.nodeType!==3||(u=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++c===i&&(l=a),p===s&&++d===r&&(u=a),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(uc={focusedElem:e,selectionRange:n},Ul=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,b=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:on(t.type,x),b);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(k){Fe(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return m=Xh,Xh=!1,m}function Js(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&jc(t,n,s)}i=i.next}while(i!==r)}}function No(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Nc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function G0(e){var t=e.alternate;t!==null&&(e.alternate=null,G0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nn],delete t[ha],delete t[fc],delete t[J1],delete t[Y1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function X0(e){return e.tag===5||e.tag===3||e.tag===4}function Jh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||X0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ec(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ql));else if(r!==4&&(e=e.child,e!==null))for(Ec(e,t,n),e=e.sibling;e!==null;)Ec(e,t,n),e=e.sibling}function Pc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Pc(e,t,n),e=e.sibling;e!==null;)Pc(e,t,n),e=e.sibling}var nt=null,dn=!1;function nr(e,t,n){for(n=n.child;n!==null;)J0(e,t,n),n=n.sibling}function J0(e,t,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(xo,n)}catch{}switch(n.tag){case 5:ut||Mi(n,t);case 6:var r=nt,i=dn;nt=null,nr(e,t,n),nt=r,dn=i,nt!==null&&(dn?(e=nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(dn?(e=nt,n=n.stateNode,e.nodeType===8?du(e.parentNode,n):e.nodeType===1&&du(e,n),oa(e)):du(nt,n.stateNode));break;case 4:r=nt,i=dn,nt=n.stateNode.containerInfo,dn=!0,nr(e,t,n),nt=r,dn=i;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&jc(n,t,a),i=i.next}while(i!==r)}nr(e,t,n);break;case 1:if(!ut&&(Mi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Fe(n,t,l)}nr(e,t,n);break;case 21:nr(e,t,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,nr(e,t,n),ut=r):nr(e,t,n);break;default:nr(e,t,n)}}function Yh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pb),t.forEach(function(r){var i=Cb.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ln(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:nt=l.stateNode,dn=!1;break e;case 3:nt=l.stateNode.containerInfo,dn=!0;break e;case 4:nt=l.stateNode.containerInfo,dn=!0;break e}l=l.return}if(nt===null)throw Error(z(160));J0(s,a,i),nt=null,dn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Fe(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Y0(t,e),t=t.sibling}function Y0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ln(t,e),vn(e),r&4){try{Js(3,e,e.return),No(3,e)}catch(x){Fe(e,e.return,x)}try{Js(5,e,e.return)}catch(x){Fe(e,e.return,x)}}break;case 1:ln(t,e),vn(e),r&512&&n!==null&&Mi(n,n.return);break;case 5:if(ln(t,e),vn(e),r&512&&n!==null&&Mi(n,n.return),e.flags&32){var i=e.stateNode;try{ia(i,"")}catch(x){Fe(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&bg(i,s),Yu(l,a);var c=Yu(l,s);for(a=0;a<u.length;a+=2){var d=u[a],f=u[a+1];d==="style"?jg(i,f):d==="dangerouslySetInnerHTML"?Sg(i,f):d==="children"?ia(i,f):Cd(i,d,f,c)}switch(l){case"input":Wu(i,s);break;case"textarea":wg(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Di(i,!!s.multiple,h,!1):p!==!!s.multiple&&(s.defaultValue!=null?Di(i,!!s.multiple,s.defaultValue,!0):Di(i,!!s.multiple,s.multiple?[]:"",!1))}i[ha]=s}catch(x){Fe(e,e.return,x)}}break;case 6:if(ln(t,e),vn(e),r&4){if(e.stateNode===null)throw Error(z(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){Fe(e,e.return,x)}}break;case 3:if(ln(t,e),vn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{oa(t.containerInfo)}catch(x){Fe(e,e.return,x)}break;case 4:ln(t,e),vn(e);break;case 13:ln(t,e),vn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rf=$e())),r&4&&Yh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ut=(c=ut)||d,ln(t,e),ut=c):ln(t,e),vn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(f=W=d;W!==null;){switch(p=W,h=p.child,p.tag){case 0:case 11:case 14:case 15:Js(4,p,p.return);break;case 1:Mi(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(x){Fe(r,n,x)}}break;case 5:Mi(p,p.return);break;case 22:if(p.memoizedState!==null){ep(f);continue}}h!==null?(h.return=p,W=h):ep(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Cg("display",a))}catch(x){Fe(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){Fe(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ln(t,e),vn(e),r&4&&Yh(e);break;case 21:break;default:ln(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(X0(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ia(i,""),r.flags&=-33);var s=Jh(e);Pc(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Jh(e);Ec(e,l,a);break;default:throw Error(z(161))}}catch(u){Fe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gb(e,t,n){W=e,Z0(e)}function Z0(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ol;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ut;l=ol;var c=ut;if(ol=a,(ut=u)&&!c)for(W=i;W!==null;)a=W,u=a.child,a.tag===22&&a.memoizedState!==null?tp(i):u!==null?(u.return=a,W=u):tp(i);for(;s!==null;)W=s,Z0(s),s=s.sibling;W=i,ol=l,ut=c}Zh(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):Zh(e)}}function Zh(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ut||No(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ut)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:on(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Fh(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Fh(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&oa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}ut||t.flags&512&&Nc(t)}catch(p){Fe(t,t.return,p)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function ep(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function tp(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{No(4,t)}catch(u){Fe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Fe(t,i,u)}}var s=t.return;try{Nc(t)}catch(u){Fe(t,s,u)}break;case 5:var a=t.return;try{Nc(t)}catch(u){Fe(t,a,u)}}}catch(u){Fe(t,t.return,u)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var yb=Math.ceil,to=er.ReactCurrentDispatcher,tf=er.ReactCurrentOwner,nn=er.ReactCurrentBatchConfig,ge=0,et=null,Ve=null,rt=0,$t=0,Fi=Ir(0),Xe=0,va=null,fi=0,Eo=0,nf=0,Ys=null,Et=null,rf=0,ds=1/0,zn=null,no=!1,_c=null,Nr=null,ul=!1,vr=null,ro=0,Zs=0,Tc=null,Nl=-1,El=0;function xt(){return ge&6?$e():Nl!==-1?Nl:Nl=$e()}function Er(e){return e.mode&1?ge&2&&rt!==0?rt&-rt:eb.transition!==null?(El===0&&(El=Fg()),El):(e=ke,e!==0||(e=window.event,e=e===void 0?16:qg(e.type)),e):1}function pn(e,t,n,r){if(50<Zs)throw Zs=0,Tc=null,Error(z(185));Aa(e,n,r),(!(ge&2)||e!==et)&&(e===et&&(!(ge&2)&&(Eo|=n),Xe===4&&or(e,rt)),Rt(e,r),n===1&&ge===0&&!(t.mode&1)&&(ds=$e()+500,So&&Mr()))}function Rt(e,t){var n=e.callbackNode;e1(e,t);var r=$l(e,e===et?rt:0);if(r===0)n!==null&&ch(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ch(n),t===1)e.tag===0?Z1(np.bind(null,e)):u0(np.bind(null,e)),G1(function(){!(ge&6)&&Mr()}),n=null;else{switch(zg(r)){case 1:n=_d;break;case 4:n=Ig;break;case 16:n=Dl;break;case 536870912:n=Mg;break;default:n=Dl}n=ly(n,ey.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ey(e,t){if(Nl=-1,El=0,ge&6)throw Error(z(327));var n=e.callbackNode;if(qi()&&e.callbackNode!==n)return null;var r=$l(e,e===et?rt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=io(e,r);else{t=r;var i=ge;ge|=2;var s=ny();(et!==e||rt!==t)&&(zn=null,ds=$e()+500,ai(e,t));do try{bb();break}catch(l){ty(e,l)}while(!0);Bd(),to.current=s,ge=i,Ve!==null?t=0:(et=null,rt=0,t=Xe)}if(t!==0){if(t===2&&(i=rc(e),i!==0&&(r=i,t=Rc(e,i))),t===1)throw n=va,ai(e,0),or(e,r),Rt(e,$e()),n;if(t===6)or(e,r);else{if(i=e.current.alternate,!(r&30)&&!xb(i)&&(t=io(e,r),t===2&&(s=rc(e),s!==0&&(r=s,t=Rc(e,s))),t===1))throw n=va,ai(e,0),or(e,r),Rt(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:qr(e,Et,zn);break;case 3:if(or(e,r),(r&130023424)===r&&(t=rf+500-$e(),10<t)){if($l(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){xt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=dc(qr.bind(null,e,Et,zn),t);break}qr(e,Et,zn);break;case 4:if(or(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-hn(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yb(r/1960))-r,10<r){e.timeoutHandle=dc(qr.bind(null,e,Et,zn),r);break}qr(e,Et,zn);break;case 5:qr(e,Et,zn);break;default:throw Error(z(329))}}}return Rt(e,$e()),e.callbackNode===n?ey.bind(null,e):null}function Rc(e,t){var n=Ys;return e.current.memoizedState.isDehydrated&&(ai(e,t).flags|=256),e=io(e,t),e!==2&&(t=Et,Et=n,t!==null&&Lc(t)),e}function Lc(e){Et===null?Et=e:Et.push.apply(Et,e)}function xb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!mn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function or(e,t){for(t&=~nf,t&=~Eo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-hn(t),r=1<<n;e[n]=-1,t&=~r}}function np(e){if(ge&6)throw Error(z(327));qi();var t=$l(e,0);if(!(t&1))return Rt(e,$e()),null;var n=io(e,t);if(e.tag!==0&&n===2){var r=rc(e);r!==0&&(t=r,n=Rc(e,r))}if(n===1)throw n=va,ai(e,0),or(e,t),Rt(e,$e()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qr(e,Et,zn),Rt(e,$e()),null}function sf(e,t){var n=ge;ge|=1;try{return e(t)}finally{ge=n,ge===0&&(ds=$e()+500,So&&Mr())}}function hi(e){vr!==null&&vr.tag===0&&!(ge&6)&&qi();var t=ge;ge|=1;var n=nn.transition,r=ke;try{if(nn.transition=null,ke=1,e)return e()}finally{ke=r,nn.transition=n,ge=t,!(ge&6)&&Mr()}}function af(){$t=Fi.current,_e(Fi)}function ai(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Q1(n)),Ve!==null)for(n=Ve.return;n!==null;){var r=n;switch(Dd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kl();break;case 3:us(),_e(_t),_e(dt),Qd();break;case 5:Wd(r);break;case 4:us();break;case 13:_e(Oe);break;case 19:_e(Oe);break;case 10:Hd(r.type._context);break;case 22:case 23:af()}n=n.return}if(et=e,Ve=e=Pr(e.current,null),rt=$t=t,Xe=0,va=null,nf=Eo=fi=0,Et=Ys=null,Wr!==null){for(t=0;t<Wr.length;t++)if(n=Wr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Wr=null}return e}function ty(e,t){do{var n=Ve;try{if(Bd(),Sl.current=eo,Zl){for(var r=Ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zl=!1}if(di=0,Ze=Qe=Ae=null,Xs=!1,ga=0,tf.current=null,n===null||n.return===null){Xe=1,va=t,Ve=null;break}e:{var s=e,a=n.return,l=n,u=t;if(t=rt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Hh(a);if(h!==null){h.flags&=-257,qh(h,a,l,s,t),h.mode&1&&Bh(s,c,t),t=h,u=c;var m=t.updateQueue;if(m===null){var x=new Set;x.add(u),t.updateQueue=x}else m.add(u);break e}else{if(!(t&1)){Bh(s,c,t),lf();break e}u=Error(z(426))}}else if(Te&&l.mode&1){var b=Hh(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),qh(b,a,l,s,t),$d(cs(u,l));break e}}s=u=cs(u,l),Xe!==4&&(Xe=2),Ys===null?Ys=[s]:Ys.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=z0(s,u,t);Mh(s,y);break e;case 1:l=u;var g=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Nr===null||!Nr.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=D0(s,l,t);Mh(s,k);break e}}s=s.return}while(s!==null)}iy(n)}catch(E){t=E,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(!0)}function ny(){var e=to.current;return to.current=eo,e===null?eo:e}function lf(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),et===null||!(fi&268435455)&&!(Eo&268435455)||or(et,rt)}function io(e,t){var n=ge;ge|=2;var r=ny();(et!==e||rt!==t)&&(zn=null,ai(e,t));do try{vb();break}catch(i){ty(e,i)}while(!0);if(Bd(),ge=n,to.current=r,Ve!==null)throw Error(z(261));return et=null,rt=0,Xe}function vb(){for(;Ve!==null;)ry(Ve)}function bb(){for(;Ve!==null&&!Kv();)ry(Ve)}function ry(e){var t=ay(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?iy(e):Ve=t,tf.current=null}function iy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=hb(n,t),n!==null){n.flags&=32767,Ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,Ve=null;return}}else if(n=fb(n,t,$t),n!==null){Ve=n;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Xe===0&&(Xe=5)}function qr(e,t,n){var r=ke,i=nn.transition;try{nn.transition=null,ke=1,wb(e,t,n,r)}finally{nn.transition=i,ke=r}return null}function wb(e,t,n,r){do qi();while(vr!==null);if(ge&6)throw Error(z(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(t1(e,s),e===et&&(Ve=et=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ul||(ul=!0,ly(Dl,function(){return qi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=nn.transition,nn.transition=null;var a=ke;ke=1;var l=ge;ge|=4,tf.current=null,mb(e,n),Y0(n,e),U1(uc),Ul=!!oc,uc=oc=null,e.current=n,gb(n),Vv(),ge=l,ke=a,nn.transition=s}else e.current=n;if(ul&&(ul=!1,vr=e,ro=i),s=e.pendingLanes,s===0&&(Nr=null),Gv(n.stateNode),Rt(e,$e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(no)throw no=!1,e=_c,_c=null,e;return ro&1&&e.tag!==0&&qi(),s=e.pendingLanes,s&1?e===Tc?Zs++:(Zs=0,Tc=e):Zs=0,Mr(),null}function qi(){if(vr!==null){var e=zg(ro),t=nn.transition,n=ke;try{if(nn.transition=null,ke=16>e?16:e,vr===null)var r=!1;else{if(e=vr,vr=null,ro=0,ge&6)throw Error(z(331));var i=ge;for(ge|=4,W=e.current;W!==null;){var s=W,a=s.child;if(W.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(W=c;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:Js(8,d,s)}var f=d.child;if(f!==null)f.return=d,W=f;else for(;W!==null;){d=W;var p=d.sibling,h=d.return;if(G0(d),d===c){W=null;break}if(p!==null){p.return=h,W=p;break}W=h}}}var m=s.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}W=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,W=a;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Js(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,W=y;break e}W=s.return}}var g=e.current;for(W=g;W!==null;){a=W;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,W=v;else e:for(a=g;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:No(9,l)}}catch(E){Fe(l,l.return,E)}if(l===a){W=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,W=k;break e}W=l.return}}if(ge=i,Mr(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(xo,e)}catch{}r=!0}return r}finally{ke=n,nn.transition=t}}return!1}function rp(e,t,n){t=cs(n,t),t=z0(e,t,1),e=jr(e,t,1),t=xt(),e!==null&&(Aa(e,1,t),Rt(e,t))}function Fe(e,t,n){if(e.tag===3)rp(e,e,n);else for(;t!==null;){if(t.tag===3){rp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nr===null||!Nr.has(r))){e=cs(n,e),e=D0(t,e,1),t=jr(t,e,1),e=xt(),t!==null&&(Aa(t,1,e),Rt(t,e));break}}t=t.return}}function kb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=xt(),e.pingedLanes|=e.suspendedLanes&n,et===e&&(rt&n)===n&&(Xe===4||Xe===3&&(rt&130023424)===rt&&500>$e()-rf?ai(e,0):nf|=n),Rt(e,t)}function sy(e,t){t===0&&(e.mode&1?(t=Za,Za<<=1,!(Za&130023424)&&(Za=4194304)):t=1);var n=xt();e=Jn(e,t),e!==null&&(Aa(e,t,n),Rt(e,n))}function Sb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sy(e,n)}function Cb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),sy(e,n)}var ay;ay=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_t.current)Pt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pt=!1,db(e,t,n);Pt=!!(e.flags&131072)}else Pt=!1,Te&&t.flags&1048576&&c0(t,Ql,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;jl(e,t),e=t.pendingProps;var i=as(t,dt.current);Hi(t,n),i=Xd(null,t,r,e,i,n);var s=Jd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tt(r)?(s=!0,Vl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Kd(t),i.updater=jo,t.stateNode=i,i._reactInternals=t,xc(t,r,e,n),t=wc(null,t,r,!0,s,n)):(t.tag=0,Te&&s&&zd(t),gt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(jl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Nb(r),e=on(r,e),i){case 0:t=bc(null,t,r,e,n);break e;case 1:t=Wh(null,t,r,e,n);break e;case 11:t=Kh(null,t,r,e,n);break e;case 14:t=Vh(null,t,r,on(r.type,e),n);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),bc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),Wh(e,t,r,i,n);case 3:e:{if(H0(t),e===null)throw Error(z(387));r=t.pendingProps,s=t.memoizedState,i=s.element,g0(e,t),Jl(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=cs(Error(z(423)),t),t=Qh(e,t,r,n,i);break e}else if(r!==i){i=cs(Error(z(424)),t),t=Qh(e,t,r,n,i);break e}else for(Ut=Cr(t.stateNode.containerInfo.firstChild),Ht=t,Te=!0,fn=null,n=p0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ls(),r===i){t=Yn(e,t,n);break e}gt(e,t,r,n)}t=t.child}return t;case 5:return y0(t),e===null&&mc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,cc(r,i)?a=null:s!==null&&cc(r,s)&&(t.flags|=32),B0(e,t),gt(e,t,a,n),t.child;case 6:return e===null&&mc(t),null;case 13:return q0(e,t,n);case 4:return Vd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=os(t,null,r,n):gt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),Kh(e,t,r,i,n);case 7:return gt(e,t,t.pendingProps,n),t.child;case 8:return gt(e,t,t.pendingProps.children,n),t.child;case 12:return gt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ce(Gl,r._currentValue),r._currentValue=a,s!==null)if(mn(s.value,a)){if(s.children===i.children&&!_t.current){t=Yn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Vn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),gc(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(z(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),gc(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}gt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Hi(t,n),i=rn(i),r=r(i),t.flags|=1,gt(e,t,r,n),t.child;case 14:return r=t.type,i=on(r,t.pendingProps),i=on(r.type,i),Vh(e,t,r,i,n);case 15:return $0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),jl(e,t),t.tag=1,Tt(r)?(e=!0,Vl(t)):e=!1,Hi(t,n),F0(t,r,i),xc(t,r,i,n),wc(null,t,r,!0,e,n);case 19:return K0(e,t,n);case 22:return U0(e,t,n)}throw Error(z(156,t.tag))};function ly(e,t){return Ag(e,t)}function jb(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,n,r){return new jb(e,t,n,r)}function of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nb(e){if(typeof e=="function")return of(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nd)return 11;if(e===Ed)return 14}return 2}function Pr(e,t){var n=e.alternate;return n===null?(n=en(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pl(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")of(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ei:return li(n.children,i,s,t);case jd:a=8,i|=8;break;case Bu:return e=en(12,n,t,i|2),e.elementType=Bu,e.lanes=s,e;case Hu:return e=en(13,n,t,i),e.elementType=Hu,e.lanes=s,e;case qu:return e=en(19,n,t,i),e.elementType=qu,e.lanes=s,e;case yg:return Po(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mg:a=10;break e;case gg:a=9;break e;case Nd:a=11;break e;case Ed:a=14;break e;case sr:a=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=en(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function li(e,t,n,r){return e=en(7,e,r,t),e.lanes=n,e}function Po(e,t,n,r){return e=en(22,e,r,t),e.elementType=yg,e.lanes=n,e.stateNode={isHidden:!1},e}function vu(e,t,n){return e=en(6,e,null,t),e.lanes=n,e}function bu(e,t,n){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Eb(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eu(0),this.expirationTimes=eu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uf(e,t,n,r,i,s,a,l,u){return e=new Eb(e,t,n,l,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=en(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kd(s),e}function Pb(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ni,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function oy(e){if(!e)return Lr;e=e._reactInternals;e:{if(xi(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(Tt(n))return o0(e,n,t)}return t}function uy(e,t,n,r,i,s,a,l,u){return e=uf(n,r,!0,e,i,s,a,l,u),e.context=oy(null),n=e.current,r=xt(),i=Er(n),s=Vn(r,i),s.callback=t??null,jr(n,s,i),e.current.lanes=i,Aa(e,i,r),Rt(e,r),e}function _o(e,t,n,r){var i=t.current,s=xt(),a=Er(i);return n=oy(n),t.context===null?t.context=n:t.pendingContext=n,t=Vn(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=jr(i,t,a),e!==null&&(pn(e,i,a,s),kl(e,i,a)),a}function so(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ip(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cf(e,t){ip(e,t),(e=e.alternate)&&ip(e,t)}function _b(){return null}var cy=typeof reportError=="function"?reportError:function(e){console.error(e)};function df(e){this._internalRoot=e}To.prototype.render=df.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));_o(e,t,null,null)};To.prototype.unmount=df.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hi(function(){_o(null,e,null,null)}),t[Xn]=null}};function To(e){this._internalRoot=e}To.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ug();e={blockedOn:null,target:e,priority:t};for(var n=0;n<lr.length&&t!==0&&t<lr[n].priority;n++);lr.splice(n,0,e),n===0&&Hg(e)}};function ff(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ro(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sp(){}function Tb(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=so(a);s.call(c)}}var a=uy(t,r,e,0,null,!1,!1,"",sp);return e._reactRootContainer=a,e[Xn]=a.current,da(e.nodeType===8?e.parentNode:e),hi(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=so(u);l.call(c)}}var u=uf(e,0,!1,null,null,!1,!1,"",sp);return e._reactRootContainer=u,e[Xn]=u.current,da(e.nodeType===8?e.parentNode:e),hi(function(){_o(t,u,n,r)}),u}function Lo(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var u=so(a);l.call(u)}}_o(t,a,e,i)}else a=Tb(n,t,e,i,r);return so(a)}Dg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Bs(t.pendingLanes);n!==0&&(Td(t,n|1),Rt(t,$e()),!(ge&6)&&(ds=$e()+500,Mr()))}break;case 13:hi(function(){var r=Jn(e,1);if(r!==null){var i=xt();pn(r,e,1,i)}}),cf(e,1)}};Rd=function(e){if(e.tag===13){var t=Jn(e,134217728);if(t!==null){var n=xt();pn(t,e,134217728,n)}cf(e,134217728)}};$g=function(e){if(e.tag===13){var t=Er(e),n=Jn(e,t);if(n!==null){var r=xt();pn(n,e,t,r)}cf(e,t)}};Ug=function(){return ke};Bg=function(e,t){var n=ke;try{return ke=e,t()}finally{ke=n}};ec=function(e,t,n){switch(t){case"input":if(Wu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ko(r);if(!i)throw Error(z(90));vg(r),Wu(r,i)}}}break;case"textarea":wg(e,n);break;case"select":t=n.value,t!=null&&Di(e,!!n.multiple,t,!1)}};Pg=sf;_g=hi;var Rb={usingClientEntryPoint:!1,Events:[Ma,Ri,ko,Ng,Eg,sf]},Ms={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lb={bundleType:Ms.bundleType,version:Ms.version,rendererPackageName:Ms.rendererPackageName,rendererConfig:Ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:er.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lg(e),e===null?null:e.stateNode},findFiberByHostInstance:Ms.findFiberByHostInstance||_b,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{xo=cl.inject(Lb),Pn=cl}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rb;Kt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ff(t))throw Error(z(200));return Pb(e,t,null,n)};Kt.createRoot=function(e,t){if(!ff(e))throw Error(z(299));var n=!1,r="",i=cy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=uf(e,1,!1,null,null,n,!1,r,i),e[Xn]=t.current,da(e.nodeType===8?e.parentNode:e),new df(t)};Kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Lg(t),e=e===null?null:e.stateNode,e};Kt.flushSync=function(e){return hi(e)};Kt.hydrate=function(e,t,n){if(!Ro(t))throw Error(z(200));return Lo(null,e,t,!0,n)};Kt.hydrateRoot=function(e,t,n){if(!ff(e))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=cy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=uy(t,null,e,1,n??null,i,!1,s,a),e[Xn]=t.current,da(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new To(t)};Kt.render=function(e,t,n){if(!Ro(t))throw Error(z(200));return Lo(null,e,t,!1,n)};Kt.unmountComponentAtNode=function(e){if(!Ro(e))throw Error(z(40));return e._reactRootContainer?(hi(function(){Lo(null,null,e,!1,function(){e._reactRootContainer=null,e[Xn]=null})}),!0):!1};Kt.unstable_batchedUpdates=sf;Kt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ro(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Lo(e,t,n,!1,r)};Kt.version="18.3.1-next-f1338f8080-20240426";function dy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dy)}catch(e){console.error(e)}}dy(),dg.exports=Kt;var Ob=dg.exports,ap=Ob;$u.createRoot=ap.createRoot,$u.hydrateRoot=ap.hydrateRoot;var ys=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ab={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ur,gd,Hm,Ib=(Hm=class{constructor(){J(this,ur,Ab);J(this,gd,!1)}setTimeoutProvider(e){q(this,ur,e)}setTimeout(e,t){return S(this,ur).setTimeout(e,t)}clearTimeout(e){S(this,ur).clearTimeout(e)}setInterval(e,t){return S(this,ur).setInterval(e,t)}clearInterval(e){S(this,ur).clearInterval(e)}},ur=new WeakMap,gd=new WeakMap,Hm),Gr=new Ib;function Mb(e){setTimeout(e,0)}var pi=typeof window>"u"||"Deno"in globalThis;function yt(){}function Fb(e,t){return typeof e=="function"?e(t):e}function Oc(e){return typeof e=="number"&&e>=0&&e!==1/0}function fy(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _r(e,t){return typeof e=="function"?e(t):e}function Xt(e,t){return typeof e=="function"?e(t):e}function lp(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==hf(a,t.options))return!1}else if(!ba(t.queryKey,a))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function op(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(mi(t.options.mutationKey)!==mi(s))return!1}else if(!ba(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function hf(e,t){return((t==null?void 0:t.queryKeyHashFn)||mi)(e)}function mi(e){return JSON.stringify(e,(t,n)=>Ac(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ba(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ba(e[n],t[n])):!1}var zb=Object.prototype.hasOwnProperty;function hy(e,t){if(e===t)return e;const n=up(e)&&up(t);if(!n&&!(Ac(e)&&Ac(t)))return t;const i=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),a=s.length,l=n?new Array(a):{};let u=0;for(let c=0;c<a;c++){const d=n?c:s[c],f=e[d],p=t[d];if(f===p){l[d]=f,(n?c<i:zb.call(e,d))&&u++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){l[d]=p;continue}const h=hy(f,p);l[d]=h,h===f&&u++}return i===a&&u===i?e:l}function ao(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function up(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ac(e){if(!cp(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!cp(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function cp(e){return Object.prototype.toString.call(e)==="[object Object]"}function Db(e){return new Promise(t=>{Gr.setTimeout(t,e)})}function Ic(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?hy(e,t):t}function $b(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Ub(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var pf=Symbol();function py(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===pf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function mf(e,t){return typeof e=="function"?e(...t):!!e}function Bb(e,t,n){let r=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??(i=t()),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),e}var Jr,cr,Wi,qm,Hb=(qm=class extends ys{constructor(){super();J(this,Jr);J(this,cr);J(this,Wi);q(this,Wi,t=>{if(!pi&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){S(this,cr)||this.setEventListener(S(this,Wi))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,cr))==null||t.call(this),q(this,cr,void 0))}setEventListener(t){var n;q(this,Wi,t),(n=S(this,cr))==null||n.call(this),q(this,cr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){S(this,Jr)!==t&&(q(this,Jr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof S(this,Jr)=="boolean"?S(this,Jr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Jr=new WeakMap,cr=new WeakMap,Wi=new WeakMap,qm),gf=new Hb;function Mc(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var qb=Mb;function Kb(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=qb;const s=l=>{t?e.push(l):i(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||a()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Ge=Kb(),Qi,dr,Gi,Km,Vb=(Km=class extends ys{constructor(){super();J(this,Qi,!0);J(this,dr);J(this,Gi);q(this,Gi,t=>{if(!pi&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){S(this,dr)||this.setEventListener(S(this,Gi))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,dr))==null||t.call(this),q(this,dr,void 0))}setEventListener(t){var n;q(this,Gi,t),(n=S(this,dr))==null||n.call(this),q(this,dr,t(this.setOnline.bind(this)))}setOnline(t){S(this,Qi)!==t&&(q(this,Qi,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return S(this,Qi)}},Qi=new WeakMap,dr=new WeakMap,Gi=new WeakMap,Km),lo=new Vb;function Wb(e){return Math.min(1e3*2**e,3e4)}function my(e){return(e??"online")==="online"?lo.isOnline():!0}var Fc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function gy(e){let t=!1,n=0,r;const i=Mc(),s=()=>i.status!=="pending",a=x=>{var b;if(!s()){const y=new Fc(x);p(y),(b=e.onCancel)==null||b.call(e,y)}},l=()=>{t=!0},u=()=>{t=!1},c=()=>gf.isFocused()&&(e.networkMode==="always"||lo.isOnline())&&e.canRun(),d=()=>my(e.networkMode)&&e.canRun(),f=x=>{s()||(r==null||r(),i.resolve(x))},p=x=>{s()||(r==null||r(),i.reject(x))},h=()=>new Promise(x=>{var b;r=y=>{(s()||c())&&x(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;r=void 0,s()||(x=e.onContinue)==null||x.call(e)}),m=()=>{if(s())return;let x;const b=n===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(y){x=Promise.reject(y)}Promise.resolve(x).then(f).catch(y=>{var j;if(s())return;const g=e.retry??(pi?0:3),v=e.retryDelay??Wb,k=typeof v=="function"?v(n,y):v,E=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,y);if(t||!E){p(y);return}n++,(j=e.onFail)==null||j.call(e,n,y),Db(k).then(()=>c()?void 0:h()).then(()=>{t?p(y):m()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?m():h().then(m),i)}}var Yr,Vm,yy=(Vm=class{constructor(){J(this,Yr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Oc(this.gcTime)&&q(this,Yr,Gr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(pi?1/0:5*60*1e3))}clearGcTimeout(){S(this,Yr)&&(Gr.clearTimeout(S(this,Yr)),q(this,Yr,void 0))}},Yr=new WeakMap,Vm),Zr,Xi,Gt,ei,Ye,Pa,ti,un,Fn,Wm,Qb=(Wm=class extends yy{constructor(t){super();J(this,un);J(this,Zr);J(this,Xi);J(this,Gt);J(this,ei);J(this,Ye);J(this,Pa);J(this,ti);q(this,ti,!1),q(this,Pa,t.defaultOptions),this.setOptions(t.options),this.observers=[],q(this,ei,t.client),q(this,Gt,S(this,ei).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,q(this,Zr,fp(this.options)),this.state=t.state??S(this,Zr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=S(this,Ye))==null?void 0:t.promise}setOptions(t){if(this.options={...S(this,Pa),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=fp(this.options);n.data!==void 0&&(this.setState(dp(n.data,n.dataUpdatedAt)),q(this,Zr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,Gt).remove(this)}setData(t,n){const r=Ic(this.state.data,t,this.options);return ae(this,un,Fn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ae(this,un,Fn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=S(this,Ye))==null?void 0:r.promise;return(i=S(this,Ye))==null||i.cancel(t),n?n.then(yt).catch(yt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,Zr))}isActive(){return this.observers.some(t=>Xt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>_r(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!fy(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=S(this,Ye))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=S(this,Ye))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),S(this,Gt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(S(this,Ye)&&(S(this,ti)?S(this,Ye).cancel({revert:!0}):S(this,Ye).cancelRetry()),this.scheduleGc()),S(this,Gt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ae(this,un,Fn).call(this,{type:"invalidate"})}async fetch(t,n){var u,c,d,f,p,h,m,x,b,y,g,v;if(this.state.fetchStatus!=="idle"&&((u=S(this,Ye))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(S(this,Ye))return S(this,Ye).continueRetry(),S(this,Ye).promise}if(t&&this.setOptions(t),!this.options.queryFn){const k=this.observers.find(E=>E.options.queryFn);k&&this.setOptions(k.options)}const r=new AbortController,i=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(q(this,ti,!0),r.signal)})},s=()=>{const k=py(this.options,n),j=(()=>{const O={client:S(this,ei),queryKey:this.queryKey,meta:this.meta};return i(O),O})();return q(this,ti,!1),this.options.persister?this.options.persister(k,j,this):k(j)},l=(()=>{const k={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:S(this,ei),state:this.state,fetchFn:s};return i(k),k})();(c=this.options.behavior)==null||c.onFetch(l,this),q(this,Xi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ae(this,un,Fn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),q(this,Ye,gy({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:k=>{k instanceof Fc&&k.revert&&this.setState({...S(this,Xi),fetchStatus:"idle"}),r.abort()},onFail:(k,E)=>{ae(this,un,Fn).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{ae(this,un,Fn).call(this,{type:"pause"})},onContinue:()=>{ae(this,un,Fn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const k=await S(this,Ye).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(h=(p=S(this,Gt).config).onSuccess)==null||h.call(p,k,this),(x=(m=S(this,Gt).config).onSettled)==null||x.call(m,k,this.state.error,this),k}catch(k){if(k instanceof Fc){if(k.silent)return S(this,Ye).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw ae(this,un,Fn).call(this,{type:"error",error:k}),(y=(b=S(this,Gt).config).onError)==null||y.call(b,k,this),(v=(g=S(this,Gt).config).onSettled)==null||v.call(g,this.state.data,k,this),k}finally{this.scheduleGc()}}},Zr=new WeakMap,Xi=new WeakMap,Gt=new WeakMap,ei=new WeakMap,Ye=new WeakMap,Pa=new WeakMap,ti=new WeakMap,un=new WeakSet,Fn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...xy(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,...dp(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return q(this,Xi,t.manual?i:void 0),i;case"error":const s=t.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ge.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),S(this,Gt).notify({query:this,type:"updated",action:t})})},Wm);function xy(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:my(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dp(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function fp(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var jt,fe,_a,pt,ni,Ji,$n,fr,Ta,Yi,Zi,ri,ii,hr,es,we,qs,zc,Dc,$c,Uc,Bc,Hc,qc,vy,Qm,Gb=(Qm=class extends ys{constructor(t,n){super();J(this,we);J(this,jt);J(this,fe);J(this,_a);J(this,pt);J(this,ni);J(this,Ji);J(this,$n);J(this,fr);J(this,Ta);J(this,Yi);J(this,Zi);J(this,ri);J(this,ii);J(this,hr);J(this,es,new Set);this.options=n,q(this,jt,t),q(this,fr,null),q(this,$n,Mc()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,fe).addObserver(this),hp(S(this,fe),this.options)?ae(this,we,qs).call(this):this.updateResult(),ae(this,we,Uc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kc(S(this,fe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kc(S(this,fe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ae(this,we,Bc).call(this),ae(this,we,Hc).call(this),S(this,fe).removeObserver(this)}setOptions(t){const n=this.options,r=S(this,fe);if(this.options=S(this,jt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xt(this.options.enabled,S(this,fe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ae(this,we,qc).call(this),S(this,fe).setOptions(this.options),n._defaulted&&!ao(this.options,n)&&S(this,jt).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,fe),observer:this});const i=this.hasListeners();i&&pp(S(this,fe),r,this.options,n)&&ae(this,we,qs).call(this),this.updateResult(),i&&(S(this,fe)!==r||Xt(this.options.enabled,S(this,fe))!==Xt(n.enabled,S(this,fe))||_r(this.options.staleTime,S(this,fe))!==_r(n.staleTime,S(this,fe)))&&ae(this,we,zc).call(this);const s=ae(this,we,Dc).call(this);i&&(S(this,fe)!==r||Xt(this.options.enabled,S(this,fe))!==Xt(n.enabled,S(this,fe))||s!==S(this,hr))&&ae(this,we,$c).call(this,s)}getOptimisticResult(t){const n=S(this,jt).getQueryCache().build(S(this,jt),t),r=this.createResult(n,t);return Jb(this,r)&&(q(this,pt,r),q(this,Ji,this.options),q(this,ni,S(this,fe).state)),r}getCurrentResult(){return S(this,pt)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&S(this,$n).status==="pending"&&S(this,$n).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(t){S(this,es).add(t)}getCurrentQuery(){return S(this,fe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=S(this,jt).defaultQueryOptions(t),r=S(this,jt).getQueryCache().build(S(this,jt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ae(this,we,qs).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,pt)))}createResult(t,n){var D;const r=S(this,fe),i=this.options,s=S(this,pt),a=S(this,ni),l=S(this,Ji),c=t!==r?t.state:S(this,_a),{state:d}=t;let f={...d},p=!1,h;if(n._optimisticResults){const L=this.hasListeners(),M=!L&&hp(t,n),F=L&&pp(t,r,n,i);(M||F)&&(f={...f,...xy(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:m,errorUpdatedAt:x,status:b}=f;h=f.data;let y=!1;if(n.placeholderData!==void 0&&h===void 0&&b==="pending"){let L;s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(L=s.data,y=!0):L=typeof n.placeholderData=="function"?n.placeholderData((D=S(this,Zi))==null?void 0:D.state.data,S(this,Zi)):n.placeholderData,L!==void 0&&(b="success",h=Ic(s==null?void 0:s.data,L,n),p=!0)}if(n.select&&h!==void 0&&!y)if(s&&h===(a==null?void 0:a.data)&&n.select===S(this,Ta))h=S(this,Yi);else try{q(this,Ta,n.select),h=n.select(h),h=Ic(s==null?void 0:s.data,h,n),q(this,Yi,h),q(this,fr,null)}catch(L){q(this,fr,L)}S(this,fr)&&(m=S(this,fr),h=S(this,Yi),x=Date.now(),b="error");const g=f.fetchStatus==="fetching",v=b==="pending",k=b==="error",E=v&&g,j=h!==void 0,P={status:b,fetchStatus:f.fetchStatus,isPending:v,isSuccess:b==="success",isError:k,isInitialLoading:E,isLoading:E,data:h,dataUpdatedAt:f.dataUpdatedAt,error:m,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:g,isRefetching:g&&!v,isLoadingError:k&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:k&&j,isStale:yf(t,n),refetch:this.refetch,promise:S(this,$n),isEnabled:Xt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const L=H=>{P.status==="error"?H.reject(P.error):P.data!==void 0&&H.resolve(P.data)},M=()=>{const H=q(this,$n,P.promise=Mc());L(H)},F=S(this,$n);switch(F.status){case"pending":t.queryHash===r.queryHash&&L(F);break;case"fulfilled":(P.status==="error"||P.data!==F.value)&&M();break;case"rejected":(P.status!=="error"||P.error!==F.reason)&&M();break}}return P}updateResult(){const t=S(this,pt),n=this.createResult(S(this,fe),this.options);if(q(this,ni,S(this,fe).state),q(this,Ji,this.options),S(this,ni).data!==void 0&&q(this,Zi,S(this,fe)),ao(n,t))return;q(this,pt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!S(this,es).size)return!0;const a=new Set(s??S(this,es));return this.options.throwOnError&&a.add("error"),Object.keys(S(this,pt)).some(l=>{const u=l;return S(this,pt)[u]!==t[u]&&a.has(u)})};ae(this,we,vy).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ae(this,we,Uc).call(this)}},jt=new WeakMap,fe=new WeakMap,_a=new WeakMap,pt=new WeakMap,ni=new WeakMap,Ji=new WeakMap,$n=new WeakMap,fr=new WeakMap,Ta=new WeakMap,Yi=new WeakMap,Zi=new WeakMap,ri=new WeakMap,ii=new WeakMap,hr=new WeakMap,es=new WeakMap,we=new WeakSet,qs=function(t){ae(this,we,qc).call(this);let n=S(this,fe).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(yt)),n},zc=function(){ae(this,we,Bc).call(this);const t=_r(this.options.staleTime,S(this,fe));if(pi||S(this,pt).isStale||!Oc(t))return;const r=fy(S(this,pt).dataUpdatedAt,t)+1;q(this,ri,Gr.setTimeout(()=>{S(this,pt).isStale||this.updateResult()},r))},Dc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,fe)):this.options.refetchInterval)??!1},$c=function(t){ae(this,we,Hc).call(this),q(this,hr,t),!(pi||Xt(this.options.enabled,S(this,fe))===!1||!Oc(S(this,hr))||S(this,hr)===0)&&q(this,ii,Gr.setInterval(()=>{(this.options.refetchIntervalInBackground||gf.isFocused())&&ae(this,we,qs).call(this)},S(this,hr)))},Uc=function(){ae(this,we,zc).call(this),ae(this,we,$c).call(this,ae(this,we,Dc).call(this))},Bc=function(){S(this,ri)&&(Gr.clearTimeout(S(this,ri)),q(this,ri,void 0))},Hc=function(){S(this,ii)&&(Gr.clearInterval(S(this,ii)),q(this,ii,void 0))},qc=function(){const t=S(this,jt).getQueryCache().build(S(this,jt),this.options);if(t===S(this,fe))return;const n=S(this,fe);q(this,fe,t),q(this,_a,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},vy=function(t){Ge.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(S(this,pt))}),S(this,jt).getQueryCache().notify({query:S(this,fe),type:"observerResultsUpdated"})})},Qm);function Xb(e,t){return Xt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function hp(e,t){return Xb(e,t)||e.state.data!==void 0&&Kc(e,t,t.refetchOnMount)}function Kc(e,t,n){if(Xt(t.enabled,e)!==!1&&_r(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&yf(e,t)}return!1}function pp(e,t,n,r){return(e!==t||Xt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&yf(e,n)}function yf(e,t){return Xt(t.enabled,e)!==!1&&e.isStaleByTime(_r(t.staleTime,e))}function Jb(e,t){return!ao(e.getCurrentResult(),t)}function mp(e){return{onFetch:(t,n)=>{var d,f,p,h,m;const r=t.options,i=(p=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,s=((h=t.state.data)==null?void 0:h.pages)||[],a=((m=t.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let x=!1;const b=v=>{Bb(v,()=>t.signal,()=>x=!0)},y=py(t.options,t.fetchOptions),g=async(v,k,E)=>{if(x)return Promise.reject();if(k==null&&v.pages.length)return Promise.resolve(v);const O=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:k,direction:E?"backward":"forward",meta:t.options.meta};return b(M),M})(),P=await y(O),{maxPages:D}=t.options,L=E?Ub:$b;return{pages:L(v.pages,P,D),pageParams:L(v.pageParams,k,D)}};if(i&&s.length){const v=i==="backward",k=v?Yb:gp,E={pages:s,pageParams:a},j=k(r,E);l=await g(E,j,v)}else{const v=e??s.length;do{const k=u===0?a[0]??r.initialPageParam:gp(r,l);if(u>0&&k==null)break;l=await g(l,k),u++}while(u<v)}return l};t.options.persister?t.fetchFn=()=>{var x,b;return(b=(x=t.options).persister)==null?void 0:b.call(x,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function gp(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Yb(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ra,Sn,mt,si,Cn,ir,Gm,Zb=(Gm=class extends yy{constructor(t){super();J(this,Cn);J(this,Ra);J(this,Sn);J(this,mt);J(this,si);q(this,Ra,t.client),this.mutationId=t.mutationId,q(this,mt,t.mutationCache),q(this,Sn,[]),this.state=t.state||by(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){S(this,Sn).includes(t)||(S(this,Sn).push(t),this.clearGcTimeout(),S(this,mt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){q(this,Sn,S(this,Sn).filter(n=>n!==t)),this.scheduleGc(),S(this,mt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){S(this,Sn).length||(this.state.status==="pending"?this.scheduleGc():S(this,mt).remove(this))}continue(){var t;return((t=S(this,si))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,u,c,d,f,p,h,m,x,b,y,g,v,k,E,j,O,P,D;const n=()=>{ae(this,Cn,ir).call(this,{type:"continue"})},r={client:S(this,Ra),meta:this.options.meta,mutationKey:this.options.mutationKey};q(this,si,gy({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(L,M)=>{ae(this,Cn,ir).call(this,{type:"failed",failureCount:L,error:M})},onPause:()=>{ae(this,Cn,ir).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,mt).canRun(this)}));const i=this.state.status==="pending",s=!S(this,si).canStart();try{if(i)n();else{ae(this,Cn,ir).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(a=S(this,mt).config).onMutate)==null?void 0:l.call(a,t,this,r));const M=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t,r));M!==this.state.context&&ae(this,Cn,ir).call(this,{type:"pending",context:M,variables:t,isPaused:s})}const L=await S(this,si).start();return await((f=(d=S(this,mt).config).onSuccess)==null?void 0:f.call(d,L,t,this.state.context,this,r)),await((h=(p=this.options).onSuccess)==null?void 0:h.call(p,L,t,this.state.context,r)),await((x=(m=S(this,mt).config).onSettled)==null?void 0:x.call(m,L,null,this.state.variables,this.state.context,this,r)),await((y=(b=this.options).onSettled)==null?void 0:y.call(b,L,null,t,this.state.context,r)),ae(this,Cn,ir).call(this,{type:"success",data:L}),L}catch(L){try{await((v=(g=S(this,mt).config).onError)==null?void 0:v.call(g,L,t,this.state.context,this,r))}catch(M){Promise.reject(M)}try{await((E=(k=this.options).onError)==null?void 0:E.call(k,L,t,this.state.context,r))}catch(M){Promise.reject(M)}try{await((O=(j=S(this,mt).config).onSettled)==null?void 0:O.call(j,void 0,L,this.state.variables,this.state.context,this,r))}catch(M){Promise.reject(M)}try{await((D=(P=this.options).onSettled)==null?void 0:D.call(P,void 0,L,t,this.state.context,r))}catch(M){Promise.reject(M)}throw ae(this,Cn,ir).call(this,{type:"error",error:L}),L}finally{S(this,mt).runNext(this)}}},Ra=new WeakMap,Sn=new WeakMap,mt=new WeakMap,si=new WeakMap,Cn=new WeakSet,ir=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ge.batch(()=>{S(this,Sn).forEach(r=>{r.onMutationUpdate(t)}),S(this,mt).notify({mutation:this,type:"updated",action:t})})},Gm);function by(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Un,cn,La,Xm,ew=(Xm=class extends ys{constructor(t={}){super();J(this,Un);J(this,cn);J(this,La);this.config=t,q(this,Un,new Set),q(this,cn,new Map),q(this,La,0)}build(t,n,r){const i=new Zb({client:t,mutationCache:this,mutationId:++Wa(this,La)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){S(this,Un).add(t);const n=dl(t);if(typeof n=="string"){const r=S(this,cn).get(n);r?r.push(t):S(this,cn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(S(this,Un).delete(t)){const n=dl(t);if(typeof n=="string"){const r=S(this,cn).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&S(this,cn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=dl(t);if(typeof n=="string"){const r=S(this,cn).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=dl(t);if(typeof n=="string"){const i=(r=S(this,cn).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ge.batch(()=>{S(this,Un).forEach(t=>{this.notify({type:"removed",mutation:t})}),S(this,Un).clear(),S(this,cn).clear()})}getAll(){return Array.from(S(this,Un))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>op(n,r))}findAll(t={}){return this.getAll().filter(n=>op(t,n))}notify(t){Ge.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ge.batch(()=>Promise.all(t.map(n=>n.continue().catch(yt))))}},Un=new WeakMap,cn=new WeakMap,La=new WeakMap,Xm);function dl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Bn,pr,Nt,Hn,Qn,_l,Vc,Jm,tw=(Jm=class extends ys{constructor(n,r){super();J(this,Qn);J(this,Bn);J(this,pr);J(this,Nt);J(this,Hn);q(this,Bn,n),this.setOptions(r),this.bindMethods(),ae(this,Qn,_l).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=S(this,Bn).defaultMutationOptions(n),ao(this.options,r)||S(this,Bn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,Nt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&mi(r.mutationKey)!==mi(this.options.mutationKey)?this.reset():((i=S(this,Nt))==null?void 0:i.state.status)==="pending"&&S(this,Nt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=S(this,Nt))==null||n.removeObserver(this)}onMutationUpdate(n){ae(this,Qn,_l).call(this),ae(this,Qn,Vc).call(this,n)}getCurrentResult(){return S(this,pr)}reset(){var n;(n=S(this,Nt))==null||n.removeObserver(this),q(this,Nt,void 0),ae(this,Qn,_l).call(this),ae(this,Qn,Vc).call(this)}mutate(n,r){var i;return q(this,Hn,r),(i=S(this,Nt))==null||i.removeObserver(this),q(this,Nt,S(this,Bn).getMutationCache().build(S(this,Bn),this.options)),S(this,Nt).addObserver(this),S(this,Nt).execute(n)}},Bn=new WeakMap,pr=new WeakMap,Nt=new WeakMap,Hn=new WeakMap,Qn=new WeakSet,_l=function(){var r;const n=((r=S(this,Nt))==null?void 0:r.state)??by();q(this,pr,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Vc=function(n){Ge.batch(()=>{var r,i,s,a,l,u,c,d;if(S(this,Hn)&&this.hasListeners()){const f=S(this,pr).variables,p=S(this,pr).context,h={client:S(this,Bn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(i=(r=S(this,Hn)).onSuccess)==null||i.call(r,n.data,f,p,h)}catch(m){Promise.reject(m)}try{(a=(s=S(this,Hn)).onSettled)==null||a.call(s,n.data,null,f,p,h)}catch(m){Promise.reject(m)}}else if((n==null?void 0:n.type)==="error"){try{(u=(l=S(this,Hn)).onError)==null||u.call(l,n.error,f,p,h)}catch(m){Promise.reject(m)}try{(d=(c=S(this,Hn)).onSettled)==null||d.call(c,void 0,n.error,f,p,h)}catch(m){Promise.reject(m)}}}this.listeners.forEach(f=>{f(S(this,pr))})})},Jm),jn,Ym,nw=(Ym=class extends ys{constructor(t={}){super();J(this,jn);this.config=t,q(this,jn,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??hf(i,n);let a=this.get(s);return a||(a=new Qb({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){S(this,jn).has(t.queryHash)||(S(this,jn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=S(this,jn).get(t.queryHash);n&&(t.destroy(),n===t&&S(this,jn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ge.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return S(this,jn).get(t)}getAll(){return[...S(this,jn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>lp(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>lp(t,r)):n}notify(t){Ge.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ge.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ge.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},jn=new WeakMap,Ym),Me,mr,gr,ts,ns,yr,rs,is,Zm,rw=(Zm=class{constructor(e={}){J(this,Me);J(this,mr);J(this,gr);J(this,ts);J(this,ns);J(this,yr);J(this,rs);J(this,is);q(this,Me,e.queryCache||new nw),q(this,mr,e.mutationCache||new ew),q(this,gr,e.defaultOptions||{}),q(this,ts,new Map),q(this,ns,new Map),q(this,yr,0)}mount(){Wa(this,yr)._++,S(this,yr)===1&&(q(this,rs,gf.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,Me).onFocus())})),q(this,is,lo.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,Me).onOnline())})))}unmount(){var e,t;Wa(this,yr)._--,S(this,yr)===0&&((e=S(this,rs))==null||e.call(this),q(this,rs,void 0),(t=S(this,is))==null||t.call(this),q(this,is,void 0))}isFetching(e){return S(this,Me).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return S(this,mr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=S(this,Me).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=S(this,Me).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(_r(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return S(this,Me).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=S(this,Me).get(r.queryHash),s=i==null?void 0:i.state.data,a=Fb(t,s);if(a!==void 0)return S(this,Me).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Ge.batch(()=>S(this,Me).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=S(this,Me).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=S(this,Me);Ge.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=S(this,Me);return Ge.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ge.batch(()=>S(this,Me).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(yt).catch(yt)}invalidateQueries(e,t={}){return Ge.batch(()=>(S(this,Me).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ge.batch(()=>S(this,Me).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(yt)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(yt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=S(this,Me).build(this,t);return n.isStaleByTime(_r(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(yt).catch(yt)}fetchInfiniteQuery(e){return e.behavior=mp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(yt).catch(yt)}ensureInfiniteQueryData(e){return e.behavior=mp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return lo.isOnline()?S(this,mr).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,Me)}getMutationCache(){return S(this,mr)}getDefaultOptions(){return S(this,gr)}setDefaultOptions(e){q(this,gr,e)}setQueryDefaults(e,t){S(this,ts).set(mi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...S(this,ts).values()],n={};return t.forEach(r=>{ba(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){S(this,ns).set(mi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...S(this,ns).values()],n={};return t.forEach(r=>{ba(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...S(this,gr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=hf(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===pf&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...S(this,gr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){S(this,Me).clear(),S(this,mr).clear()}},Me=new WeakMap,mr=new WeakMap,gr=new WeakMap,ts=new WeakMap,ns=new WeakMap,yr=new WeakMap,rs=new WeakMap,is=new WeakMap,Zm),wy=N.createContext(void 0),Fr=e=>{const t=N.useContext(wy);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},iw=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(wy.Provider,{value:e,children:t})),ky=N.createContext(!1),sw=()=>N.useContext(ky);ky.Provider;function aw(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var lw=N.createContext(aw()),ow=()=>N.useContext(lw),uw=(e,t,n)=>{const r=n!=null&&n.state.error&&typeof e.throwOnError=="function"?mf(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},cw=e=>{N.useEffect(()=>{e.clearReset()},[e])},dw=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||mf(n,[e.error,r])),fw=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},hw=(e,t)=>e.isLoading&&e.isFetching&&!t,pw=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,yp=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function mw(e,t,n){var p,h,m,x;const r=sw(),i=ow(),s=Fr(),a=s.defaultQueryOptions(e);(h=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||h.call(p,a);const l=s.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",fw(a),uw(a,i,l),cw(i);const u=!s.getQueryCache().get(a.queryHash),[c]=N.useState(()=>new t(s,a)),d=c.getOptimisticResult(a),f=!r&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(b=>{const y=f?c.subscribe(Ge.batchCalls(b)):yt;return c.updateResult(),y},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),N.useEffect(()=>{c.setOptions(a)},[a,c]),pw(a,d))throw yp(a,c,i);if(dw({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:l,suspense:a.suspense}))throw d.error;if((x=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||x.call(m,a,d),a.experimental_prefetchInRender&&!pi&&hw(d,r)){const b=u?yp(a,c,i):l==null?void 0:l.promise;b==null||b.catch(yt).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?d:c.trackResult(d)}function me(e,t){return mw(e,Gb)}function Ue(e,t){const n=Fr(),[r]=N.useState(()=>new tw(n,e));N.useEffect(()=>{r.setOptions(e)},[r,e]);const i=N.useSyncExternalStore(N.useCallback(a=>r.subscribe(Ge.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=N.useCallback((a,l)=>{r.mutate(a,l).catch(yt)},[r]);if(i.error&&mf(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wa(){return wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wa.apply(this,arguments)}var br;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(br||(br={}));const xp="popstate";function gw(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:l}=r.location;return Wc("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:oo(i)}return xw(t,n,null,e)}function Be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yw(){return Math.random().toString(36).substr(2,8)}function vp(e,t){return{usr:e.state,key:e.key,idx:t}}function Wc(e,t,n,r){return n===void 0&&(n=null),wa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xs(t):t,{state:n,key:t&&t.key||r||yw()})}function oo(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xw(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=br.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(wa({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=br.Pop;let b=d(),y=b==null?null:b-c;c=b,u&&u({action:l,location:x.location,delta:y})}function p(b,y){l=br.Push;let g=Wc(x.location,b,y);c=d()+1;let v=vp(g,c),k=x.createHref(g);try{a.pushState(v,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(k)}s&&u&&u({action:l,location:x.location,delta:1})}function h(b,y){l=br.Replace;let g=Wc(x.location,b,y);c=d();let v=vp(g,c),k=x.createHref(g);a.replaceState(v,"",k),s&&u&&u({action:l,location:x.location,delta:0})}function m(b){let y=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof b=="string"?b:oo(b);return g=g.replace(/ $/,"%20"),Be(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let x={get action(){return l},get location(){return e(i,a)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(xp,f),u=b,()=>{i.removeEventListener(xp,f),u=null}},createHref(b){return t(i,b)},createURL:m,encodeLocation(b){let y=m(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:h,go(b){return a.go(b)}};return x}var bp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bp||(bp={}));function vw(e,t,n){return n===void 0&&(n="/"),bw(e,t,n)}function bw(e,t,n,r){let i=typeof t=="string"?xs(t):t,s=vf(i.pathname||"/",n);if(s==null)return null;let a=Sy(e);ww(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=Ow(s);l=Tw(a[u],c)}return l}function Sy(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Be(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Tr([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(Be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Sy(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:Pw(c,s.index),routesMeta:d})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let u of Cy(s.path))i(s,a,u)}),t}function Cy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Cy(r.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function ww(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_w(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kw=/^:[\w-]+$/,Sw=3,Cw=2,jw=1,Nw=10,Ew=-2,wp=e=>e==="*";function Pw(e,t){let n=e.split("/"),r=n.length;return n.some(wp)&&(r+=Ew),t&&(r+=Cw),n.filter(i=>!wp(i)).reduce((i,s)=>i+(kw.test(s)?Sw:s===""?jw:Nw),r)}function _w(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Tw(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=Rw({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Tr([s,f.pathname]),pathnameBase:zw(Tr([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Tr([s,f.pathnameBase]))}return a}function Rw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Lw(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:h}=d;if(p==="*"){let x=l[f]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const m=l[f];return h&&!m?c[p]=void 0:c[p]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function Lw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),xf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Ow(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Aw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iw=e=>Aw.test(e);function Mw(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?xs(e):e,s;if(n)if(Iw(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),xf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=kp(n.substring(1),"/"):s=kp(n,t)}else s=t;return{pathname:s,search:Dw(r),hash:$w(i)}}function kp(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function bf(e,t){let n=Fw(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wf(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=xs(e):(i=wa({},e),Be(!i.pathname||!i.pathname.includes("?"),wu("?","pathname","search",i)),Be(!i.pathname||!i.pathname.includes("#"),wu("#","pathname","hash",i)),Be(!i.search||!i.search.includes("#"),wu("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}l=f>=0?t[f]:"/"}let u=Mw(i,l),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Tr=e=>e.join("/").replace(/\/\/+/g,"/"),zw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$w=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Uw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jy=["post","put","patch","delete"];new Set(jy);const Bw=["get",...jy];new Set(Bw);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ka.apply(this,arguments)}const kf=N.createContext(null),Hw=N.createContext(null),zr=N.createContext(null),Oo=N.createContext(null),Ln=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Ny=N.createContext(null);function qw(e,t){let{relative:n}=t===void 0?{}:t;vs()||Be(!1);let{basename:r,navigator:i}=N.useContext(zr),{hash:s,pathname:a,search:l}=_y(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Tr([r,a])),i.createHref({pathname:u,search:l,hash:s})}function vs(){return N.useContext(Oo)!=null}function vi(){return vs()||Be(!1),N.useContext(Oo).location}function Ey(e){N.useContext(zr).static||N.useLayoutEffect(e)}function bs(){let{isDataRoute:e}=N.useContext(Ln);return e?ik():Kw()}function Kw(){vs()||Be(!1);let e=N.useContext(kf),{basename:t,future:n,navigator:r}=N.useContext(zr),{matches:i}=N.useContext(Ln),{pathname:s}=vi(),a=JSON.stringify(bf(i,n.v7_relativeSplatPath)),l=N.useRef(!1);return Ey(()=>{l.current=!0}),N.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let f=wf(c,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Tr([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,s,e])}const Py=N.createContext(null);function Ao(){return N.useContext(Py)}function Vw(e){let t=N.useContext(Ln).outlet;return t&&N.createElement(Py.Provider,{value:e},t)}function bi(){let{matches:e}=N.useContext(Ln),t=e[e.length-1];return t?t.params:{}}function _y(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=N.useContext(zr),{matches:i}=N.useContext(Ln),{pathname:s}=vi(),a=JSON.stringify(bf(i,r.v7_relativeSplatPath));return N.useMemo(()=>wf(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function Ww(e,t){return Qw(e,t)}function Qw(e,t,n,r){vs()||Be(!1);let{navigator:i}=N.useContext(zr),{matches:s}=N.useContext(Ln),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=vi(),d;if(t){var f;let b=typeof t=="string"?xs(t):t;u==="/"||(f=b.pathname)!=null&&f.startsWith(u)||Be(!1),d=b}else d=c;let p=d.pathname||"/",h=p;if(u!=="/"){let b=u.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=vw(e,{pathname:h}),x=Zw(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Tr([u,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:Tr([u,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return t&&x?N.createElement(Oo.Provider,{value:{location:ka({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:br.Pop}},x):x}function Gw(){let e=rk(),t=Uw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:i},n):null,null)}const Xw=N.createElement(Gw,null);class Jw extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?N.createElement(Ln.Provider,{value:this.props.routeContext},N.createElement(Ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Yw(e){let{routeContext:t,match:n,children:r}=e,i=N.useContext(kf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Ln.Provider,{value:t},r)}function Zw(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Be(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:h}=n,m=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||m){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,p)=>{let h,m=!1,x=null,b=null;n&&(h=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||Xw,u&&(c<0&&p===0?(sk("route-fallback"),m=!0,b=null):c===p&&(m=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,p+1)),g=()=>{let v;return h?v=x:m?v=b:f.route.Component?v=N.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,N.createElement(Yw,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?N.createElement(Jw,{location:n.location,revalidation:n.revalidation,component:x,error:h,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var Ty=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ty||{}),Ry=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ry||{});function ek(e){let t=N.useContext(kf);return t||Be(!1),t}function tk(e){let t=N.useContext(Hw);return t||Be(!1),t}function nk(e){let t=N.useContext(Ln);return t||Be(!1),t}function Ly(e){let t=nk(),n=t.matches[t.matches.length-1];return n.route.id||Be(!1),n.route.id}function rk(){var e;let t=N.useContext(Ny),n=tk(),r=Ly();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ik(){let{router:e}=ek(Ty.UseNavigateStable),t=Ly(Ry.UseNavigateStable),n=N.useRef(!1);return Ey(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ka({fromRouteId:t},s)))},[e,t])}const Sp={};function sk(e,t,n){Sp[e]||(Sp[e]=!0)}function ak(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function lk(e){let{to:t,replace:n,state:r,relative:i}=e;vs()||Be(!1);let{future:s,static:a}=N.useContext(zr),{matches:l}=N.useContext(Ln),{pathname:u}=vi(),c=bs(),d=wf(t,bf(l,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(d);return N.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function ok(e){return Vw(e.context)}function Qt(e){Be(!1)}function uk(e){let{basename:t="/",children:n=null,location:r,navigationType:i=br.Pop,navigator:s,static:a=!1,future:l}=e;vs()&&Be(!1);let u=t.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:u,navigator:s,static:a,future:ka({v7_relativeSplatPath:!1},l)}),[u,l,s,a]);typeof r=="string"&&(r=xs(r));let{pathname:d="/",search:f="",hash:p="",state:h=null,key:m="default"}=r,x=N.useMemo(()=>{let b=vf(d,u);return b==null?null:{location:{pathname:b,search:f,hash:p,state:h,key:m},navigationType:i}},[u,d,f,p,h,m,i]);return x==null?null:N.createElement(zr.Provider,{value:c},N.createElement(Oo.Provider,{children:n,value:x}))}function ck(e){let{children:t,location:n}=e;return Ww(Qc(t),n)}new Promise(()=>{});function Qc(e,t){t===void 0&&(t=[]);let n=[];return N.Children.forEach(e,(r,i)=>{if(!N.isValidElement(r))return;let s=[...t,i];if(r.type===N.Fragment){n.push.apply(n,Qc(r.props.children,s));return}r.type!==Qt&&Be(!1),!r.props.index||!r.props.children||Be(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Qc(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gc.apply(this,arguments)}function dk(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function fk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hk(e,t){return e.button===0&&(!t||t==="_self")&&!fk(e)}const pk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mk="6";try{window.__reactRouterVersion=mk}catch{}const gk="startTransition",Cp=kv[gk];function yk(e){let{basename:t,children:n,future:r,window:i}=e,s=N.useRef();s.current==null&&(s.current=gw({window:i,v5Compat:!0}));let a=s.current,[l,u]=N.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},d=N.useCallback(f=>{c&&Cp?Cp(()=>u(f)):u(f)},[u,c]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.useEffect(()=>ak(r),[r]),N.createElement(uk,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const xk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tn=N.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:u,to:c,preventScrollReset:d,viewTransition:f}=t,p=dk(t,pk),{basename:h}=N.useContext(zr),m,x=!1;if(typeof c=="string"&&vk.test(c)&&(m=c,xk))try{let v=new URL(window.location.href),k=c.startsWith("//")?new URL(v.protocol+c):new URL(c),E=vf(k.pathname,h);k.origin===v.origin&&E!=null?c=E+k.search+k.hash:x=!0}catch{}let b=qw(c,{relative:i}),y=bk(c,{replace:a,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:f});function g(v){r&&r(v),v.defaultPrevented||y(v)}return N.createElement("a",Gc({},p,{href:m||b,onClick:x||s?r:g,ref:n,target:u}))});var jp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jp||(jp={}));var Np;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Np||(Np={}));function bk(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:l}=t===void 0?{}:t,u=bs(),c=vi(),d=_y(e,{relative:a});return N.useCallback(f=>{if(hk(f,n)){f.preventDefault();let p=r!==void 0?r:oo(c)===oo(d);u(e,{replace:p,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[c,u,d,r,i,n,e,s,a,l])}/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(e,t)=>{const n=N.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:u,...c},d)=>N.createElement("svg",{ref:d,...wk,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${kk(e)}`,l].join(" "),...c},[...t.map(([f,p])=>N.createElement(f,p)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ee("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=ee("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=ee("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=ee("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ee("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=ee("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=ee("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=ee("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=ee("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=ee("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=ee("PanelRightClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=ee("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=ee("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=ee("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=ee("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=ee("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$k={},Tp=e=>{let t;const n=new Set,r=(d,f)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const h=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(m=>m(t,h))}},i=()=>t,u={setState:r,getState:i,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{($k?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,i,u);return u},Uk=e=>e?Tp(e):Tp;var Dy={exports:{}},$y={},Uy={exports:{}},By={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fs=N;function Bk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hk=typeof Object.is=="function"?Object.is:Bk,qk=fs.useState,Kk=fs.useEffect,Vk=fs.useLayoutEffect,Wk=fs.useDebugValue;function Qk(e,t){var n=t(),r=qk({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return Vk(function(){i.value=n,i.getSnapshot=t,Su(i)&&s({inst:i})},[e,n,t]),Kk(function(){return Su(i)&&s({inst:i}),e(function(){Su(i)&&s({inst:i})})},[e]),Wk(n),n}function Su(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Hk(e,n)}catch{return!0}}function Gk(e,t){return t()}var Xk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Gk:Qk;By.useSyncExternalStore=fs.useSyncExternalStore!==void 0?fs.useSyncExternalStore:Xk;Uy.exports=By;var Jk=Uy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mo=N,Yk=Jk;function Zk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var eS=typeof Object.is=="function"?Object.is:Zk,tS=Yk.useSyncExternalStore,nS=Mo.useRef,rS=Mo.useEffect,iS=Mo.useMemo,sS=Mo.useDebugValue;$y.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=nS(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=iS(function(){function u(h){if(!c){if(c=!0,d=h,h=r(h),i!==void 0&&a.hasValue){var m=a.value;if(i(m,h))return f=m}return f=h}if(m=f,eS(d,h))return m;var x=r(h);return i!==void 0&&i(m,x)?(d=h,m):(d=h,f=x)}var c=!1,d,f,p=n===void 0?null:n;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,n,r,i]);var l=tS(e,s[0],s[1]);return rS(function(){a.hasValue=!0,a.value=l},[l]),sS(l),l};Dy.exports=$y;var aS=Dy.exports;const lS=go(aS),Hy={},{useDebugValue:oS}=wd,{useSyncExternalStoreWithSelector:uS}=lS;let Rp=!1;const cS=e=>e;function dS(e,t=cS,n){(Hy?"production":void 0)!=="production"&&n&&!Rp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Rp=!0);const r=uS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return oS(r),r}const fS=e=>{(Hy?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Uk(e):e,n=(r,i)=>dS(t,r,i);return Object.assign(n,t),n},qy=e=>fS,hS={};function pS(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const a=u=>u===null?null:JSON.parse(u,void 0),l=(s=n.getItem(i))!=null?s:null;return l instanceof Promise?l.then(a):a(l)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Na=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Na(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Na(r)(n)}}}},mS=(e,t)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,y)=>({...y,...b}),...t},a=!1;const l=new Set,u=new Set;let c;try{c=s.getStorage()}catch{}if(!c)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...b)},r,i);const d=Na(s.serialize),f=()=>{const b=s.partialize({...r()});let y;const g=d({state:b,version:s.version}).then(v=>c.setItem(s.name,v)).catch(v=>{y=v});if(y)throw y;return g},p=i.setState;i.setState=(b,y)=>{p(b,y),f()};const h=e((...b)=>{n(...b),f()},r,i);let m;const x=()=>{var b;if(!c)return;a=!1,l.forEach(g=>g(r()));const y=((b=s.onRehydrateStorage)==null?void 0:b.call(s,r()))||void 0;return Na(c.getItem.bind(c))(s.name).then(g=>{if(g)return s.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==s.version){if(s.migrate)return s.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var v;return m=s.merge(g,(v=r())!=null?v:h),n(m,!0),f()}).then(()=>{y==null||y(m,void 0),a=!0,u.forEach(g=>g(m))}).catch(g=>{y==null||y(void 0,g)})};return i.persist={setOptions:b=>{s={...s,...b},b.getStorage&&(c=b.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>a,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(u.add(b),()=>{u.delete(b)})},x(),m||h},gS=(e,t)=>(n,r,i)=>{let s={storage:pS(()=>localStorage),partialize:x=>x,version:0,merge:(x,b)=>({...b,...x}),...t},a=!1;const l=new Set,u=new Set;let c=s.storage;if(!c)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...x)},r,i);const d=()=>{const x=s.partialize({...r()});return c.setItem(s.name,{state:x,version:s.version})},f=i.setState;i.setState=(x,b)=>{f(x,b),d()};const p=e((...x)=>{n(...x),d()},r,i);i.getInitialState=()=>p;let h;const m=()=>{var x,b;if(!c)return;a=!1,l.forEach(g=>{var v;return g((v=r())!=null?v:p)});const y=((b=s.onRehydrateStorage)==null?void 0:b.call(s,(x=r())!=null?x:p))||void 0;return Na(c.getItem.bind(c))(s.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==s.version){if(s.migrate)return[!0,s.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var v;const[k,E]=g;if(h=s.merge(E,(v=r())!=null?v:p),n(h,!0),k)return d()}).then(()=>{y==null||y(h,void 0),h=r(),a=!0,u.forEach(g=>g(h))}).catch(g=>{y==null||y(void 0,g)})};return i.persist={setOptions:x=>{s={...s,...x},x.storage&&(c=x.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(u.add(x),()=>{u.delete(x)})},s.skipHydration||m(),h||p},yS=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((hS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),mS(e,t)):gS(e,t),xS=yS,vS={loading:"...",save:"",cancel:"",delete:"",edit:"",add:"",confirm:"",test:"",preview:"",settings:"",projectNotFound:"",noTranslation:"",copy:"",by:"",error:""},bS={home:"",upload:"",settings:""},wS={title:"",subtitle:" EPUB ",newProject:"",noProjects:"",noProjectsHint:" EPUB ",uploadEpub:" EPUB",unknownAuthor:"",chapters:"",paragraphs:"",confirmDelete:"{{name}}"},kS={title:" EPUB",subtitle:" EPUB ",dropHint:" EPUB ",clickToSelect:"",formatHint:" .epub ",uploading:"...",startUpload:"",uploadFailed:""},SS={title:"LLM ",subtitle:" LLM ",addConfig:"",addNew:"",editConfig:"",configName:"",configNamePlaceholder:"GPT-4o ",provider:"LLM ",selectProvider:"...",model:"",selectModel:"...",modelPlaceholder:"",modelHintOllama:" Ollama ",modelHintOpenRouter:" OpenRouter  ID",apiKey:"API ",apiKeyPlaceholder:" API ",apiKeyPlaceholderEdit:"",apiKeyHint:"API ",apiKeyHintEdit:"",apiKeyHintOllama:"Ollama  API ",apiKeyConfigured:"API ",apiKeyMissing:" API ",currentKey:"",setAsDefault:"",testConnection:"",testing:"...",noConfigs:" LLM ",addFirstConfig:"",default:"",active:"",tip:"",tipContent:"",tipDefaultContent:"",currentConfig:"",configureLLM:" LLM",selectConfig:"",manageConfigs:"",context:"",maxOutput:"",input:"",output:"",tokens:"tokens",estCost:" 10K ",fillAllFields:"",confirmDelete:"{name}"},CS={openai:"OpenAI",anthropic:"Claude (Anthropic)",gemini:"Google Gemini",qwen:" (Qwen)",deepseek:"DeepSeek ()",ollama:"Ollama ()",openrouter:"OpenRouter"},jS={light:"",dark:""},NS={title:"",small:"",medium:"",large:""},ES={title:"",subtitle:"",panelWidths:"",panelWidthsHint:"",resetPanelWidths:""},PS={zh:"",en:"English",switchToEn:"Switch to English",switchToZh:""},_S={configLlmFirst:" LLM  API ",translationConfig:"",translationMode:"",authorBasedMode:"",authorBasedDesc:"",optimizationMode:"",optimizationDesc:"",authorBackground:"",authorBackgroundPlaceholder:"20...",customPrompts:"",customPromptsPlaceholder:`


`,currentLlmConfig:" LLM ",configLlmWarning:" LLM  API ",change:"",configure:"",translating:"...",startTranslation:"",translateCurrentChapter:"",translateChapterHint:"{{chapter}}",translationProgress:"",statusCompleted:"",statusProcessing:"",statusPaused:"",statusFailed:"",statusPending:"",exportEpub:" EPUB",referenceLoaded:"",uploadReference:"",removeReference:"",chapters:"",paragraphs:"",configureApiKey:" API ",original:"",reference:"",translation:"",noMatch:"",confidence:"",referenceChapter:"",showReferencePanel:"",hideReferencePanel:"",selectReferenceChapter:"",searchReference:"...",searchResultsCount:" {{count}} ",noSearchResults:"",selectedCount:" {{count}} ",confirmSelected:"",confirm:"",pending:"",confirmed:"",showReasoning:"",reasoningTitle:"",generatingReasoning:"...",reasoningError:"",translatingProgress:" {{completed}} / {{total}} ",translationInProgress:"...",discussTranslation:"",currentTranslation:"",askAboutTranslation:"",chatExamples:"",typeYourQuestion:"...",suggestedTranslation:"",applyTranslation:"",suggestionApplied:"",clearConversation:"",messageFailed:"",expandContext:"",collapseContext:"",retranslate:"",retranslating:"..."},TS={chapterList:"",chapterNumber:" {{number}} ",prevChapter:"",nextChapter:"",untitled:"",noChapters:"",readerMode:"",editorMode:"",showOriginal:"",showTranslation:"",showBilingual:"",noContent:"",imageLoadError:""},RS={analysis:"",translation:"",proofreading:"",export:"",continueToTranslation:""},LS={llmConfig:"LLM ",startAnalysis:"",reanalyze:"",results:"",confirmed:"",confirmAnalysis:"",noAnalysis:"",selectLLMAndStart:" LLM ",authorBio:"",writingStyle:"",tone:"",targetAudience:"",genreConventions:"",keyTerminology:"",englishTerm:"",chineseTranslation:"",noLLMConfig:" LLM ",noFields:""},OS={title:"",round:"",start:"",newRound:"",noSession:"",noSessionHint:"",inProgress:"...",model:"",paragraphs:"",pending:"",accepted:"",rejected:"",all:"",applyChanges:"",noPending:"",noSuggestions:"",originalText:"",currentTranslation:"",suggestedTranslation:"",explanation:"",accept:"",reject:"",modified:"",statusAccepted:"",statusRejected:"",llmSuggestions:"AI ",allTranslations:"",selectAll:"",deselectAll:"",batchAccept:"",batchReject:"",selected:"",keyboardShortcuts:"",shortcutAccept:"",shortcutReject:"",shortcutEdit:"",shortcutNav:""},AS={title:"",systemPrompt:"",userPrompt:"",variables:"",reset:"",send:"",modified:"",refreshPreview:"",renderedPreview:"",clickRefresh:"",availableVariables:"",noVariables:"",systemPromptPlaceholder:"...",userPromptPlaceholder:"...",viewPrompt:"",editPrompt:"",save:"",saved:""},IS={common:vS,nav:bS,home:wS,upload:kS,settings:SS,providers:CS,theme:jS,fontSize:NS,appSettings:ES,language:PS,translate:_S,preview:TS,workflow:RS,analysis:LS,proofreading:OS,export:{title:"",subtitle:" EPUB ",downloadEpub:" EPUB",projectInfo:"",bookTitle:"",totalChapters:"",totalParagraphs:"",translationStatus:"",progress:"",paragraphsTranslated:"",readyToExport:"",translationIncomplete:"",format:"",formatBilingual:" + ",formatBilingualDesc:"",formatChineseOnly:"",comingSoon:"",showPreview:"",hidePreview:"",allChapters:"",previewNote:" EPUB ",noPreview:"",clickToPreview:""},prompts:AS},MS={loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",confirm:"Confirm",test:"Test",preview:"Preview",settings:"Settings",projectNotFound:"Project not found",noTranslation:"No translation yet",copy:"Copy",by:"by",error:"Error"},FS={home:"Home",upload:"Upload",settings:"Settings"},zS={title:"My Projects",subtitle:"Manage your EPUB translation projects",newProject:"New Project",noProjects:"No Projects Yet",noProjectsHint:"Upload an EPUB file to start translating",uploadEpub:"Upload EPUB",unknownAuthor:"Unknown Author",chapters:"chapters",paragraphs:"paragraphs",confirmDelete:'Are you sure you want to delete "{{name}}"?'},DS={title:"Upload EPUB",subtitle:"Select an English EPUB file to start translating",dropHint:"Drop EPUB file here, or",clickToSelect:"click to select",formatHint:"Only .epub format supported",uploading:"Uploading...",startUpload:"Start Upload",uploadFailed:"Upload failed"},$S={title:"LLM Settings",subtitle:"Manage your LLM configurations",addConfig:"Add Configuration",addNew:"Add New Configuration",editConfig:"Edit Configuration",configName:"Configuration Name",configNamePlaceholder:"e.g., GPT-4o for Translation",provider:"LLM Provider",selectProvider:"Select a provider...",model:"Model",selectModel:"Select a model...",modelPlaceholder:"Enter model name",modelHintOllama:"Enter local Ollama model name",modelHintOpenRouter:"Enter OpenRouter model ID",apiKey:"API Key",apiKeyPlaceholder:"Enter API key",apiKeyPlaceholderEdit:"Leave blank to keep existing key",apiKeyHint:"API key is securely stored on the backend",apiKeyHintEdit:"Only enter a new key if you want to change it",apiKeyHintOllama:"Ollama runs locally, no API key needed",apiKeyConfigured:"API key configured",apiKeyMissing:"No API key",currentKey:"Current key",setAsDefault:"Set as default configuration",testConnection:"Test Connection",testing:"Testing...",noConfigs:"No LLM configurations yet",addFirstConfig:"Add your first configuration",default:"Default",active:"Active",tip:"Tip",tipContent:"Click on a configuration to set it as active for translations.",tipDefaultContent:"The default configuration (marked with a star) will be used when no active selection is made.",currentConfig:"Current Config",configureLLM:"Configure LLM",selectConfig:"Select config",manageConfigs:"Manage Configurations",context:"Context",maxOutput:"Max Output",input:"Input",output:"Output",tokens:"tokens",estCost:"Est. cost for 10K words",fillAllFields:"Please fill in all required fields",confirmDelete:'Are you sure you want to delete "{name}"?'},US={openai:"OpenAI",anthropic:"Claude (Anthropic)",gemini:"Google Gemini",qwen:"Qwen (Alibaba)",deepseek:"DeepSeek",ollama:"Ollama (Local)",openrouter:"OpenRouter"},BS={light:"Light",dark:"Dark"},HS={title:"Font Size",small:"Small",medium:"Medium",large:"Large"},qS={title:"App Settings",subtitle:"Manage appearance and display settings",panelWidths:"Panel Widths",panelWidthsHint:"Drag the dividers between panels in the translation page to resize them",resetPanelWidths:"Reset Panel Widths"},KS={zh:"",en:"English",switchToEn:"Switch to English",switchToZh:"Switch to Chinese"},VS={configLlmFirst:"Please configure LLM provider and API key in settings first",translationConfig:"Translation Configuration",translationMode:"Translation Mode",authorBasedMode:"Author-based Translation",authorBasedDesc:"Translate based on author background and custom prompts",optimizationMode:"Optimize Existing Translation",optimizationDesc:"Optimize existing Chinese translation to modern language style",authorBackground:"Author Background (Optional)",authorBackgroundPlaceholder:"e.g., Virginia Woolf was a 20th-century British modernist writer known for her stream-of-consciousness style...",customPrompts:"Custom Translation Requirements (One per line, Optional)",customPromptsPlaceholder:`e.g.:
Preserve original metaphors and rhetoric
Transliterate names
Keep technical terms in English`,currentLlmConfig:"Current LLM Configuration:",configLlmWarning:"Please configure LLM provider and API key first",change:"Change",configure:"Configure",translating:"Translating...",startTranslation:"Start Translation",translateCurrentChapter:"Translate Chapter",translateChapterHint:"Translate chapter: {{chapter}}",translationProgress:"Translation Progress",statusCompleted:"Completed",statusProcessing:"Processing",statusPaused:"Paused",statusFailed:"Failed",statusPending:"Pending",exportEpub:"Export EPUB",referenceLoaded:"Reference loaded",uploadReference:"Upload Chinese Reference",removeReference:"Remove reference",chapters:"chapters",paragraphs:"paragraphs",configureApiKey:"Please configure API key in settings",original:"Original",reference:"Reference",translation:"Translation",noMatch:"No matching paragraph",confidence:"Confidence",referenceChapter:"Reference Chapter",showReferencePanel:"Show full reference chapter",hideReferencePanel:"Hide reference panel",selectReferenceChapter:"Select a chapter to view",searchReference:"Search content...",searchResultsCount:"{{count}} results found",noSearchResults:"No results found",selectedCount:"{{count}} paragraphs selected",confirmSelected:"Confirm Selected",confirm:"Confirm",pending:"Pending",confirmed:"Confirmed",showReasoning:"Why?",reasoningTitle:"Translation Reasoning",generatingReasoning:"Generating reasoning...",reasoningError:"Failed to generate reasoning",translatingProgress:"Completed {{completed}} / {{total}} paragraphs",translationInProgress:"Translating chapter...",discussTranslation:"Discuss Translation",currentTranslation:"Current Translation",askAboutTranslation:"Ask questions about this translation",chatExamples:"Examples: 'Why this word choice?', 'Can you make it more formal?', 'Suggest alternatives'",typeYourQuestion:"Type your question or request...",suggestedTranslation:"Suggested translation",applyTranslation:"Apply",suggestionApplied:"Applied",clearConversation:"Clear History",messageFailed:"Failed to send message",expandContext:"Show full text",collapseContext:"Collapse",retranslate:"Retranslate",retranslating:"Retranslating..."},WS={chapterList:"Chapter List",chapterNumber:"Chapter {{number}}",prevChapter:"Previous",nextChapter:"Next",untitled:"Untitled",noChapters:"No chapters found",readerMode:"Reader",editorMode:"Editor",showOriginal:"Show Original",showTranslation:"Show Translation",showBilingual:"Bilingual",noContent:"No content available",imageLoadError:"Image failed to load"},QS={analysis:"Analysis",translation:"Translation",proofreading:"Proofreading",export:"Export",continueToTranslation:"Continue to Translation"},GS={llmConfig:"LLM Configuration",startAnalysis:"Analyze Book",reanalyze:"Re-analyze",results:"Analysis Results",confirmed:"Confirmed",confirmAnalysis:"Confirm Analysis",noAnalysis:"No Analysis Yet",selectLLMAndStart:"Select an LLM configuration and click 'Analyze Book' to start.",authorBio:"Author Biography",writingStyle:"Writing Style",tone:"Tone",targetAudience:"Target Audience",genreConventions:"Genre Conventions",keyTerminology:"Key Terminology",englishTerm:"English term",chineseTranslation:"Chinese translation",noLLMConfig:"Please configure LLM in settings first to start analysis.",noFields:"No analysis fields available"},XS={title:"Proofreading",round:"Round",start:"Start Proofreading",newRound:"New Round",noSession:"No Proofreading Session",noSessionHint:"Start a proofreading session to review and improve translations.",inProgress:"Proofreading in progress...",model:"Model",paragraphs:"paragraphs",pending:"Pending",accepted:"Accepted",rejected:"Rejected",all:"All",applyChanges:"Apply Changes",noPending:"No pending suggestions",noSuggestions:"No suggestions found",originalText:"Original Text",currentTranslation:"Current Translation",suggestedTranslation:"Suggested Translation",explanation:"Reason",accept:"Accept",reject:"Reject",modified:"Modified",statusAccepted:"Accepted",statusRejected:"Rejected",llmSuggestions:"LLM Suggestions",allTranslations:"All Translations",selectAll:"Select All",deselectAll:"Deselect All",batchAccept:"Accept Selected",batchReject:"Reject Selected",selected:"selected",keyboardShortcuts:"Shortcuts",shortcutAccept:"Accept",shortcutReject:"Reject",shortcutEdit:"Edit",shortcutNav:"Navigate"},JS={title:"Prompt Preview",systemPrompt:"System Prompt",userPrompt:"User Prompt",variables:"Variables",reset:"Reset",send:"Send",modified:"Modified",refreshPreview:"Refresh Preview",renderedPreview:"Rendered Preview",clickRefresh:"Click 'Refresh Preview' to see rendered prompt",availableVariables:"Available Variables",noVariables:"No variables available",systemPromptPlaceholder:"Enter system prompt...",userPromptPlaceholder:"Enter user prompt template...",viewPrompt:"View Prompt",editPrompt:"Edit Prompt",save:"Save",saved:"Saved"},YS={common:MS,nav:FS,home:zS,upload:DS,settings:$S,providers:US,theme:BS,fontSize:HS,appSettings:qS,language:KS,translate:VS,preview:WS,workflow:QS,analysis:GS,proofreading:XS,export:{title:"Export",subtitle:"Export your bilingual EPUB",downloadEpub:"Download EPUB",projectInfo:"Project Info",bookTitle:"Book Title",totalChapters:"Total Chapters",totalParagraphs:"Total Paragraphs",translationStatus:"Translation Status",progress:"Progress",paragraphsTranslated:"paragraphs translated",readyToExport:"Ready to export",translationIncomplete:"Translation incomplete",format:"Export Format",formatBilingual:"Bilingual (EN + CN)",formatBilingualDesc:"One English paragraph followed by one Chinese paragraph",formatChineseOnly:"Chinese Only",comingSoon:"Coming soon",showPreview:"Show Preview",hidePreview:"Hide Preview",allChapters:"All Chapters",previewNote:"Preview may differ slightly from final EPUB",noPreview:"No preview available",clickToPreview:"Click 'Show Preview' to see how the exported EPUB will look"},prompts:JS},ZS={zh:IS,en:YS};function e2(e,t,n){const r=t.split(".");let i=ZS[e];for(const s of r)if(i&&typeof i=="object"&&s in i)i=i[s];else return t;return typeof i!="string"?t:n?i.replace(/\{\{(\w+)\}\}/g,(s,a)=>n[a]??`{{${a}}}`):i}const Dr={small:{base:"text-xs",xs:"text-[10px]",sm:"text-[11px]",label:"text-[10px]",paragraph:"text-xs",button:"text-xs",title:"text-base",heading:"text-sm"},medium:{base:"text-sm",xs:"text-xs",sm:"text-[13px]",label:"text-xs",paragraph:"text-sm",button:"text-sm",title:"text-lg",heading:"text-base"},large:{base:"text-base",xs:"text-sm",sm:"text-[15px]",label:"text-sm",paragraph:"text-base",button:"text-base",title:"text-xl",heading:"text-lg"}},t2={small:"text-xs",medium:"text-sm",large:"text-base"},Lp={chapterList:200,referencePanel:288};function Cu(e){const t=document.documentElement;e==="dark"?t.classList.add("dark"):t.classList.remove("dark")}function Op(e){document.documentElement.lang=e==="zh"?"zh-CN":"en"}function n2(){var e;if(typeof window<"u"){const t=localStorage.getItem("epub-translator-app");if(t)try{const n=JSON.parse(t);if((e=n.state)!=null&&e.theme)return n.state.theme}catch{}if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"}const ze=qy()(xS((e,t)=>({language:"zh",theme:n2(),fontSize:"medium",translationProgress:null,workflowStatus:null,panelWidths:Lp,setLanguage:n=>{Op(n),e({language:n})},setTheme:n=>{Cu(n),e({theme:n})},toggleTheme:()=>{const n=t().theme==="light"?"dark":"light";Cu(n),e({theme:n})},setFontSize:n=>{e({fontSize:n})},setTranslationProgress:n=>{e({translationProgress:n})},setWorkflowStatus:n=>{e({workflowStatus:n})},setPanelWidth:(n,r)=>{e(i=>({panelWidths:{...i.panelWidths,[n]:r}}))},resetPanelWidths:()=>{e({panelWidths:Lp})}}),{name:"epub-translator-app",partialize:e=>({language:e.language,theme:e.theme,fontSize:e.fontSize,panelWidths:e.panelWidths}),onRehydrateStorage:()=>e=>{e&&(Cu(e.theme),Op(e.language))}}));function Re(){const e=ze(t=>t.language);return{t:(t,n)=>e2(e,t,n),language:e}}function r2(){const e=ze(s=>s.theme),t=ze(s=>s.toggleTheme),[n,r]=N.useState(!1),i=()=>{r(!0),t(),setTimeout(()=>r(!1),500)};return o.jsx("button",{onClick:i,className:`
        relative p-2 rounded-lg transition-all duration-200
        hover:bg-gray-100 dark:hover:bg-gray-700
        focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
        dark:focus:ring-offset-gray-800
        ${n?"scale-110":"scale-100"}
      `,"aria-label":e==="light"?"Switch to dark mode":"Switch to light mode",children:o.jsx("div",{className:`transition-transform duration-500 ${n?"rotate-[360deg]":""}`,children:e==="light"?o.jsx(zk,{className:"w-5 h-5 text-amber-500"}):o.jsx(Ok,{className:"w-5 h-5 text-blue-400"})})})}function i2(){const{t:e}=Re(),t=ze(a=>a.language),n=ze(a=>a.setLanguage),[r,i]=N.useState(!1),s=()=>{i(!0),n(t==="zh"?"en":"zh"),setTimeout(()=>i(!1),300)};return o.jsxs("button",{onClick:s,className:`
        flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg transition-all duration-200
        hover:bg-gray-100 dark:hover:bg-gray-700
        focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
        dark:focus:ring-offset-gray-800
        ${r?"scale-105":"scale-100"}
      `,"aria-label":e(t==="zh"?"language.switchToEn":"language.switchToZh"),children:[o.jsx(Iy,{className:`
          w-4 h-4 text-gray-600 dark:text-gray-300
          transition-transform duration-300
          ${r?"rotate-12 scale-110":""}
        `}),o.jsx("span",{className:`
          text-sm font-medium text-gray-700 dark:text-gray-200
          transition-all duration-300
          ${r?"opacity-0 translate-y-1":"opacity-100 translate-y-0"}
        `,children:t==="zh"?e("language.zh"):"EN"})]})}function s2({status:e,onStepClick:t}){const{t:n}=Re(),r=[{id:"analysis",icon:Wn,label:n("workflow.analysis")},{id:"translation",icon:Iy,label:n("workflow.translation")},{id:"proofreading",icon:Ay,label:n("workflow.proofreading")},{id:"export",icon:Cf,label:n("workflow.export")}],i=a=>{const l=["analysis","translation","proofreading","export"],u=l.indexOf(e.currentStep),c=l.indexOf(a);return a==="analysis"&&e.analysisCompleted&&c<u||a==="translation"&&e.translationCompleted&&c<u||a==="proofreading"&&e.proofreadingCompleted&&c<u?"completed":a===e.currentStep?"current":"upcoming"},s=a=>{const l=["analysis","translation","proofreading","export"],u=l.indexOf(e.currentStep);return l.indexOf(a)<=u?!0:a==="translation"?e.analysisCompleted:a==="proofreading"?e.translationCompleted:a==="export"};return o.jsx("div",{className:"flex items-center gap-1",children:r.map((a,l)=>{const u=i(a.id),c=s(a.id),d=a.icon;return o.jsxs("div",{className:"flex items-center",children:[l>0&&o.jsx("div",{className:`w-6 h-0.5 ${u==="completed"||i(r[l-1].id)==="completed"?"bg-blue-500":"bg-gray-300 dark:bg-gray-600"}`}),o.jsxs("button",{onClick:()=>c&&t(a.id),disabled:!c,className:`
                flex flex-col items-center gap-0.5 transition-all
                ${c?"cursor-pointer":"cursor-not-allowed"}
              `,children:[o.jsx("span",{className:`
                  w-7 h-7 rounded-full flex items-center justify-center transition-all
                  ${u==="completed"?"bg-blue-600 text-white":u==="current"?"border-2 border-blue-600 text-blue-600 bg-blue-50 dark:bg-blue-900/30":"border border-gray-300 dark:border-gray-600 text-gray-400 dark:text-gray-500"}
                  ${c&&u!=="completed"?"group-hover:border-blue-500 group-hover:text-blue-500":""}
                `,children:u==="completed"?o.jsx(gn,{className:"w-3.5 h-3.5"}):o.jsx(d,{className:"w-3.5 h-3.5"})}),o.jsx("span",{className:`
                  text-[10px] font-medium whitespace-nowrap
                  ${u==="current"?"text-blue-600 dark:text-blue-400":u==="completed"?"text-gray-700 dark:text-gray-300":"text-gray-400 dark:text-gray-500"}
                `,children:a.label})]})]},a.id)})})}function a2({children:e}){const t=vi(),n=bs(),{t:r}=Re(),i=ze(h=>h.fontSize),s=ze(h=>h.translationProgress),a=ze(h=>h.workflowStatus),l=t2[i],u=Dr[i],c=[{path:"/",labelKey:"nav.home",icon:Tk},{path:"/settings",labelKey:"nav.settings",icon:co}],d=t.pathname.includes("/project/"),f=h=>{if(!a)return;const m={analysis:"analysis",translation:"translate",proofreading:"proofread",export:"export"};n(`/project/${a.projectId}/${m[h]}`)},p=t.pathname.includes("/translate");return o.jsxs("div",{className:`bg-gray-50 dark:bg-gray-900 transition-colors duration-200 ${l} ${p?"h-screen flex flex-col overflow-hidden":"min-h-screen"}`,children:[o.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 transition-colors duration-200 flex-shrink-0",children:o.jsx("div",{className:`mx-auto ${p?"w-[90%]":"max-w-7xl px-4 sm:px-6 lg:px-8"}`,children:o.jsxs("div",{className:"relative flex justify-between items-center h-14",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs(Tn,{to:"/",className:"flex items-center gap-2",children:[o.jsx(Wn,{className:"w-7 h-7 text-blue-600 dark:text-blue-400"}),o.jsx("span",{className:`${u.title} font-semibold text-gray-900 dark:text-white`,children:"EPUB Translator"})]})}),d&&(a||s)&&o.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 flex items-center gap-3",children:[a&&o.jsx(s2,{status:a,onStepClick:f}),s&&o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-50 dark:bg-blue-900/40 rounded-full border border-blue-200 dark:border-blue-700",children:[o.jsx(ve,{className:"w-3.5 h-3.5 animate-spin text-blue-600 dark:text-blue-400"}),o.jsx("span",{className:`${u.xs} text-blue-700 dark:text-blue-300 font-medium`,children:r("translate.translationInProgress")}),o.jsx("div",{className:"w-20 h-1.5 bg-blue-200 dark:bg-blue-800 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-blue-600 dark:bg-blue-400 rounded-full transition-all duration-300",style:{width:`${Math.round(s.progress*100)}%`}})}),o.jsxs("span",{className:`${u.xs} text-blue-600 dark:text-blue-400 min-w-[3rem] text-right`,children:[Math.round(s.progress*100),"%"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("nav",{className:"flex items-center gap-1 mr-4",children:c.map(({path:h,labelKey:m,icon:x})=>o.jsxs(Tn,{to:h,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md ${u.button} font-medium transition-colors ${t.pathname===h?"bg-blue-50 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[o.jsx(x,{className:"w-4 h-4"}),r(m)]},h))}),o.jsx("div",{className:"h-5 w-px bg-gray-200 dark:bg-gray-600"}),o.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[o.jsx(i2,{}),o.jsx(r2,{})]})]})]})})}),o.jsx("main",{className:`${p?"w-[90%] mx-auto py-1 flex-1 min-h-0 overflow-hidden":"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"}`,children:e})]})}function Ky(e,t){return function(){return e.apply(t,arguments)}}const{toString:l2}=Object.prototype,{getPrototypeOf:Nf}=Object,{iterator:Fo,toStringTag:Vy}=Symbol,zo=(e=>t=>{const n=l2.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yn=e=>(e=e.toLowerCase(),t=>zo(t)===e),Do=e=>t=>typeof t===e,{isArray:ws}=Array,hs=Do("undefined");function $a(e){return e!==null&&!hs(e)&&e.constructor!==null&&!hs(e.constructor)&&Lt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Wy=yn("ArrayBuffer");function o2(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Wy(e.buffer),t}const u2=Do("string"),Lt=Do("function"),Qy=Do("number"),Ua=e=>e!==null&&typeof e=="object",c2=e=>e===!0||e===!1,Tl=e=>{if(zo(e)!=="object")return!1;const t=Nf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Vy in e)&&!(Fo in e)},d2=e=>{if(!Ua(e)||$a(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},f2=yn("Date"),h2=yn("File"),p2=yn("Blob"),m2=yn("FileList"),g2=e=>Ua(e)&&Lt(e.pipe),y2=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Lt(e.append)&&((t=zo(e))==="formdata"||t==="object"&&Lt(e.toString)&&e.toString()==="[object FormData]"))},x2=yn("URLSearchParams"),[v2,b2,w2,k2]=["ReadableStream","Request","Response","Headers"].map(yn),S2=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ba(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),ws(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if($a(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let l;for(r=0;r<a;r++)l=s[r],t.call(null,e[l],l,e)}}function Gy(e,t){if($a(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Xr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xy=e=>!hs(e)&&e!==Xr;function ed(){const{caseless:e,skipUndefined:t}=Xy(this)&&this||{},n={},r=(i,s)=>{const a=e&&Gy(n,s)||s;Tl(n[a])&&Tl(i)?n[a]=ed(n[a],i):Tl(i)?n[a]=ed({},i):ws(i)?n[a]=i.slice():(!t||!hs(i))&&(n[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ba(arguments[i],r);return n}const C2=(e,t,n,{allOwnKeys:r}={})=>(Ba(t,(i,s)=>{n&&Lt(i)?e[s]=Ky(i,n):e[s]=i},{allOwnKeys:r}),e),j2=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),N2=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},E2=(e,t,n,r)=>{let i,s,a;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&Nf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},P2=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},_2=e=>{if(!e)return null;if(ws(e))return e;let t=e.length;if(!Qy(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},T2=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Nf(Uint8Array)),R2=(e,t)=>{const r=(e&&e[Fo]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},L2=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},O2=yn("HTMLFormElement"),A2=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Ap=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),I2=yn("RegExp"),Jy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ba(n,(i,s)=>{let a;(a=t(i,s,e))!==!1&&(r[s]=a||i)}),Object.defineProperties(e,r)},M2=e=>{Jy(e,(t,n)=>{if(Lt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Lt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},F2=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ws(e)?r(e):r(String(e).split(t)),n},z2=()=>{},D2=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function $2(e){return!!(e&&Lt(e.append)&&e[Vy]==="FormData"&&e[Fo])}const U2=e=>{const t=new Array(10),n=(r,i)=>{if(Ua(r)){if(t.indexOf(r)>=0)return;if($a(r))return r;if(!("toJSON"in r)){t[i]=r;const s=ws(r)?[]:{};return Ba(r,(a,l)=>{const u=n(a,i+1);!hs(u)&&(s[l]=u)}),t[i]=void 0,s}}return r};return n(e,0)},B2=yn("AsyncFunction"),H2=e=>e&&(Ua(e)||Lt(e))&&Lt(e.then)&&Lt(e.catch),Yy=((e,t)=>e?setImmediate:t?((n,r)=>(Xr.addEventListener("message",({source:i,data:s})=>{i===Xr&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Xr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Lt(Xr.postMessage)),q2=typeof queueMicrotask<"u"?queueMicrotask.bind(Xr):typeof process<"u"&&process.nextTick||Yy,K2=e=>e!=null&&Lt(e[Fo]),_={isArray:ws,isArrayBuffer:Wy,isBuffer:$a,isFormData:y2,isArrayBufferView:o2,isString:u2,isNumber:Qy,isBoolean:c2,isObject:Ua,isPlainObject:Tl,isEmptyObject:d2,isReadableStream:v2,isRequest:b2,isResponse:w2,isHeaders:k2,isUndefined:hs,isDate:f2,isFile:h2,isBlob:p2,isRegExp:I2,isFunction:Lt,isStream:g2,isURLSearchParams:x2,isTypedArray:T2,isFileList:m2,forEach:Ba,merge:ed,extend:C2,trim:S2,stripBOM:j2,inherits:N2,toFlatObject:E2,kindOf:zo,kindOfTest:yn,endsWith:P2,toArray:_2,forEachEntry:R2,matchAll:L2,isHTMLForm:O2,hasOwnProperty:Ap,hasOwnProp:Ap,reduceDescriptors:Jy,freezeMethods:M2,toObjectSet:F2,toCamelCase:A2,noop:z2,toFiniteNumber:D2,findKey:Gy,global:Xr,isContextDefined:Xy,isSpecCompliantForm:$2,toJSONObject:U2,isAsyncFn:B2,isThenable:H2,setImmediate:Yy,asap:q2,isIterable:K2};function re(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}_.inherits(re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.status}}});const Zy=re.prototype,ex={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ex[e]={value:e}});Object.defineProperties(re,ex);Object.defineProperty(Zy,"isAxiosError",{value:!0});re.from=(e,t,n,r,i,s)=>{const a=Object.create(Zy);_.toFlatObject(e,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return re.call(a,l,u,n,r,i),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",s&&Object.assign(a,s),a};const V2=null;function td(e){return _.isPlainObject(e)||_.isArray(e)}function tx(e){return _.endsWith(e,"[]")?e.slice(0,-2):e}function Ip(e,t,n){return e?e.concat(t).map(function(i,s){return i=tx(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function W2(e){return _.isArray(e)&&!e.some(td)}const Q2=_.toFlatObject(_,{},null,function(t){return/^is[A-Z]/.test(t)});function $o(e,t,n){if(!_.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!_.isUndefined(b[x])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(t);if(!_.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(_.isDate(m))return m.toISOString();if(_.isBoolean(m))return m.toString();if(!u&&_.isBlob(m))throw new re("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(m)||_.isTypedArray(m)?u&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,x,b){let y=m;if(m&&!b&&typeof m=="object"){if(_.endsWith(x,"{}"))x=r?x:x.slice(0,-2),m=JSON.stringify(m);else if(_.isArray(m)&&W2(m)||(_.isFileList(m)||_.endsWith(x,"[]"))&&(y=_.toArray(m)))return x=tx(x),y.forEach(function(v,k){!(_.isUndefined(v)||v===null)&&t.append(a===!0?Ip([x],k,s):a===null?x:x+"[]",c(v))}),!1}return td(m)?!0:(t.append(Ip(b,x,s),c(m)),!1)}const f=[],p=Object.assign(Q2,{defaultVisitor:d,convertValue:c,isVisitable:td});function h(m,x){if(!_.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(m),_.forEach(m,function(y,g){(!(_.isUndefined(y)||y===null)&&i.call(t,y,_.isString(g)?g.trim():g,x,p))===!0&&h(y,x?x.concat(g):[g])}),f.pop()}}if(!_.isObject(e))throw new TypeError("data must be an object");return h(e),t}function Mp(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Ef(e,t){this._pairs=[],e&&$o(e,this,t)}const nx=Ef.prototype;nx.append=function(t,n){this._pairs.push([t,n])};nx.toString=function(t){const n=t?function(r){return t.call(this,r,Mp)}:Mp;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function G2(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function rx(e,t,n){if(!t)return e;const r=n&&n.encode||G2;_.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=_.isURLSearchParams(t)?t.toString():new Ef(t,n).toString(r),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class Fp{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_.forEach(this.handlers,function(r){r!==null&&t(r)})}}const ix={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},X2=typeof URLSearchParams<"u"?URLSearchParams:Ef,J2=typeof FormData<"u"?FormData:null,Y2=typeof Blob<"u"?Blob:null,Z2={isBrowser:!0,classes:{URLSearchParams:X2,FormData:J2,Blob:Y2},protocols:["http","https","file","blob","url","data"]},Pf=typeof window<"u"&&typeof document<"u",nd=typeof navigator=="object"&&navigator||void 0,eC=Pf&&(!nd||["ReactNative","NativeScript","NS"].indexOf(nd.product)<0),tC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nC=Pf&&window.location.href||"http://localhost",rC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pf,hasStandardBrowserEnv:eC,hasStandardBrowserWebWorkerEnv:tC,navigator:nd,origin:nC},Symbol.toStringTag,{value:"Module"})),ct={...rC,...Z2};function iC(e,t){return $o(e,new ct.classes.URLSearchParams,{visitor:function(n,r,i,s){return ct.isNode&&_.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function sC(e){return _.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function aC(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function sx(e){function t(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=s>=n.length;return a=!a&&_.isArray(i)?i.length:a,u?(_.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!_.isObject(i[a]))&&(i[a]=[]),t(n,r,i[a],s)&&_.isArray(i[a])&&(i[a]=aC(i[a])),!l)}if(_.isFormData(e)&&_.isFunction(e.entries)){const n={};return _.forEachEntry(e,(r,i)=>{t(sC(r),i,n,0)}),n}return null}function lC(e,t,n){if(_.isString(e))try{return(t||JSON.parse)(e),_.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ha={transitional:ix,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=_.isObject(t);if(s&&_.isHTMLForm(t)&&(t=new FormData(t)),_.isFormData(t))return i?JSON.stringify(sx(t)):t;if(_.isArrayBuffer(t)||_.isBuffer(t)||_.isStream(t)||_.isFile(t)||_.isBlob(t)||_.isReadableStream(t))return t;if(_.isArrayBufferView(t))return t.buffer;if(_.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return iC(t,this.formSerializer).toString();if((l=_.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return $o(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),lC(t)):t}],transformResponse:[function(t){const n=this.transitional||Ha.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(_.isResponse(t)||_.isReadableStream(t))return t;if(t&&_.isString(t)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?re.from(l,re.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ct.classes.FormData,Blob:ct.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],e=>{Ha.headers[e]={}});const oC=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uC=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||t[n]&&oC[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},zp=Symbol("internals");function Fs(e){return e&&String(e).trim().toLowerCase()}function Rl(e){return e===!1||e==null?e:_.isArray(e)?e.map(Rl):String(e)}function cC(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const dC=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ju(e,t,n,r,i){if(_.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!_.isString(t)){if(_.isString(r))return t.indexOf(r)!==-1;if(_.isRegExp(r))return r.test(t)}}function fC(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function hC(e,t){const n=_.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,a){return this[r].call(this,t,i,s,a)},configurable:!0})})}let Ot=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(l,u,c){const d=Fs(u);if(!d)throw new Error("header name must be a non-empty string");const f=_.findKey(i,d);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||u]=Rl(l))}const a=(l,u)=>_.forEach(l,(c,d)=>s(c,d,u));if(_.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(_.isString(t)&&(t=t.trim())&&!dC(t))a(uC(t),n);else if(_.isObject(t)&&_.isIterable(t)){let l={},u,c;for(const d of t){if(!_.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(u=l[c])?_.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}a(l,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=Fs(t),t){const r=_.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return cC(i);if(_.isFunction(n))return n.call(this,i,r);if(_.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Fs(t),t){const r=_.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ju(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(a){if(a=Fs(a),a){const l=_.findKey(r,a);l&&(!n||ju(r,r[l],l,n))&&(delete r[l],i=!0)}}return _.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||ju(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return _.forEach(this,(i,s)=>{const a=_.findKey(r,s);if(a){n[a]=Rl(i),delete n[s];return}const l=t?fC(s):String(s).trim();l!==s&&delete n[s],n[l]=Rl(i),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return _.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&_.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[zp]=this[zp]={accessors:{}}).accessors,i=this.prototype;function s(a){const l=Fs(a);r[l]||(hC(i,a),r[l]=!0)}return _.isArray(t)?t.forEach(s):s(t),this}};Ot.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(Ot.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});_.freezeMethods(Ot);function Nu(e,t){const n=this||Ha,r=t||n,i=Ot.from(r.headers);let s=r.data;return _.forEach(e,function(l){s=l.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function ax(e){return!!(e&&e.__CANCEL__)}function ks(e,t,n){re.call(this,e??"canceled",re.ERR_CANCELED,t,n),this.name="CanceledError"}_.inherits(ks,re,{__CANCEL__:!0});function lx(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new re("Request failed with status code "+n.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function pC(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mC(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,a;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),d=r[s];a||(a=c),n[i]=u,r[i]=c;let f=s,p=0;for(;f!==i;)p+=n[f++],f=f%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),c-a<t)return;const h=d&&c-d;return h?Math.round(p*1e3/h):void 0}}function gC(e,t){let n=0,r=1e3/t,i,s;const a=(c,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),e(...c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?a(c,d):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},r-f)))},()=>i&&a(i)]}const fo=(e,t,n=3)=>{let r=0;const i=mC(50,250);return gC(s=>{const a=s.loaded,l=s.lengthComputable?s.total:void 0,u=a-r,c=i(u),d=a<=l;r=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&d?(l-a)/c:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},Dp=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},$p=e=>(...t)=>_.asap(()=>e(...t)),yC=ct.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ct.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ct.origin),ct.navigator&&/(msie|trident)/i.test(ct.navigator.userAgent)):()=>!0,xC=ct.hasStandardBrowserEnv?{write(e,t,n,r,i,s,a){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];_.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),_.isString(r)&&l.push(`path=${r}`),_.isString(i)&&l.push(`domain=${i}`),s===!0&&l.push("secure"),_.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function vC(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bC(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ox(e,t,n){let r=!vC(t);return e&&(r||n==!1)?bC(e,t):t}const Up=e=>e instanceof Ot?{...e}:e;function gi(e,t){t=t||{};const n={};function r(c,d,f,p){return _.isPlainObject(c)&&_.isPlainObject(d)?_.merge.call({caseless:p},c,d):_.isPlainObject(d)?_.merge({},d):_.isArray(d)?d.slice():d}function i(c,d,f,p){if(_.isUndefined(d)){if(!_.isUndefined(c))return r(void 0,c,f,p)}else return r(c,d,f,p)}function s(c,d){if(!_.isUndefined(d))return r(void 0,d)}function a(c,d){if(_.isUndefined(d)){if(!_.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function l(c,d,f){if(f in t)return r(c,d);if(f in e)return r(void 0,c)}const u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(c,d,f)=>i(Up(c),Up(d),f,!0)};return _.forEach(Object.keys({...e,...t}),function(d){const f=u[d]||i,p=f(e[d],t[d],d);_.isUndefined(p)&&f!==l||(n[d]=p)}),n}const ux=e=>{const t=gi({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=Ot.from(a),t.url=rx(ox(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),_.isFormData(n)){if(ct.hasStandardBrowserEnv||ct.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(_.isFunction(n.getHeaders)){const u=n.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,f])=>{c.includes(d.toLowerCase())&&a.set(d,f)})}}if(ct.hasStandardBrowserEnv&&(r&&_.isFunction(r)&&(r=r(t)),r||r!==!1&&yC(t.url))){const u=i&&s&&xC.read(s);u&&a.set(i,u)}return t},wC=typeof XMLHttpRequest<"u",kC=wC&&function(e){return new Promise(function(n,r){const i=ux(e);let s=i.data;const a=Ot.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=i,d,f,p,h,m;function x(){h&&h(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function y(){if(!b)return;const v=Ot.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:v,config:e,request:b};lx(function(O){n(O),x()},function(O){r(O),x()},E),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(r(new re("Request aborted",re.ECONNABORTED,e,b)),b=null)},b.onerror=function(k){const E=k&&k.message?k.message:"Network Error",j=new re(E,re.ERR_NETWORK,e,b);j.event=k||null,r(j),b=null},b.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||ix;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),r(new re(k,E.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,e,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&_.forEach(a.toJSON(),function(k,E){b.setRequestHeader(E,k)}),_.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),l&&l!=="json"&&(b.responseType=i.responseType),c&&([p,m]=fo(c,!0),b.addEventListener("progress",p)),u&&b.upload&&([f,h]=fo(u),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(d=v=>{b&&(r(!v||v.type?new ks(null,e,b):v),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const g=pC(i.url);if(g&&ct.protocols.indexOf(g)===-1){r(new re("Unsupported protocol "+g+":",re.ERR_BAD_REQUEST,e));return}b.send(s||null)})},SC=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,l();const d=c instanceof Error?c:this.reason;r.abort(d instanceof re?d:new ks(d instanceof Error?d.message:d))}};let a=t&&setTimeout(()=>{a=null,s(new re(`timeout ${t} of ms exceeded`,re.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>_.asap(l),u}},CC=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},jC=async function*(e,t){for await(const n of NC(e))yield*CC(n,t)},NC=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Bp=(e,t,n,r)=>{const i=jC(e,t);let s=0,a,l=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await i.next();if(c){l(),u.close();return}let f=d.byteLength;if(n){let p=s+=f;n(p)}u.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},Hp=64*1024,{isFunction:fl}=_,EC=(({Request:e,Response:t})=>({Request:e,Response:t}))(_.global),{ReadableStream:qp,TextEncoder:Kp}=_.global,Vp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},PC=e=>{e=_.merge.call({skipUndefined:!0},EC,e);const{fetch:t,Request:n,Response:r}=e,i=t?fl(t):typeof fetch=="function",s=fl(n),a=fl(r);if(!i)return!1;const l=i&&fl(qp),u=i&&(typeof Kp=="function"?(m=>x=>m.encode(x))(new Kp):async m=>new Uint8Array(await new n(m).arrayBuffer())),c=s&&l&&Vp(()=>{let m=!1;const x=new n(ct.origin,{body:new qp,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!x}),d=a&&l&&Vp(()=>_.isReadableStream(new r("").body)),f={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(x,b)=>{let y=x&&x[m];if(y)return y.call(x);throw new re(`Response type '${m}' is not supported`,re.ERR_NOT_SUPPORT,b)})});const p=async m=>{if(m==null)return 0;if(_.isBlob(m))return m.size;if(_.isSpecCompliantForm(m))return(await new n(ct.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(_.isArrayBufferView(m)||_.isArrayBuffer(m))return m.byteLength;if(_.isURLSearchParams(m)&&(m=m+""),_.isString(m))return(await u(m)).byteLength},h=async(m,x)=>{const b=_.toFiniteNumber(m.getContentLength());return b??p(x)};return async m=>{let{url:x,method:b,data:y,signal:g,cancelToken:v,timeout:k,onDownloadProgress:E,onUploadProgress:j,responseType:O,headers:P,withCredentials:D="same-origin",fetchOptions:L}=ux(m),M=t||fetch;O=O?(O+"").toLowerCase():"text";let F=SC([g,v&&v.toAbortSignal()],k),H=null;const K=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let B;try{if(j&&c&&b!=="get"&&b!=="head"&&(B=await h(P,y))!==0){let Y=new n(x,{method:"POST",body:y,duplex:"half"}),se;if(_.isFormData(y)&&(se=Y.headers.get("content-type"))&&P.setContentType(se),Y.body){const[C,he]=Dp(B,fo($p(j)));y=Bp(Y.body,Hp,C,he)}}_.isString(D)||(D=D?"include":"omit");const X=s&&"credentials"in n.prototype,le={...L,signal:F,method:b.toUpperCase(),headers:P.normalize().toJSON(),body:y,duplex:"half",credentials:X?D:void 0};H=s&&new n(x,le);let T=await(s?M(H,L):M(x,le));const V=d&&(O==="stream"||O==="response");if(d&&(E||V&&K)){const Y={};["status","statusText","headers"].forEach(Ne=>{Y[Ne]=T[Ne]});const se=_.toFiniteNumber(T.headers.get("content-length")),[C,he]=E&&Dp(se,fo($p(E),!0))||[];T=new r(Bp(T.body,Hp,C,()=>{he&&he(),K&&K()}),Y)}O=O||"text";let w=await f[_.findKey(f,O)||"text"](T,m);return!V&&K&&K(),await new Promise((Y,se)=>{lx(Y,se,{data:w,headers:Ot.from(T.headers),status:T.status,statusText:T.statusText,config:m,request:H})})}catch(X){throw K&&K(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new re("Network Error",re.ERR_NETWORK,m,H),{cause:X.cause||X}):re.from(X,X&&X.code,m,H)}}},_C=new Map,cx=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,s=[r,i,n];let a=s.length,l=a,u,c,d=_C;for(;l--;)u=s[l],c=d.get(u),c===void 0&&d.set(u,c=l?new Map:PC(t)),d=c;return c};cx();const _f={http:V2,xhr:kC,fetch:{get:cx}};_.forEach(_f,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Wp=e=>`- ${e}`,TC=e=>_.isFunction(e)||e===null||e===!1;function RC(e,t){e=_.isArray(e)?e:[e];const{length:n}=e;let r,i;const s={};for(let a=0;a<n;a++){r=e[a];let l;if(i=r,!TC(r)&&(i=_f[(l=String(r)).toLowerCase()],i===void 0))throw new re(`Unknown adapter '${l}'`);if(i&&(_.isFunction(i)||(i=i.get(t))))break;s[l||"#"+a]=i}if(!i){const a=Object.entries(s).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(Wp).join(`
`):" "+Wp(a[0]):"as no adapter specified";throw new re("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const dx={getAdapter:RC,adapters:_f};function Eu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ks(null,e)}function Qp(e){return Eu(e),e.headers=Ot.from(e.headers),e.data=Nu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dx.getAdapter(e.adapter||Ha.adapter,e)(e).then(function(r){return Eu(e),r.data=Nu.call(e,e.transformResponse,r),r.headers=Ot.from(r.headers),r},function(r){return ax(r)||(Eu(e),r&&r.response&&(r.response.data=Nu.call(e,e.transformResponse,r.response),r.response.headers=Ot.from(r.response.headers))),Promise.reject(r)})}const fx="1.13.2",Uo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Uo[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Gp={};Uo.transitional=function(t,n,r){function i(s,a){return"[Axios v"+fx+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,l)=>{if(t===!1)throw new re(i(a," has been removed"+(n?" in "+n:"")),re.ERR_DEPRECATED);return n&&!Gp[a]&&(Gp[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,a,l):!0}};Uo.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function LC(e,t,n){if(typeof e!="object")throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],a=t[s];if(a){const l=e[s],u=l===void 0||a(l,s,e);if(u!==!0)throw new re("option "+s+" must be "+u,re.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new re("Unknown option "+s,re.ERR_BAD_OPTION)}}const Ll={assertOptions:LC,validators:Uo},bn=Ll.validators;let oi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Fp,response:new Fp}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=gi(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Ll.assertOptions(r,{silentJSONParsing:bn.transitional(bn.boolean),forcedJSONParsing:bn.transitional(bn.boolean),clarifyTimeoutError:bn.transitional(bn.boolean)},!1),i!=null&&(_.isFunction(i)?n.paramsSerializer={serialize:i}:Ll.assertOptions(i,{encode:bn.function,serialize:bn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ll.assertOptions(n,{baseUrl:bn.spelling("baseURL"),withXsrfToken:bn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&_.merge(s.common,s[n.method]);s&&_.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=Ot.concat(a,s);const l=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(u=u&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let d,f=0,p;if(!u){const m=[Qp.bind(this),void 0];for(m.unshift(...l),m.push(...c),p=m.length,d=Promise.resolve(n);f<p;)d=d.then(m[f++],m[f++]);return d}p=l.length;let h=n;for(;f<p;){const m=l[f++],x=l[f++];try{h=m(h)}catch(b){x.call(this,b);break}}try{d=Qp.call(this,h)}catch(m){return Promise.reject(m)}for(f=0,p=c.length;f<p;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=gi(this.defaults,t);const n=ox(t.baseURL,t.url,t.allowAbsoluteUrls);return rx(n,t.params,t.paramsSerializer)}};_.forEach(["delete","get","head","options"],function(t){oi.prototype[t]=function(n,r){return this.request(gi(r||{},{method:t,url:n,data:(r||{}).data}))}});_.forEach(["post","put","patch"],function(t){function n(r){return function(s,a,l){return this.request(gi(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}oi.prototype[t]=n(),oi.prototype[t+"Form"]=n(!0)});let OC=class hx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(l=>{r.subscribe(l),s=l}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},t(function(s,a,l){r.reason||(r.reason=new ks(s,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new hx(function(i){t=i}),cancel:t}}};function AC(e){return function(n){return e.apply(null,n)}}function IC(e){return _.isObject(e)&&e.isAxiosError===!0}const rd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(rd).forEach(([e,t])=>{rd[t]=e});function px(e){const t=new oi(e),n=Ky(oi.prototype.request,t);return _.extend(n,oi.prototype,t,{allOwnKeys:!0}),_.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return px(gi(e,i))},n}const He=px(Ha);He.Axios=oi;He.CanceledError=ks;He.CancelToken=OC;He.isCancel=ax;He.VERSION=fx;He.toFormData=$o;He.AxiosError=re;He.Cancel=He.CanceledError;He.all=function(t){return Promise.all(t)};He.spread=AC;He.isAxiosError=IC;He.mergeConfig=gi;He.AxiosHeaders=Ot;He.formToJSON=e=>sx(_.isHTMLForm(e)?new FormData(e):e);He.getAdapter=dx.getAdapter;He.HttpStatusCode=rd;He.default=He;const{Axios:G4,AxiosError:X4,CanceledError:J4,isCancel:Y4,CancelToken:Z4,VERSION:e3,all:t3,Cancel:n3,isAxiosError:r3,spread:i3,toFormData:s3,AxiosHeaders:a3,HttpStatusCode:l3,formToJSON:o3,getAdapter:u3,mergeConfig:c3}=He,Q=He.create({baseURL:"/api/v1"}),G={async getProjects(){const{data:e}=await Q.get("/projects");return e},async getProject(e){const{data:t}=await Q.get(`/projects/${e}`);return t},async uploadEpub(e){const t=new FormData;t.append("file",e);const{data:n}=await Q.post("/upload",t,{headers:{"Content-Type":"multipart/form-data"}});return n},async deleteProject(e){await Q.delete(`/projects/${e}`)},async startTranslation(e){const{data:t}=await Q.post("/translation/start",e);return t},async getTranslationStatus(e){const{data:t}=await Q.get(`/translation/status/${e}`);return t},async pauseTranslation(e){await Q.post(`/translation/pause/${e}`)},async resumeTranslation(e,t){await Q.post(`/translation/resume/${e}`,t)},async getProjectTasks(e){const{data:t}=await Q.get(`/translation/tasks/${e}`);return t},async getChapters(e){const{data:t}=await Q.get(`/preview/${e}/chapters`);return t},async getToc(e){const{data:t}=await Q.get(`/preview/${e}/toc`);return t},async getChapterContent(e,t){const{data:n}=await Q.get(`/preview/${e}/chapter/${t}`);return n},async updateTranslation(e,t){await Q.put(`/preview/paragraph/${e}`,{translated_text:t})},async exportEpub(e){const{data:t}=await Q.post(`/export/${e}`,null,{responseType:"blob"});return t},async getProviders(){const{data:e}=await Q.get("/llm/providers");return e},async getModels(e){const{data:t}=await Q.get("/llm/models",{params:e?{provider:e}:void 0});return t},async getProviderModels(e){const{data:t}=await Q.get(`/llm/models/${e}`);return t},async testConnection(e){const{data:t}=await Q.post("/llm/test",e);return t},async estimateCost(e){const{data:t}=await Q.post("/llm/estimate-cost",e);return t},async getLLMConfigurations(){const{data:e}=await Q.get("/llm/configurations");return e},async getActiveLLMConfiguration(){const{data:e}=await Q.get("/llm/configurations/active");return e},async getLLMConfiguration(e){const{data:t}=await Q.get(`/llm/configurations/${e}`);return t},async createLLMConfiguration(e){const{data:t}=await Q.post("/llm/configurations",e);return t},async updateLLMConfiguration(e,t){const{data:n}=await Q.put(`/llm/configurations/${e}`,t);return n},async deleteLLMConfiguration(e){await Q.delete(`/llm/configurations/${e}`)},async activateLLMConfiguration(e){const{data:t}=await Q.post(`/llm/configurations/${e}/activate`);return t},async testLLMConfiguration(e){const{data:t}=await Q.post(`/llm/configurations/${e}/test`);return t},async getWorkflowStatus(e){const{data:t}=await Q.get(`/workflow/${e}/status`);return t},async updateWorkflowStep(e,t){const{data:n}=await Q.put(`/workflow/${e}/step`,{step:t});return n},async getResumePosition(e){const{data:t}=await Q.get(`/workflow/${e}/resume`);return t},async startAnalysis(e,t){const{data:n}=await Q.post(`/analysis/${e}/start`,t);return n},async getAnalysis(e){const{data:t}=await Q.get(`/analysis/${e}`);return t},async updateAnalysis(e,t){const{data:n}=await Q.put(`/analysis/${e}`,t);return n},async regenerateAnalysisField(e,t,n,r){const{data:i}=await Q.post(`/analysis/${e}/regenerate`,{field:t,model:n,api_key:r});return i},async uploadReferenceEpub(e,t){const n=new FormData;n.append("file",t);const{data:r}=await Q.post(`/reference/${e}/upload`,n,{headers:{"Content-Type":"multipart/form-data"}});return r},async getReferenceEpub(e){const{data:t}=await Q.get(`/reference/${e}`);return t},async autoMatchParagraphs(e){const{data:t}=await Q.post(`/reference/${e}/match`);return t},async getMatches(e,t,n,r){const{data:i}=await Q.get(`/reference/${e}/matches`,{params:{chapter_id:t,limit:n,offset:r}});return i},async updateMatch(e,t,n){const{data:r}=await Q.put(`/reference/${e}/match/${t}`,{reference_text:n});return r},async verifyMatch(e,t){const{data:n}=await Q.post(`/reference/${e}/match/${t}/verify`);return n},async deleteReferenceEpub(e){await Q.delete(`/reference/${e}`)},async getReferenceChapters(e){const{data:t}=await Q.get(`/reference/${e}/chapters`);return t},async getReferenceChapterContent(e,t){const{data:n}=await Q.get(`/reference/${e}/chapter/${t}`);return n},async searchReferenceContent(e,t,n){const{data:r}=await Q.get(`/reference/${e}/search`,{params:{q:t,limit:n}});return r},async requestReasoning(e,t){const{data:n}=await Q.post(`/translation/reasoning/${e}`,t);return n},async getReasoning(e){const{data:t}=await Q.get(`/translation/reasoning/${e}`);return t},async startConversation(e,t){const{data:n}=await Q.post(`/translation/conversation/${e}/start`,t);return n},async getConversation(e){const{data:t}=await Q.get(`/translation/conversation/${e}`);return t},async sendMessage(e,t){const{data:n}=await Q.post(`/translation/conversation/${e}/message`,t);return n},async applyTranslationSuggestion(e,t){const{data:n}=await Q.post(`/translation/conversation/${e}/apply`,{message_id:t});return n},async clearConversation(e){await Q.delete(`/translation/conversation/${e}`)},async retranslateParagraph(e,t){const{data:n}=await Q.post(`/translation/retranslate/${e}`,t);return n},async startProofreading(e,t){const{data:n}=await Q.post(`/proofreading/${e}/start`,t);return n},async getProofreadingSession(e){const{data:t}=await Q.get(`/proofreading/session/${e}`);return t},async listProofreadingSessions(e){const{data:t}=await Q.get(`/proofreading/${e}/sessions`);return t},async getProofreadingSuggestions(e,t,n,r){const{data:i}=await Q.get(`/proofreading/${e}/suggestions`,{params:{status:t,limit:n,offset:r}});return i},async updateSuggestion(e,t){const{data:n}=await Q.put(`/proofreading/suggestion/${e}`,t);return n},async applySuggestions(e){const{data:t}=await Q.post(`/proofreading/${e}/apply`);return t},async getPendingSuggestionsCount(e){const{data:t}=await Q.get(`/proofreading/${e}/pending-count`);return t},async getPromptTemplate(e){const{data:t}=await Q.get(`/prompts/${e}`);return t},async updatePromptTemplate(e,t,n){const{data:r}=await Q.put(`/prompts/${e}`,{system_prompt:t,user_prompt:n});return r},async previewPrompt(e,t,n,r){const{data:i}=await Q.post(`/prompts/${e}/preview`,{variables:t,custom_system_prompt:n,custom_user_prompt:r});return i},async listPromptTypes(){const{data:e}=await Q.get("/prompts");return e}};function MC(){const{t:e}=Re(),t=ze(d=>d.language),n=ze(d=>d.fontSize),r=Dr[n],i=Fr(),{data:s,isLoading:a}=me({queryKey:["projects"],queryFn:G.getProjects}),l=Ue({mutationFn:G.deleteProject,onSuccess:()=>{i.invalidateQueries({queryKey:["projects"]})}}),u=(d,f,p)=>{d.preventDefault(),d.stopPropagation(),window.confirm(e("home.confirmDelete",{name:p}))&&l.mutate(f)},c=d=>{switch(d){case"completed":return o.jsx(uo,{className:"w-4 h-4 text-green-500"});case"processing":return o.jsx(Pp,{className:"w-4 h-4 text-blue-500 animate-spin"});case"failed":return o.jsx(za,{className:"w-4 h-4 text-red-500"});default:return o.jsx(Pp,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:`${r.title} font-bold text-gray-900 dark:text-white`,children:e("home.title")}),o.jsx("p",{className:`${r.base} text-gray-600 dark:text-gray-400 mt-1`,children:e("home.subtitle")})]}),o.jsxs(Tn,{to:"/upload",className:`flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors ${r.button}`,children:[o.jsx(Jc,{className:"w-5 h-5"}),e("home.newProject")]})]}),a?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:`${r.base} text-gray-500 dark:text-gray-400 mt-4`,children:e("common.loading")})]}):(s==null?void 0:s.length)===0?o.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[o.jsx(Wn,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto"}),o.jsx("h3",{className:`${r.heading} font-medium text-gray-900 dark:text-white mt-4`,children:e("home.noProjects")}),o.jsx("p",{className:`${r.base} text-gray-500 dark:text-gray-400 mt-2`,children:e("home.noProjectsHint")}),o.jsxs(Tn,{to:"/upload",className:`inline-flex items-center gap-2 mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors ${r.button}`,children:[o.jsx(Jc,{className:"w-5 h-5"}),e("home.uploadEpub")]})]}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s==null?void 0:s.map(d=>o.jsxs(Tn,{to:`/project/${d.id}`,className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 hover:border-blue-300 dark:hover:border-blue-600 hover:shadow-sm transition-all",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:`${r.base} font-medium text-gray-900 dark:text-white truncate`,children:d.name}),o.jsx("p",{className:`${r.sm} text-gray-500 dark:text-gray-400 mt-1`,children:d.author||e("home.unknownAuthor")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[c(d.status),o.jsx("button",{onClick:f=>u(f,d.id,d.name),className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:e("common.delete"),children:o.jsx(Io,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:`flex items-center gap-4 mt-4 ${r.sm} text-gray-500 dark:text-gray-400`,children:[o.jsxs("span",{children:[d.total_chapters," ",e("home.chapters")]}),o.jsxs("span",{children:[d.total_paragraphs," ",e("home.paragraphs")]})]}),o.jsx("p",{className:`${r.xs} text-gray-400 dark:text-gray-500 mt-2`,children:new Date(d.created_at).toLocaleDateString(t==="zh"?"zh-CN":"en-US")})]},d.id))})]})}function FC(){const e=bs(),{t}=Re(),n=ze(p=>p.fontSize),r=Dr[n],[i,s]=N.useState(null),[a,l]=N.useState(!1),u=Ue({mutationFn:G.uploadEpub,onSuccess:p=>{e(`/project/${p.project_id}/analysis`)}}),c=N.useCallback(p=>{p.preventDefault(),l(!1);const h=p.dataTransfer.files[0];h!=null&&h.name.endsWith(".epub")&&s(h)},[]),d=N.useCallback(p=>{var m;const h=(m=p.target.files)==null?void 0:m[0];h!=null&&h.name.endsWith(".epub")&&s(h)},[]),f=()=>{i&&u.mutate(i)};return o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("h1",{className:`${r.title} font-bold text-gray-900 dark:text-white mb-2`,children:t("upload.title")}),o.jsx("p",{className:`${r.base} text-gray-600 dark:text-gray-400 mb-8`,children:t("upload.subtitle")}),o.jsx("div",{onDragOver:p=>{p.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:c,className:`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${a?"border-blue-400 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,children:i?o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsx(Or,{className:"w-12 h-12 text-blue-500 dark:text-blue-400"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:`${r.base} font-medium text-gray-900 dark:text-white`,children:i.name}),o.jsxs("p",{className:`${r.sm} text-gray-500 dark:text-gray-400`,children:[(i.size/1024/1024).toFixed(2)," MB"]})]}),o.jsx("button",{onClick:()=>s(null),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:o.jsx(tn,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(Zc,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto"}),o.jsxs("p",{className:`${r.base} text-gray-600 dark:text-gray-400 mt-4`,children:[t("upload.dropHint"),o.jsxs("label",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 cursor-pointer ml-1",children:[t("upload.clickToSelect"),o.jsx("input",{type:"file",accept:".epub",onChange:d,className:"hidden"})]})]}),o.jsx("p",{className:`${r.sm} text-gray-400 dark:text-gray-500 mt-2`,children:t("upload.formatHint")})]})}),u.isError&&o.jsxs("div",{className:`mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 ${r.base}`,children:[t("upload.uploadFailed"),"",u.error.message]}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsx("button",{onClick:f,disabled:!i||u.isPending,className:`flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors ${r.button}`,children:u.isPending?o.jsxs(o.Fragment,{children:[o.jsx(ve,{className:"w-5 h-5 animate-spin"}),t("upload.uploading")]}):o.jsxs(o.Fragment,{children:[o.jsx(Zc,{className:"w-5 h-5"}),t("upload.startUpload")]})})})]})}const Pu=e=>({id:e.id,name:e.name,provider:e.provider,model:e.model,hasApiKey:e.has_api_key,maskedApiKey:e.masked_api_key||"",isDefault:e.is_default,isActive:e.is_active}),Zn=qy()((e,t)=>({llmConfigs:[],activeConfigId:null,isLoading:!1,error:null,_isHydrated:!1,loadConfigs:async()=>{var n;e({isLoading:!0,error:null});try{const i=(await G.getLLMConfigurations()).map(Pu),s=i.find(a=>a.isActive);e({llmConfigs:i,activeConfigId:(s==null?void 0:s.id)||((n=i.find(a=>a.isDefault))==null?void 0:n.id)||null,isLoading:!1,_isHydrated:!0})}catch(r){console.error("Failed to load LLM configurations:",r),e({error:r instanceof Error?r.message:"Failed to load configurations",isLoading:!1,_isHydrated:!0})}},addLLMConfig:async n=>{e({isLoading:!0,error:null});try{const r={name:n.name,provider:n.provider,model:n.model,api_key:n.apiKey,is_default:n.isDefault,is_active:t().llmConfigs.length===0?!0:n.isDefault},i=await G.createLLMConfiguration(r),s=Pu(i);return e(a=>({llmConfigs:[...a.llmConfigs.map(l=>s.isDefault?{...l,isDefault:!1}:l),s],activeConfigId:s.isActive?s.id:a.activeConfigId,isLoading:!1})),i.id}catch(r){throw console.error("Failed to add LLM configuration:",r),e({error:r instanceof Error?r.message:"Failed to add configuration",isLoading:!1}),r}},updateLLMConfig:async(n,r)=>{e({isLoading:!0,error:null});try{const i={};r.name!==void 0&&(i.name=r.name),r.provider!==void 0&&(i.provider=r.provider),r.model!==void 0&&(i.model=r.model),r.apiKey!==void 0&&(i.api_key=r.apiKey),r.isDefault!==void 0&&(i.is_default=r.isDefault),r.isActive!==void 0&&(i.is_active=r.isActive);const s=await G.updateLLMConfiguration(n,i),a=Pu(s);e(l=>({llmConfigs:l.llmConfigs.map(u=>u.id===n?a:r.isDefault&&u.id!==n?{...u,isDefault:!1}:u),isLoading:!1}))}catch(i){throw console.error("Failed to update LLM configuration:",i),e({error:i instanceof Error?i.message:"Failed to update configuration",isLoading:!1}),i}},deleteLLMConfig:async n=>{var r;e({isLoading:!0,error:null});try{await G.deleteLLMConfiguration(n);const i=t(),s=i.llmConfigs.find(c=>c.id===n),a=i.llmConfigs.filter(c=>c.id!==n);let l=a;s!=null&&s.isDefault&&a.length>0&&(l=a.map((c,d)=>d===0?{...c,isDefault:!0}:c));let u=i.activeConfigId;if(i.activeConfigId===n){const c=l.find(d=>d.isDefault);u=(c==null?void 0:c.id)||((r=l[0])==null?void 0:r.id)||null}e({llmConfigs:l,activeConfigId:u,isLoading:!1})}catch(i){throw console.error("Failed to delete LLM configuration:",i),e({error:i instanceof Error?i.message:"Failed to delete configuration",isLoading:!1}),i}},setDefaultConfig:async n=>{await t().updateLLMConfig(n,{isDefault:!0})},setActiveConfig:async n=>{e({isLoading:!0,error:null});try{await G.activateLLMConfiguration(n),e(r=>({llmConfigs:r.llmConfigs.map(i=>({...i,isActive:i.id===n})),activeConfigId:n,isLoading:!1}))}catch(r){throw console.error("Failed to set active configuration:",r),e({error:r instanceof Error?r.message:"Failed to set active configuration",isLoading:!1}),r}},testConfig:async n=>{try{const r=await G.testLLMConfiguration(n);return{success:r.success,message:r.message}}catch(r){return{success:!1,message:r instanceof Error?r.message:"Test failed"}}},getActiveConfig:()=>{const n=t();return n.activeConfigId?n.llmConfigs.find(r=>r.id===n.activeConfigId)||null:n.llmConfigs.find(r=>r.isActive)||n.llmConfigs.find(r=>r.isDefault)||n.llmConfigs[0]||null},getDefaultConfig:()=>t().llmConfigs.find(n=>n.isDefault)||null,getActiveConfigId:()=>{const n=t().getActiveConfig();return(n==null?void 0:n.id)||null}}));function zC(){const{t:e}=Re(),{projectId:t}=bi(),[n,r]=N.useState("author_based"),[i,s]=N.useState(""),[a,l]=N.useState(""),{getActiveConfig:u,getActiveConfigId:c}=Zn(),d=u(),f=c(),{data:p,isLoading:h}=me({queryKey:["project",t],queryFn:()=>G.getProject(t),enabled:!!t}),{data:m}=me({queryKey:["tasks",t],queryFn:()=>G.getProjectTasks(t),enabled:!!t,refetchInterval:2e3}),x=Ue({mutationFn:G.startTranslation}),b=m==null?void 0:m[0],y=(b==null?void 0:b.status)==="processing",g=()=>{if(!t||!d||!d.hasApiKey){alert(e("translate.configLlmFirst"));return}x.mutate({project_id:t,mode:n,config_id:f||void 0,author_background:i||void 0,custom_prompts:a?a.split(`
`).filter(Boolean):void 0})};return h?o.jsx("div",{className:"text-center py-12",children:o.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto"})}):p?o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:p.name}),o.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[p.author||e("home.unknownAuthor"),"  ",p.total_chapters," ",e("home.chapters")," "," ",p.total_paragraphs," ",e("home.paragraphs")]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Tn,{to:`/preview/${t}`,className:"flex items-center gap-1.5 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:[o.jsx(Sa,{className:"w-4 h-4"}),e("common.preview")]}),o.jsxs(Tn,{to:"/settings",className:"flex items-center gap-1.5 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:[o.jsx(co,{className:"w-4 h-4"}),e("common.settings")]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[o.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:e("translate.translationConfig")}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("translate.translationMode")}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("button",{onClick:()=>r("author_based"),className:`p-4 border rounded-lg text-left transition-colors ${n==="author_based"?"border-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[o.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:e("translate.authorBasedMode")}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e("translate.authorBasedDesc")})]}),o.jsxs("button",{onClick:()=>r("optimization"),className:`p-4 border rounded-lg text-left transition-colors ${n==="optimization"?"border-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[o.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:e("translate.optimizationMode")}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e("translate.optimizationDesc")})]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("translate.authorBackground")}),o.jsx("textarea",{value:i,onChange:v=>s(v.target.value),placeholder:e("translate.authorBackgroundPlaceholder"),className:"w-full h-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("translate.customPrompts")}),o.jsx("textarea",{value:a,onChange:v=>l(v.target.value),placeholder:e("translate.customPromptsPlaceholder"),className:"w-full h-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),o.jsx("div",{className:`p-4 rounded-lg mb-6 ${d?"bg-gray-50 dark:bg-gray-700/50":"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{children:d?o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e("translate.currentLlmConfig"),o.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100 ml-1",children:d.name})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:d.model})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(za,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-500"}),o.jsx("span",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:e("translate.configLlmWarning")})]})}),o.jsxs(Tn,{to:"/settings",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 flex items-center",children:[e(d?"translate.change":"translate.configure")," ",o.jsx(wi,{className:"w-4 h-4"})]})]})}),o.jsx("div",{className:"flex gap-3",children:o.jsx("button",{onClick:g,disabled:y||!d||!d.hasApiKey,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:y?o.jsxs(o.Fragment,{children:[o.jsx(ve,{className:"w-5 h-5 animate-spin"}),e("translate.translating")]}):o.jsxs(o.Fragment,{children:[o.jsx(Ca,{className:"w-5 h-5"}),e("translate.startTranslation")]})})})]}),b&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[o.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:e("translate.translationProgress")}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[b.completed_paragraphs," / ",b.total_paragraphs," ",e("home.paragraphs")]}),o.jsxs("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:[Math.round(b.progress*100),"%"]})]}),o.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300",style:{width:`${b.progress*100}%`}})})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:`px-2 py-1 rounded ${b.status==="completed"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":b.status==="processing"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":b.status==="failed"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:b.status==="completed"?e("translate.statusCompleted"):b.status==="processing"?e("translate.statusProcessing"):b.status==="paused"?e("translate.statusPaused"):b.status==="failed"?e("translate.statusFailed"):e("translate.statusPending")}),b.status==="completed"&&o.jsxs("button",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[o.jsx(Cf,{className:"w-4 h-4"}),e("translate.exportEpub")]})]})]})]}):o.jsx("div",{children:e("common.projectNotFound")})}function mx({item:e,level:t,selectedChapterId:n,onSelectChapter:r,defaultExpanded:i=!0,expandAll:s=!1,compact:a=!1,minimal:l=!1,fontClasses:u}){const{t:c}=Re(),[d,f]=N.useState(i),p=e.children&&e.children.length>0,h=e.chapter_id!==null,m=e.chapter_id===n,x=N.useMemo(()=>{const K=B=>{var X;return B.chapter_id===n?!0:((X=B.children)==null?void 0:X.some(K))??!1};return K(e)},[e,n]),b=()=>{h?r(e.chapter_id):p&&!s&&!l&&f(!d)},y=K=>{K.stopPropagation(),!s&&!l&&f(!d)},g=l?"text-[10px]":(u==null?void 0:u.paragraph)||"text-sm",v=(u==null?void 0:u.xs)||"text-xs",k=s||l?!0:d,E=l?"py-[1px] px-1":a?"py-1 px-1.5":"py-1.5 px-2",j=l?"leading-tight":"",O=l?m?"font-semibold":"font-normal":a?"font-normal":"font-medium",P=l&&m?"text-xs":"",D=a?"text-gray-500 dark:text-gray-400":"text-gray-700 dark:text-gray-300",L=a?"text-gray-500 dark:text-gray-400":"text-gray-600 dark:text-gray-400",M=h?"cursor-pointer":"cursor-default",F=l?"":"transition-colors",H=l&&m?"bg-amber-100 dark:bg-amber-900/40":"";return o.jsxs("div",{children:[o.jsxs("div",{onClick:b,className:`
          flex items-center gap-1 ${g} ${j} ${M} ${F} ${E}
          ${!l&&m?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":""}
          ${!l&&!m&&h?`hover:bg-gray-50 dark:hover:bg-gray-700/50 ${D}`:""}
          ${!l&&!h&&!p?"text-gray-400 dark:text-gray-500 cursor-default":""}
          ${!l&&!h&&p?L:""}
          ${H}
        `,style:{paddingLeft:`${t*16+8}px`},children:[p&&!l?o.jsx("button",{onClick:y,className:"p-0.5 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",children:k?o.jsx(Sf,{className:"w-3.5 h-3.5"}):o.jsx(wi,{className:"w-3.5 h-3.5"})}):o.jsx("span",{className:"w-4"}),p&&!l?k?o.jsx(Pk,{className:"w-4 h-4 text-amber-500"}):o.jsx(_k,{className:"w-4 h-4 text-amber-500"}):l?null:o.jsx(Or,{className:`w-4 h-4 ${h?"text-blue-500":"text-gray-400"}`}),o.jsx("span",{className:`truncate flex-1 ${O} ${P}`,children:e.title||c("preview.untitled")}),!l&&e.paragraph_count!==null&&e.paragraph_count>0&&o.jsx("span",{className:`${v} text-gray-400 dark:text-gray-500 ml-1`,children:e.paragraph_count})]}),p&&k&&o.jsx("div",{children:e.children.map((K,B)=>o.jsx(mx,{item:K,level:t+1,selectedChapterId:n,onSelectChapter:r,defaultExpanded:s?!0:x,expandAll:s,compact:a,minimal:l,fontClasses:u},`${K.href||K.title}-${B}`))})]})}function Bo({toc:e,selectedChapterId:t,onSelectChapter:n,fontClasses:r,expandAll:i=!1,compact:s=!1,minimal:a=!1}){const{t:l}=Re(),u=(r==null?void 0:r.paragraph)||"text-sm";return!e||e.length===0?o.jsx("div",{className:`text-gray-500 dark:text-gray-400 ${u} p-4 text-center`,children:l("preview.noChapters")}):o.jsx("div",{className:"space-y-0.5",children:e.map((c,d)=>o.jsx(mx,{item:c,level:0,selectedChapterId:t,onSelectChapter:n,defaultExpanded:!0,expandAll:i,compact:s,minimal:a,fontClasses:r},`${c.href||c.title}-${d}`))})}function hl(e,t,n,r){const i=n;switch(t){case"h1":return o.jsx("h1",{className:`text-3xl font-bold mt-8 mb-4 ${i}`,children:e},r);case"h2":return o.jsx("h2",{className:`text-2xl font-bold mt-6 mb-3 ${i}`,children:e},r);case"h3":return o.jsx("h3",{className:`text-xl font-semibold mt-5 mb-2 ${i}`,children:e},r);case"h4":return o.jsx("h4",{className:`text-lg font-semibold mt-4 mb-2 ${i}`,children:e},r);case"h5":case"h6":return o.jsx("h5",{className:`text-base font-semibold mt-3 mb-2 ${i}`,children:e},r);case"blockquote":return o.jsx("blockquote",{className:`border-l-4 border-gray-300 dark:border-gray-600 pl-4 my-4 italic ${i}`,children:e},r);case"li":return o.jsx("li",{className:`ml-6 list-disc ${i}`,children:e},r);default:return o.jsx("p",{className:`my-3 leading-relaxed ${i}`,children:e},r)}}function Xp({image:e,projectId:t}){const{t:n}=Re(),[r,i]=N.useState(!1),s=e.url||`/api/v1/preview/${t}/image/${e.src}`;return r?o.jsx("div",{className:"my-6 flex justify-center",children:o.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-8 text-gray-500 dark:text-gray-400 text-sm",children:n("preview.imageLoadError")})}):o.jsxs("figure",{className:"my-6 flex flex-col items-center",children:[o.jsx("img",{src:s,alt:e.alt||"",onError:()=>i(!0),className:"max-w-full h-auto rounded-lg shadow-md",style:{maxHeight:"70vh"}}),e.caption&&o.jsx("figcaption",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 italic text-center",children:e.caption})]})}function gx({content:e,projectId:t,contentMode:n}){const{t:r}=Re(),i="text-gray-800 dark:text-gray-200",s="text-gray-600 dark:text-gray-400",a=[...e.images||[]].sort((c,d)=>c.position-d.position),l=a.filter((c,d)=>d===0),u=a.filter((c,d)=>d>0);return o.jsx("div",{className:"reader-view",children:o.jsxs("article",{className:"max-w-2xl mx-auto px-4 py-8 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[e.title&&o.jsx("h1",{className:"text-3xl font-serif font-bold text-center mb-8 text-gray-900 dark:text-gray-100",children:e.title}),l.map((c,d)=>o.jsx(Xp,{image:c,projectId:t},`header-img-${d}`)),o.jsx("div",{className:"font-serif text-lg leading-relaxed",children:e.paragraphs.length===0?o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:r("preview.noContent")}):e.paragraphs.map(c=>{const d=!!c.translated_text;return n==="original"?hl(c.original_text,c.html_tag,i,`para-${c.id}`):n==="translation"?hl(d?c.translated_text:c.original_text,c.html_tag,d?i:`${s} italic`,`para-${c.id}`):o.jsxs("div",{className:"mb-6",children:[hl(c.original_text,c.html_tag,s,`para-orig-${c.id}`),d&&o.jsx("div",{className:"mt-2 pl-4 border-l-2 border-blue-300 dark:border-blue-600",children:hl(c.translated_text,c.html_tag,"text-blue-800 dark:text-blue-300",`para-trans-${c.id}`)})]},`para-${c.id}`)})}),u.length>0&&o.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-gray-700",children:u.map((c,d)=>o.jsx(Xp,{image:c,projectId:t},`other-img-${d}`))})]})})}function DC(e){const t=[],n=new Set,r=i=>{for(const s of i)s.chapter_id&&!n.has(s.chapter_id)&&(n.add(s.chapter_id),t.push(s.chapter_id)),s.children&&s.children.length>0&&r(s.children)};return r(e),t}function $C(){const{t:e}=Re(),{projectId:t}=bi(),[n,r]=N.useState(null),[i,s]=N.useState("bilingual"),{data:a}=me({queryKey:["toc",t],queryFn:()=>G.getToc(t),enabled:!!t}),{data:l}=me({queryKey:["chapters",t],queryFn:()=>G.getChapters(t),enabled:!!t}),u=N.useMemo(()=>a&&a.length>0?DC(a):(l==null?void 0:l.map(m=>m.id))||[],[a,l]),{data:c,isLoading:d}=me({queryKey:["chapter",t,n],queryFn:()=>G.getChapterContent(t,n),enabled:!!t&&!!n});u.length>0&&!n&&r(u[0]);const f=u.findIndex(m=>m===n),p=f>0,h=f>=0&&f<u.length-1;return o.jsxs("div",{className:"flex gap-6",children:[o.jsx("div",{className:"w-72 flex-shrink-0",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 sticky top-4",children:[o.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:e("preview.chapterList")}),o.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:a&&a.length>0?o.jsx(Bo,{toc:a,selectedChapterId:n,onSelectChapter:r}):l!=null&&l.length?o.jsx("div",{className:"space-y-1",children:l.map(m=>o.jsxs("button",{onClick:()=>r(m.id),className:`w-full text-left px-3 py-2 rounded text-sm transition-colors ${n===m.id?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[o.jsx("div",{className:"font-medium truncate",children:m.title||e("preview.chapterNumber",{number:String(m.chapter_number)})}),o.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:[m.paragraph_count," ",e("home.paragraphs")]})]},m.id))}):o.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm text-center py-4",children:e("preview.noChapters")})})]})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("button",{onClick:()=>{p&&r(u[f-1])},disabled:!p,className:"flex items-center gap-1 px-3 py-1.5 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 disabled:text-gray-300 dark:disabled:text-gray-600",children:[o.jsx(Da,{className:"w-4 h-4"}),e("preview.prevChapter")]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("div",{className:"inline-flex rounded-lg bg-gray-100 dark:bg-gray-700 p-1",children:[o.jsx("button",{onClick:()=>s("translation"),className:`px-3 py-1 text-sm rounded-md transition-colors ${i==="translation"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:e("preview.showTranslation")}),o.jsx("button",{onClick:()=>s("bilingual"),className:`px-3 py-1 text-sm rounded-md transition-colors ${i==="bilingual"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:e("preview.showBilingual")}),o.jsx("button",{onClick:()=>s("original"),className:`px-3 py-1 text-sm rounded-md transition-colors ${i==="original"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:e("preview.showOriginal")})]})}),o.jsxs("button",{onClick:()=>{h&&r(u[f+1])},disabled:!h,className:"flex items-center gap-1 px-3 py-1.5 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 disabled:text-gray-300 dark:disabled:text-gray-600",children:[e("preview.nextChapter"),o.jsx(wi,{className:"w-4 h-4"})]})]}),d?o.jsx("div",{className:"text-center py-12",children:o.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto"})}):c?o.jsx(gx,{content:c,projectId:t,contentMode:i}):null]})]})}function zi(e){return e===0?"Free":e<.01?`$${e.toFixed(4)}/M`:e<1?`$${e.toFixed(2)}/M`:`$${e.toFixed(1)}/M`}function Jp(e){return e?e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${e}`:"N/A"}function Yp({config:e,providers:t,models:n,onSave:r,onCancel:i,onTestExisting:s,isNew:a=!1}){const{t:l}=Re(),[u,c]=N.useState(e.name||""),[d,f]=N.useState(e.provider||""),[p,h]=N.useState(e.model||""),[m,x]=N.useState(e.apiKey||""),[b,y]=N.useState(e.isDefault||!1),[g,v]=N.useState(!1),[k,E]=N.useState(null),[j,O]=N.useState(!1),P=Ue({mutationFn:G.testConnection,onSuccess:T=>E(T),onError:T=>E({success:!1,message:String(T)})}),D=t.find(T=>T.name===d),L=(D==null?void 0:D.manual_model)||!1,M=N.useMemo(()=>!d||L?[]:n.filter(T=>T.provider===d),[n,d,L]),F=n.find(T=>T.id===p),H=T=>{f(T);const V=t.find(w=>w.name===T);if(V!=null&&V.manual_model)h("");else{const w=n.find(Y=>Y.provider===T);h(w?w.id:"")}E(null)},K=async()=>{if(!a&&e.id&&!m&&e.hasApiKey&&s){E(null),O(!0);try{const T=await s(e.id);E(T)}catch(T){E({success:!1,message:String(T)})}finally{O(!1)}}else p&&m&&P.mutate({model:p,api_key:m})},B=p&&m||!a&&e.id&&e.hasApiKey&&!m,X=P.isPending||j,le=()=>{if(!u.trim()||!d||!p){alert(l("settings.fillAllFields"));return}if(a&&!m.trim()){alert(l("settings.fillAllFields"));return}const T={name:u.trim(),provider:d,model:p,isDefault:b};m.trim()&&(T.apiKey=m.trim()),r(T)};return o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l(a?"settings.addNew":"settings.editConfig")}),o.jsx("button",{onClick:i,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:o.jsx(tn,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[l("settings.configName")," *"]}),o.jsx("input",{type:"text",value:u,onChange:T=>c(T.target.value),placeholder:l("settings.configNamePlaceholder"),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[l("settings.provider")," *"]}),o.jsxs("select",{value:d,onChange:T=>H(T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[o.jsx("option",{value:"",children:l("settings.selectProvider")}),t.map(T=>o.jsx("option",{value:T.name,children:l(`providers.${T.name}`)},T.name))]})]}),d&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[l("settings.model")," *"]}),L?o.jsxs("div",{children:[o.jsx("input",{type:"text",value:p,onChange:T=>{h(T.target.value),E(null)},placeholder:d==="ollama"?"llama3.1, qwen2.5, etc.":"openai/gpt-4o, anthropic/claude-3.5-sonnet, etc.",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:l(d==="ollama"?"settings.modelHintOllama":"settings.modelHintOpenRouter")})]}):o.jsxs(o.Fragment,{children:[o.jsxs("select",{value:p,onChange:T=>{h(T.target.value),E(null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[o.jsx("option",{value:"",children:l("settings.selectModel")}),M.map(T=>o.jsxs("option",{value:T.id,children:[T.display_name," - ",l("settings.input"),": ",zi(T.input_cost_per_million)," / ",l("settings.output"),": ",zi(T.output_cost_per_million)]},T.id))]}),F&&o.jsxs("div",{className:"mt-2 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-sm",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-gray-600 dark:text-gray-400",children:[o.jsxs("div",{children:[l("settings.context"),": ",Jp(F.context_window)]}),o.jsxs("div",{children:[l("settings.maxOutput"),": ",Jp(F.max_tokens)]}),o.jsxs("div",{children:[l("settings.input"),": ",zi(F.input_cost_per_million)]}),o.jsxs("div",{children:[l("settings.output"),": ",zi(F.output_cost_per_million)]})]}),o.jsxs("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-500",children:[l("settings.estCost"),": ~$",(1e4/4*(F.input_cost_per_million/1e6)+15e3/4*(F.output_cost_per_million/1e6)).toFixed(4)," USD"]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[l("settings.apiKey")," ",a?"*":""]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:g?"text":"password",value:m,onChange:T=>{x(T.target.value),E(null)},placeholder:a?l("settings.apiKeyPlaceholder"):e.maskedApiKey||l("settings.apiKeyPlaceholderEdit"),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"}),o.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:g?"Hide":"Show",children:g?o.jsx(Ek,{className:"w-4 h-4"}):o.jsx(Sa,{className:"w-4 h-4"})})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:l(a?"settings.apiKeyHint":"settings.apiKeyHintEdit")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"isDefault",checked:b,onChange:T=>y(T.target.checked),className:"w-4 h-4 text-blue-600 rounded border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-700"}),o.jsx("label",{htmlFor:"isDefault",className:"text-sm text-gray-700 dark:text-gray-300",children:l("settings.setAsDefault")})]}),o.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[o.jsx("button",{onClick:K,disabled:!B||X,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed",children:X?o.jsxs(o.Fragment,{children:[o.jsx(ve,{className:"w-4 h-4 animate-spin"}),l("settings.testing")]}):l("settings.testConnection")}),o.jsxs("button",{onClick:le,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[o.jsx(ja,{className:"w-4 h-4"}),l("common.save")]}),o.jsx("button",{onClick:i,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:l("common.cancel")}),k&&o.jsxs("div",{className:`flex items-center gap-2 ml-auto ${k.success?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[k.success?o.jsx(gn,{className:"w-5 h-5"}):o.jsx(za,{className:"w-5 h-5"}),o.jsx("span",{className:"text-sm",children:k.message})]})]})]})]})}function UC({config:e,models:t,isActive:n,onEdit:r,onDelete:i,onSetDefault:s,onSetActive:a}){const{t:l}=Re(),u=t.find(c=>c.id===e.model);return o.jsx("div",{className:`p-4 border rounded-lg transition-all ${n?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 ring-2 ring-blue-200 dark:ring-blue-800":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 cursor-pointer",onClick:a,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),e.isDefault&&o.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-400 rounded-full",children:l("settings.default")}),n&&o.jsx("span",{className:"px-2 py-0.5 text-xs bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-400 rounded-full",children:l("settings.active")})]}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:(u==null?void 0:u.display_name)||e.model}),o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-500 mt-1",children:[o.jsx(Rk,{className:"w-3 h-3"}),o.jsx("span",{className:"font-mono",children:e.hasApiKey?e.maskedApiKey:l("settings.apiKeyMissing")})]}),u&&o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:[l("settings.input"),": ",zi(u.input_cost_per_million)," / ",l("settings.output"),": ",zi(u.output_cost_per_million)]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:s,className:`p-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-700 ${e.isDefault?"text-yellow-500":"text-gray-400 dark:text-gray-500"}`,title:e.isDefault?l("settings.default"):l("settings.setAsDefault"),children:e.isDefault?o.jsx(Yc,{className:"w-4 h-4 fill-current"}):o.jsx(Fk,{className:"w-4 h-4"})}),o.jsx("button",{onClick:r,className:"p-1.5 rounded text-gray-400 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-600 dark:hover:text-gray-300",title:l("common.edit"),children:o.jsx(Ik,{className:"w-4 h-4"})}),o.jsx("button",{onClick:i,className:"p-1.5 rounded text-gray-400 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-red-600 dark:hover:text-red-400",title:l("common.delete"),children:o.jsx(Io,{className:"w-4 h-4"})})]})]})})}function BC(){const{t:e}=Re(),{fontSize:t,setFontSize:n,resetPanelWidths:r}=ze(),i=Dr[t],s=[{value:"small",label:e("fontSize.small")},{value:"medium",label:e("fontSize.medium")},{value:"large",label:e("fontSize.large")}];return o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Dk,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),o.jsx("h2",{className:`${i.heading} font-semibold text-gray-900 dark:text-white`,children:e("appSettings.title")})]}),o.jsx("p",{className:`${i.base} text-gray-600 dark:text-gray-400 mb-4`,children:e("appSettings.subtitle")}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:`block ${i.label} font-medium text-gray-700 dark:text-gray-300 mb-2`,children:e("fontSize.title")}),o.jsx("div",{className:"flex gap-2",children:s.map(({value:a,label:l})=>o.jsx("button",{onClick:()=>n(a),className:`px-4 py-2 rounded-lg border transition-colors ${i.button} ${t===a?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:l},a))})]}),o.jsxs("div",{children:[o.jsx("label",{className:`block ${i.label} font-medium text-gray-700 dark:text-gray-300 mb-2`,children:e("appSettings.panelWidths")}),o.jsx("p",{className:`${i.xs} text-gray-500 dark:text-gray-400 mb-2`,children:e("appSettings.panelWidthsHint")}),o.jsx("button",{onClick:r,className:`px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${i.button}`,children:e("appSettings.resetPanelWidths")})]})]})]})}function HC(){const{t:e}=Re(),t=ze(P=>P.fontSize),n=Dr[t],{llmConfigs:r,activeConfigId:i,addLLMConfig:s,updateLLMConfig:a,deleteLLMConfig:l,setDefaultConfig:u,setActiveConfig:c,testConfig:d}=Zn(),[f,p]=N.useState(!1),[h,m]=N.useState(null),{data:x,isLoading:b}=me({queryKey:["providers"],queryFn:G.getProviders}),{data:y,isLoading:g}=me({queryKey:["models"],queryFn:()=>G.getModels()}),v=N.useMemo(()=>x?x.filter(P=>P.model_count>0||P.manual_model):[],[x]),k=async P=>{if(!P.apiKey){alert(e("settings.fillAllFields"));return}await s({...P,apiKey:P.apiKey}),p(!1)},E=async(P,D)=>{await a(P,D),m(null)},j=(P,D)=>{confirm(e("settings.confirmDelete",{name:D}))&&l(P)};if(b||g)return o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600"})});const O=h?r.find(P=>P.id===h):null;return o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsx(BC,{}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:`${n.title} font-bold text-gray-900 dark:text-white`,children:e("settings.title")}),o.jsx("p",{className:`${n.base} text-gray-600 dark:text-gray-400 mt-1`,children:e("settings.subtitle")})]}),!f&&!h&&o.jsxs("button",{onClick:()=>p(!0),className:`flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 ${n.button}`,children:[o.jsx(Jc,{className:"w-4 h-4"}),e("settings.addConfig")]})]}),f&&o.jsx("div",{className:"mb-6",children:o.jsx(Yp,{config:{isDefault:r.length===0},providers:v,models:y||[],onSave:k,onCancel:()=>p(!1),isNew:!0})}),O&&o.jsx("div",{className:"mb-6",children:o.jsx(Yp,{config:O,providers:v,models:y||[],onSave:P=>E(O.id,P),onCancel:()=>m(null),onTestExisting:d})}),!f&&!h&&o.jsx("div",{className:"space-y-3",children:r.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-800/50 rounded-lg border-2 border-dashed border-gray-200 dark:border-gray-700",children:[o.jsx("p",{className:`${n.base} text-gray-500 dark:text-gray-400 mb-4`,children:e("settings.noConfigs")}),o.jsx("button",{onClick:()=>p(!0),className:`${n.button} text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium`,children:e("settings.addFirstConfig")})]}):r.map(P=>o.jsx(UC,{config:P,models:y||[],isActive:i===P.id,onEdit:()=>m(P.id),onDelete:()=>j(P.id,P.name),onSetDefault:()=>u(P.id),onSetActive:()=>c(P.id)},P.id))}),r.length>0&&!f&&!h&&o.jsxs("div",{className:`mt-6 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg ${n.base} text-gray-600 dark:text-gray-400`,children:[o.jsxs("p",{children:[o.jsxs("strong",{children:[e("settings.tip"),":"]})," ",e("settings.tipContent")]}),o.jsx("p",{className:"mt-1",children:e("settings.tipDefaultContent")})]})]})}function qC(){const{projectId:e}=bi(),t=bs(),n=vi(),{t:r}=Re(),i=ze(E=>E.setTranslationProgress),s=ze(E=>E.setWorkflowStatus),a=()=>{const E=n.pathname;return E.includes("/analysis")?"analysis":E.includes("/translate")?"translation":E.includes("/proofread")?"proofreading":E.includes("/export")?"export":"analysis"},[l,u]=N.useState(a()),{data:c,isLoading:d}=me({queryKey:["project",e],queryFn:()=>G.getProject(e),enabled:!!e}),{data:f,isLoading:p,refetch:h}=me({queryKey:["workflowStatus",e],queryFn:()=>G.getWorkflowStatus(e),enabled:!!e,refetchInterval:5e3}),m=f==null?void 0:f.translation_progress,x=(m==null?void 0:m.status)==="processing"||(m==null?void 0:m.status)==="pending",{data:b}=me({queryKey:["workflowStatus-active",e],queryFn:()=>G.getWorkflowStatus(e),enabled:!!e&&x,refetchInterval:x?2e3:!1}),y=x&&b?b:f,g=y==null?void 0:y.translation_progress,v=(g==null?void 0:g.status)==="processing"||(g==null?void 0:g.status)==="pending";if(N.useEffect(()=>{u(a())},[n.pathname]),N.useEffect(()=>{i(v&&g&&c&&e?{projectId:e,projectName:c.name,status:g.status||"processing",progress:g.progress,completed_paragraphs:g.completed_paragraphs,total_paragraphs:g.total_paragraphs}:null)},[v,g,c,e,i]),N.useEffect(()=>{e&&y&&s({projectId:e,currentStep:l,analysisCompleted:y.analysis_completed??!1,translationCompleted:y.translation_completed??!1,proofreadingCompleted:y.proofreading_completed??!1})},[e,l,y,s]),N.useEffect(()=>()=>{i(null),s(null)},[i,s]),d||p)return o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600"})});if(!c)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:r("common.error")}),o.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Project not found"}),o.jsx("button",{onClick:()=>t("/"),className:"mt-4 text-blue-600 hover:text-blue-700",children:r("nav.home")})]});const k=n.pathname.includes("/translate");return o.jsxs("div",{className:k?"w-full h-full flex flex-col":"max-w-6xl mx-auto",children:[o.jsxs("div",{className:k?"mb-1 flex-shrink-0":"mb-6",children:[!k&&o.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 mb-4",children:[o.jsx(Ep,{className:"w-4 h-4"}),r("nav.home")]}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-3",children:[k&&o.jsx("button",{onClick:()=>t("/"),className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100",children:o.jsx(Ep,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`font-bold text-gray-900 dark:text-gray-100 ${k?"text-lg":"text-2xl"}`,children:c.name}),c.author&&!k&&o.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[r("common.by")," ",c.author]})]})]})})]}),o.jsx("div",{className:`${k?"flex-1 min-h-0 overflow-hidden":"mt-8"}`,children:o.jsx(ok,{context:{project:c,workflowStatus:y,refetchWorkflow:h}})})]})}function ho({isOpen:e,onClose:t,onConfirm:n,promptType:r,variables:i,title:s,isLoading:a=!1}){var H,K;const{t:l}=Re(),u=Fr(),[c,d]=N.useState("system"),[f,p]=N.useState(""),[h,m]=N.useState(""),[x,b]=N.useState(!1),[y,g]=N.useState(!1),{data:v,isLoading:k}=me({queryKey:["prompt-template",r],queryFn:()=>G.getPromptTemplate(r),enabled:e}),E=Ue({mutationFn:()=>G.previewPrompt(r,i,x?f:void 0,x?h:void 0)}),j=Ue({mutationFn:()=>G.updatePromptTemplate(r,f,h),onSuccess:()=>{u.invalidateQueries({queryKey:["prompt-template",r]}),b(!1),g(!0),setTimeout(()=>g(!1),2e3)}});N.useEffect(()=>{v&&(p(v.system_prompt),m(v.user_prompt_template),b(!1),E.mutate())},[v]);const O=B=>{p(B),b(!0)},P=B=>{m(B),b(!0)},D=()=>{v&&(p(v.system_prompt),m(v.user_prompt_template),b(!1),E.mutate())},L=()=>{E.mutate()},M=()=>{var B,X;if(x){const le=((B=E.data)==null?void 0:B.system_prompt)||f,T=((X=E.data)==null?void 0:X.user_prompt)||h;n(le,T)}else n(void 0,void 0)};if(!e)return null;const F=[{id:"system",labelKey:"prompts.systemPrompt",icon:Or},{id:"user",labelKey:"prompts.userPrompt",icon:Nk},{id:"variables",labelKey:"prompts.variables",icon:Lk}];return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:s||l("prompts.title")}),o.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",children:o.jsx(tn,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700 px-6",children:F.map(({id:B,labelKey:X,icon:le})=>o.jsxs("button",{onClick:()=>d(B),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 -mb-px transition-colors ${c===B?"text-blue-600 border-blue-600 dark:text-blue-400 dark:border-blue-400":"text-gray-500 border-transparent hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[o.jsx(le,{className:"w-4 h-4"}),l(X)]},B))}),o.jsx("div",{className:"flex-1 overflow-auto p-6",children:k?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full"})}):o.jsxs(o.Fragment,{children:[c==="system"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:l("prompts.systemPrompt")}),o.jsxs("div",{className:"flex items-center gap-3",children:[x&&o.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:l("prompts.modified")}),o.jsxs("button",{onClick:L,disabled:E.isPending,className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 dark:text-blue-400",children:[o.jsx(ku,{className:`w-3 h-3 ${E.isPending?"animate-spin":""}`}),l("prompts.refreshPreview")]})]})]}),o.jsx("textarea",{value:f,onChange:B=>O(B.target.value),className:"w-full h-48 px-4 py-3 border rounded-lg bg-gray-50 dark:bg-gray-900 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 font-mono text-sm resize-none",placeholder:l("prompts.systemPromptPlaceholder")}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:l("prompts.renderedPreview")}),o.jsx("div",{className:"p-4 border rounded-lg bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 max-h-64 overflow-auto",children:o.jsx("pre",{className:"text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap font-mono",children:((H=E.data)==null?void 0:H.system_prompt)||l("prompts.clickRefresh")})})]})]}),c==="user"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:l("prompts.userPrompt")}),o.jsxs("button",{onClick:L,disabled:E.isPending,className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 dark:text-blue-400",children:[o.jsx(ku,{className:`w-3 h-3 ${E.isPending?"animate-spin":""}`}),l("prompts.refreshPreview")]})]}),o.jsx("textarea",{value:h,onChange:B=>P(B.target.value),className:"w-full h-48 px-4 py-3 border rounded-lg bg-gray-50 dark:bg-gray-900 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 font-mono text-sm resize-none",placeholder:l("prompts.userPromptPlaceholder")}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:l("prompts.renderedPreview")}),o.jsx("div",{className:"p-4 border rounded-lg bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:o.jsx("pre",{className:"text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap font-mono",children:((K=E.data)==null?void 0:K.user_prompt)||l("prompts.clickRefresh")})})]})]}),c==="variables"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:l("prompts.availableVariables")}),o.jsxs("div",{className:"space-y-2",children:[v==null?void 0:v.variables.map(B=>o.jsxs("div",{className:"flex items-start gap-4 p-3 border rounded-lg bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-700",children:[o.jsx("code",{className:"text-sm font-mono text-blue-600 dark:text-blue-400 whitespace-nowrap",children:`{{${B}}}`}),o.jsx("div",{className:"flex-1 text-sm text-gray-600 dark:text-gray-400 break-all",children:KC(i[B])})]},B)),(!(v!=null&&v.variables)||v.variables.length===0)&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:l("prompts.noVariables")})]})]})]})}),o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:D,disabled:!x||j.isPending,className:"flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 disabled:opacity-50",children:[o.jsx(ku,{className:"w-4 h-4"}),l("prompts.reset")]}),o.jsxs("button",{onClick:()=>j.mutate(),disabled:!x||j.isPending,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[j.isPending?o.jsx(ve,{className:"w-4 h-4 animate-spin"}):y?o.jsx(gn,{className:"w-4 h-4"}):o.jsx(ja,{className:"w-4 h-4"}),l(y?"prompts.saved":"prompts.save")]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:l("common.cancel")}),o.jsxs("button",{onClick:M,disabled:k||a,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[a?o.jsx(ve,{className:"w-4 h-4 animate-spin"}):o.jsx(zy,{className:"w-4 h-4"}),l("prompts.send")]})]})]})]})})}function KC(e){if(e==null)return"(empty)";if(typeof e=="object"){const n=JSON.stringify(e,null,2);return n.length>200?n.slice(0,200)+"...":n}const t=String(e);return t.length>200?t.slice(0,200)+"...":t}function Tf({className:e=""}){const{t}=Re(),{llmConfigs:n,activeConfigId:r,setActiveConfig:i,getActiveConfig:s}=Zn(),a=ze(h=>h.fontSize),l=Dr[a],u=s(),[c,d]=N.useState(!1),f=N.useRef(null);N.useEffect(()=>{function h(m){f.current&&!f.current.contains(m.target)&&d(!1)}return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const p=h=>{i(h.id),d(!1)};return n.length===0?o.jsxs(Tn,{to:"/settings",className:`flex items-center gap-2 px-2 lg:px-3 py-1.5 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 rounded-lg border border-amber-200 dark:border-amber-800 hover:bg-amber-100 dark:hover:bg-amber-900/30 ${l.button} ${e}`,children:[o.jsx(za,{className:"w-4 h-4"}),t("settings.configureLLM"),o.jsx(co,{className:"w-4 h-4"})]}):o.jsxs("div",{className:`relative ${e}`,ref:f,children:[o.jsxs("button",{onClick:()=>d(!c),className:`flex items-center gap-2 px-2 lg:px-3 py-1.5 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${l.button}`,children:[o.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:(u==null?void 0:u.name)||(u==null?void 0:u.model)||t("settings.selectConfig")}),(u==null?void 0:u.isDefault)&&o.jsx(Yc,{className:"w-3 h-3 text-amber-500 fill-amber-500"}),o.jsx(Sf,{className:`w-4 h-4 text-gray-500 transition-transform ${c?"rotate-180":""}`})]}),c&&o.jsxs("div",{className:"absolute top-full left-0 mt-1 w-72 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50 py-1",children:[o.jsx("div",{className:"max-h-64 overflow-y-auto",children:n.map(h=>o.jsxs("button",{onClick:()=>p(h),className:`w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700/50 ${h.id===r?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",children:h.name}),h.isDefault&&o.jsx(Yc,{className:"w-3 h-3 text-amber-500 fill-amber-500 flex-shrink-0"})]}),o.jsxs("div",{className:`${l.xs} text-gray-500 dark:text-gray-400 truncate`,children:[h.provider," / ",h.model]})]}),h.id===r&&o.jsx(gn,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 flex-shrink-0"})]},h.id))}),o.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),o.jsxs(Tn,{to:"/settings",onClick:()=>d(!1),className:`flex items-center gap-2 px-3 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50 ${l.button}`,children:[o.jsx(co,{className:"w-4 h-4"}),t("settings.manageConfigs")]})]})]})}function VC(e){return e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase())}function WC(e){return e==null?"":typeof e=="object"?JSON.stringify(e,null,2):String(e)}function QC(){const{projectId:e}=bi(),t=bs(),n=Fr(),{t:r}=Re(),{project:i}=Ao(),{getActiveConfig:s,getActiveConfigId:a}=Zn(),l=s(),u=a(),c=!!(l&&l.hasApiKey),[d,f]=N.useState({}),[p,h]=N.useState(!1),[m,x]=N.useState(!1),{data:b,isLoading:y,error:g}=me({queryKey:["analysis",e],queryFn:()=>G.getAnalysis(e),enabled:!!e,retry:!1});N.useEffect(()=>{b!=null&&b.raw_analysis&&f(b.raw_analysis)},[b]);const v=Ue({mutationFn:H=>G.startAnalysis(e,{config_id:u||void 0,sample_count:20,custom_system_prompt:H.customSystemPrompt,custom_user_prompt:H.customUserPrompt}),onSuccess:H=>{n.invalidateQueries({queryKey:["analysis",e]}),H.raw_analysis&&f(H.raw_analysis)}}),k=(H,K)=>{x(!1),v.mutate({customSystemPrompt:H,customUserPrompt:K})},E=()=>{x(!0)},j=Ue({mutationFn:H=>G.updateAnalysis(e,{updates:d,confirm:H}),onSuccess:()=>{n.invalidateQueries({queryKey:["analysis",e]}),n.invalidateQueries({queryKey:["workflow-status",e]}),h(!1)}}),O=(H,K)=>{f(B=>{let X=K;if(K.trim().startsWith("{")||K.trim().startsWith("["))try{X=JSON.parse(K)}catch{}return{...B,[H]:X}}),h(!0)},P=()=>{j.mutate(!1)},D=()=>{j.mutate(!0)},L=()=>{t(`/project/${e}/translate`)},M=b&&!g,F=Object.entries(d).filter(([H])=>!H.startsWith("_"));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:r("analysis.llmConfig")}),o.jsx(Tf,{}),o.jsxs("button",{onClick:()=>x(!0),disabled:!c,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50",children:[o.jsx(Or,{className:"w-4 h-4"}),r("prompts.viewPrompt")]})]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("button",{onClick:E,disabled:!c||v.isPending,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[v.isPending?o.jsx(ve,{className:"w-4 h-4 animate-spin"}):M?o.jsx(jf,{className:"w-4 h-4"}):o.jsx(Ca,{className:"w-4 h-4"}),r(M?"analysis.reanalyze":"analysis.startAnalysis")]})})]}),v.isError&&o.jsxs("p",{className:"mt-4 text-sm text-red-600",children:[r("common.error"),": ",v.error.message]})]}),y?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600"})}):M?o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:r("analysis.results")}),b.user_confirmed&&o.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-sm",children:[o.jsx(gn,{className:"w-4 h-4"}),r("analysis.confirmed")]})]}),o.jsxs("div",{className:"space-y-6",children:[F.map(([H,K])=>{const B=typeof K=="object"&&K!==null,X=WC(K);return o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:VC(H)}),o.jsx("textarea",{value:X,onChange:le=>O(H,le.target.value),rows:B?6:3,className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 ${B?"font-mono text-sm":""}`})]},H)}),F.length===0&&o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:r("analysis.noFields")})]}),o.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:P,disabled:!p||j.isPending,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50",children:r("common.save")}),o.jsxs("button",{onClick:D,disabled:j.isPending,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[j.isPending?o.jsx(ve,{className:"w-4 h-4 animate-spin"}):o.jsx(gn,{className:"w-4 h-4"}),r("analysis.confirmAnalysis")]})]}),b.user_confirmed&&o.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r("workflow.continueToTranslation"),o.jsx(Oy,{className:"w-4 h-4"})]})]})]}):o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-12 shadow-sm border border-gray-200 dark:border-gray-700 text-center",children:[o.jsx(Wn,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:r("analysis.noAnalysis")}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r("analysis.selectLLMAndStart")})]}),o.jsx(ho,{isOpen:m,onClose:()=>x(!1),promptType:"analysis",variables:{title:(i==null?void 0:i.name)||"",author:(i==null?void 0:i.author)||"Unknown",sample_paragraphs:"(Sample paragraphs will be loaded during analysis)"},onConfirm:k,isLoading:v.isPending})]})}function id({onResize:e,onResizeEnd:t,direction:n="horizontal",className:r=""}){const[i,s]=N.useState(!1),[a,l]=N.useState(0),u=N.useCallback(d=>{d.preventDefault(),d.stopPropagation(),s(!0),l(n==="horizontal"?d.clientX:d.clientY)},[n]);N.useEffect(()=>{if(!i)return;const d=p=>{p.preventDefault();const h=n==="horizontal"?p.clientX:p.clientY,m=h-a;l(h),e(m)},f=()=>{s(!1),t==null||t()};return document.addEventListener("mousemove",d),document.addEventListener("mouseup",f),document.body.style.cursor=n==="horizontal"?"col-resize":"row-resize",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",f),document.body.style.cursor="",document.body.style.userSelect=""}},[i,a,n,e,t]);const c=n==="horizontal";return o.jsxs("div",{onMouseDown:u,className:`
        ${c?"w-2 cursor-col-resize":"h-2 cursor-row-resize"}
        ${i?"bg-blue-500":"bg-gray-300 dark:bg-gray-600 hover:bg-blue-400 dark:hover:bg-blue-500"}
        transition-colors flex-shrink-0 group relative mx-0.5
        ${r}
      `,style:{touchAction:"none"},children:[o.jsx("div",{className:`
          absolute z-10
          ${c?"inset-y-0 -left-2 -right-2 cursor-col-resize":"inset-x-0 -top-2 -bottom-2 cursor-row-resize"}
        `,onMouseDown:u}),o.jsxs("div",{className:`
          absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2
          flex ${c?"flex-col":"flex-row"} gap-1
        `,children:[o.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500 dark:bg-gray-400"}),o.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500 dark:bg-gray-400"}),o.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500 dark:bg-gray-400"})]})]})}function GC(e){const t=[],n=new Set,r=i=>{for(const s of i)s.chapter_id&&!n.has(s.chapter_id)&&(n.add(s.chapter_id),t.push(s.chapter_id)),s.children&&s.children.length>0&&r(s.children)};return r(e),t}function yx({isOpen:e,onClose:t,projectId:n}){const{t:r}=Re(),[i,s]=N.useState(null),[a,l]=N.useState("bilingual"),{data:u}=me({queryKey:["toc",n],queryFn:()=>G.getToc(n),enabled:e&&!!n}),{data:c}=me({queryKey:["chapters",n],queryFn:()=>G.getChapters(n),enabled:e&&!!n}),d=N.useMemo(()=>u&&u.length>0?GC(u):(c==null?void 0:c.map(b=>b.id))||[],[u,c]);N.useEffect(()=>{if(!e){s(null);return}d.length>0&&!i&&s(d[0])},[e,d,i]);const{data:f,isLoading:p}=me({queryKey:["chapter",n,i],queryFn:()=>G.getChapterContent(n,i),enabled:e&&!!n&&!!i}),h=d.findIndex(b=>b===i),m=h>0,x=h>=0&&h<d.length-1;return e?o.jsxs("div",{className:"fixed inset-0 z-50",children:[o.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:t}),o.jsxs("div",{className:"relative mx-auto my-6 h-[90vh] w-[92vw] max-w-6xl rounded-xl bg-white dark:bg-gray-900 shadow-xl border border-gray-200 dark:border-gray-800 flex flex-col",onClick:b=>b.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-800",children:[o.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:r("common.preview")}),o.jsx("button",{onClick:t,className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500 dark:text-gray-400","aria-label":r("common.cancel"),children:o.jsx(tn,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex-1 overflow-hidden p-4",children:o.jsxs("div",{className:"flex gap-6 h-full",children:[o.jsx("div",{className:"w-56 flex-shrink-0",children:o.jsx("div",{className:"p-0.5 h-full overflow-y-auto text-gray-700 dark:text-gray-300",children:u&&u.length>0?o.jsx(Bo,{toc:u,selectedChapterId:i,onSelectChapter:s,expandAll:!0,minimal:!0}):c!=null&&c.length?o.jsx("div",{className:"space-y-1",children:c.map(b=>o.jsxs("button",{onClick:()=>s(b.id),className:`w-full text-left px-3 py-2 rounded text-sm transition-colors ${i===b.id?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[o.jsx("div",{className:"font-medium truncate",children:b.title||r("preview.chapterNumber",{number:String(b.chapter_number)})}),o.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:[b.paragraph_count," ",r("home.paragraphs")]})]},b.id))}):o.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm text-center py-4",children:r("preview.noChapters")})})}),o.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("button",{onClick:()=>{m&&s(d[h-1])},disabled:!m,className:"flex items-center gap-1 px-3 py-1.5 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 disabled:text-gray-300 dark:disabled:text-gray-600 text-sm",children:[o.jsx(Da,{className:"w-4 h-4"}),r("preview.prevChapter")]}),o.jsxs("div",{className:"inline-flex rounded-lg bg-gray-100 dark:bg-gray-700 p-1",children:[o.jsx("button",{onClick:()=>l("translation"),className:`px-3 py-1 text-sm rounded-md transition-colors ${a==="translation"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:r("preview.showTranslation")}),o.jsx("button",{onClick:()=>l("bilingual"),className:`px-3 py-1 text-sm rounded-md transition-colors ${a==="bilingual"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:r("preview.showBilingual")}),o.jsx("button",{onClick:()=>l("original"),className:`px-3 py-1 text-sm rounded-md transition-colors ${a==="original"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:r("preview.showOriginal")})]}),o.jsxs("button",{onClick:()=>{x&&s(d[h+1])},disabled:!x,className:"flex items-center gap-1 px-3 py-1.5 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 disabled:text-gray-300 dark:disabled:text-gray-600 text-sm",children:[r("preview.nextChapter"),o.jsx(wi,{className:"w-4 h-4"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:p?o.jsx("div",{className:"text-center py-12",children:o.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto"})}):f?o.jsx(gx,{content:f,projectId:n,contentMode:a}):null})]})]})})]})]}):null}function XC(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const JC=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,YC=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ZC={};function Zp(e,t){return(ZC.jsx?YC:JC).test(e)}const ej=/[ \t\n\f\r]/g;function tj(e){return typeof e=="object"?e.type==="text"?em(e.value):!1:em(e)}function em(e){return e.replace(ej,"")===""}class qa{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}qa.prototype.normal={};qa.prototype.property={};qa.prototype.space=void 0;function xx(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new qa(n,r,t)}function sd(e){return e.toLowerCase()}class It{constructor(t,n){this.attribute=n,this.property=t}}It.prototype.attribute="";It.prototype.booleanish=!1;It.prototype.boolean=!1;It.prototype.commaOrSpaceSeparated=!1;It.prototype.commaSeparated=!1;It.prototype.defined=!1;It.prototype.mustUseProperty=!1;It.prototype.number=!1;It.prototype.overloadedBoolean=!1;It.prototype.property="";It.prototype.spaceSeparated=!1;It.prototype.space=void 0;let nj=0;const ie=ki(),Ke=ki(),ad=ki(),$=ki(),Se=ki(),Ki=ki(),Dt=ki();function ki(){return 2**++nj}const ld=Object.freeze(Object.defineProperty({__proto__:null,boolean:ie,booleanish:Ke,commaOrSpaceSeparated:Dt,commaSeparated:Ki,number:$,overloadedBoolean:ad,spaceSeparated:Se},Symbol.toStringTag,{value:"Module"})),_u=Object.keys(ld);class Rf extends It{constructor(t,n,r,i){let s=-1;if(super(t,n),tm(this,"space",i),typeof r=="number")for(;++s<_u.length;){const a=_u[s];tm(this,_u[s],(r&ld[a])===ld[a])}}}Rf.prototype.defined=!0;function tm(e,t,n){n&&(e[t]=n)}function Ss(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new Rf(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[sd(r)]=r,n[sd(s.attribute)]=r}return new qa(t,n,e.space)}const vx=Ss({properties:{ariaActiveDescendant:null,ariaAtomic:Ke,ariaAutoComplete:null,ariaBusy:Ke,ariaChecked:Ke,ariaColCount:$,ariaColIndex:$,ariaColSpan:$,ariaControls:Se,ariaCurrent:null,ariaDescribedBy:Se,ariaDetails:null,ariaDisabled:Ke,ariaDropEffect:Se,ariaErrorMessage:null,ariaExpanded:Ke,ariaFlowTo:Se,ariaGrabbed:Ke,ariaHasPopup:null,ariaHidden:Ke,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Se,ariaLevel:$,ariaLive:null,ariaModal:Ke,ariaMultiLine:Ke,ariaMultiSelectable:Ke,ariaOrientation:null,ariaOwns:Se,ariaPlaceholder:null,ariaPosInSet:$,ariaPressed:Ke,ariaReadOnly:Ke,ariaRelevant:null,ariaRequired:Ke,ariaRoleDescription:Se,ariaRowCount:$,ariaRowIndex:$,ariaRowSpan:$,ariaSelected:Ke,ariaSetSize:$,ariaSort:null,ariaValueMax:$,ariaValueMin:$,ariaValueNow:$,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function bx(e,t){return t in e?e[t]:t}function wx(e,t){return bx(e,t.toLowerCase())}const rj=Ss({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ki,acceptCharset:Se,accessKey:Se,action:null,allow:null,allowFullScreen:ie,allowPaymentRequest:ie,allowUserMedia:ie,alt:null,as:null,async:ie,autoCapitalize:null,autoComplete:Se,autoFocus:ie,autoPlay:ie,blocking:Se,capture:null,charSet:null,checked:ie,cite:null,className:Se,cols:$,colSpan:null,content:null,contentEditable:Ke,controls:ie,controlsList:Se,coords:$|Ki,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ie,defer:ie,dir:null,dirName:null,disabled:ie,download:ad,draggable:Ke,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ie,formTarget:null,headers:Se,height:$,hidden:ad,high:$,href:null,hrefLang:null,htmlFor:Se,httpEquiv:Se,id:null,imageSizes:null,imageSrcSet:null,inert:ie,inputMode:null,integrity:null,is:null,isMap:ie,itemId:null,itemProp:Se,itemRef:Se,itemScope:ie,itemType:Se,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ie,low:$,manifest:null,max:null,maxLength:$,media:null,method:null,min:null,minLength:$,multiple:ie,muted:ie,name:null,nonce:null,noModule:ie,noValidate:ie,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ie,optimum:$,pattern:null,ping:Se,placeholder:null,playsInline:ie,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ie,referrerPolicy:null,rel:Se,required:ie,reversed:ie,rows:$,rowSpan:$,sandbox:Se,scope:null,scoped:ie,seamless:ie,selected:ie,shadowRootClonable:ie,shadowRootDelegatesFocus:ie,shadowRootMode:null,shape:null,size:$,sizes:null,slot:null,span:$,spellCheck:Ke,src:null,srcDoc:null,srcLang:null,srcSet:null,start:$,step:null,style:null,tabIndex:$,target:null,title:null,translate:null,type:null,typeMustMatch:ie,useMap:null,value:Ke,width:$,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Se,axis:null,background:null,bgColor:null,border:$,borderColor:null,bottomMargin:$,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ie,declare:ie,event:null,face:null,frame:null,frameBorder:null,hSpace:$,leftMargin:$,link:null,longDesc:null,lowSrc:null,marginHeight:$,marginWidth:$,noResize:ie,noHref:ie,noShade:ie,noWrap:ie,object:null,profile:null,prompt:null,rev:null,rightMargin:$,rules:null,scheme:null,scrolling:Ke,standby:null,summary:null,text:null,topMargin:$,valueType:null,version:null,vAlign:null,vLink:null,vSpace:$,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ie,disableRemotePlayback:ie,prefix:null,property:null,results:$,security:null,unselectable:null},space:"html",transform:wx}),ij=Ss({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Dt,accentHeight:$,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:$,amplitude:$,arabicForm:null,ascent:$,attributeName:null,attributeType:null,azimuth:$,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:$,by:null,calcMode:null,capHeight:$,className:Se,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:$,diffuseConstant:$,direction:null,display:null,dur:null,divisor:$,dominantBaseline:null,download:ie,dx:null,dy:null,edgeMode:null,editable:null,elevation:$,enableBackground:null,end:null,event:null,exponent:$,externalResourcesRequired:null,fill:null,fillOpacity:$,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ki,g2:Ki,glyphName:Ki,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:$,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:$,horizOriginX:$,horizOriginY:$,id:null,ideographic:$,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:$,k:$,k1:$,k2:$,k3:$,k4:$,kernelMatrix:Dt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:$,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:$,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:$,overlineThickness:$,paintOrder:null,panose1:null,path:null,pathLength:$,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Se,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:$,pointsAtY:$,pointsAtZ:$,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Dt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Dt,rev:Dt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Dt,requiredFeatures:Dt,requiredFonts:Dt,requiredFormats:Dt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:$,specularExponent:$,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:$,strikethroughThickness:$,string:null,stroke:null,strokeDashArray:Dt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:$,strokeOpacity:$,strokeWidth:null,style:null,surfaceScale:$,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Dt,tabIndex:$,tableValues:null,target:null,targetX:$,targetY:$,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Dt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:$,underlineThickness:$,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:$,values:null,vAlphabetic:$,vMathematical:$,vectorEffect:null,vHanging:$,vIdeographic:$,version:null,vertAdvY:$,vertOriginX:$,vertOriginY:$,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:$,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:bx}),kx=Ss({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Sx=Ss({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:wx}),Cx=Ss({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),sj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},aj=/[A-Z]/g,nm=/-[a-z]/g,lj=/^data[-\w.:]+$/i;function oj(e,t){const n=sd(t);let r=t,i=It;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&lj.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(nm,cj);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!nm.test(s)){let a=s.replace(aj,uj);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Rf}return new i(r,t)}function uj(e){return"-"+e.toLowerCase()}function cj(e){return e.charAt(1).toUpperCase()}const dj=xx([vx,rj,kx,Sx,Cx],"html"),Lf=xx([vx,ij,kx,Sx,Cx],"svg");function fj(e){return e.join(" ").trim()}var Of={},rm=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,hj=/\n/g,pj=/^\s*/,mj=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,gj=/^:\s*/,yj=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,xj=/^[;\s]*/,vj=/^\s+|\s+$/g,bj=`
`,im="/",sm="*",Kr="",wj="comment",kj="declaration";function Sj(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var x=m.match(hj);x&&(n+=x.length);var b=m.lastIndexOf(bj);r=~b?m.length-b:r+m.length}function s(){var m={line:n,column:r};return function(x){return x.position=new a(m),c(),x}}function a(m){this.start=m,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function l(m){var x=new Error(t.source+":"+n+":"+r+": "+m);if(x.reason=m,x.filename=t.source,x.line=n,x.column=r,x.source=e,!t.silent)throw x}function u(m){var x=m.exec(e);if(x){var b=x[0];return i(b),e=e.slice(b.length),x}}function c(){u(pj)}function d(m){var x;for(m=m||[];x=f();)x!==!1&&m.push(x);return m}function f(){var m=s();if(!(im!=e.charAt(0)||sm!=e.charAt(1))){for(var x=2;Kr!=e.charAt(x)&&(sm!=e.charAt(x)||im!=e.charAt(x+1));)++x;if(x+=2,Kr===e.charAt(x-1))return l("End of comment missing");var b=e.slice(2,x-2);return r+=2,i(b),e=e.slice(x),r+=2,m({type:wj,comment:b})}}function p(){var m=s(),x=u(mj);if(x){if(f(),!u(gj))return l("property missing ':'");var b=u(yj),y=m({type:kj,property:am(x[0].replace(rm,Kr)),value:b?am(b[0].replace(rm,Kr)):Kr});return u(xj),y}}function h(){var m=[];d(m);for(var x;x=p();)x!==!1&&(m.push(x),d(m));return m}return c(),h()}function am(e){return e?e.replace(vj,Kr):Kr}var Cj=Sj,jj=Il&&Il.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Of,"__esModule",{value:!0});Of.default=Ej;const Nj=jj(Cj);function Ej(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Nj.default)(e),i=typeof t=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:a,value:l}=s;i?t(a,l,s):l&&(n=n||{},n[a]=l)}),n}var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.camelCase=void 0;var Pj=/^--[a-zA-Z0-9_-]+$/,_j=/-([a-z])/g,Tj=/^[^-]+$/,Rj=/^-(webkit|moz|ms|o|khtml)-/,Lj=/^-(ms)-/,Oj=function(e){return!e||Tj.test(e)||Pj.test(e)},Aj=function(e,t){return t.toUpperCase()},lm=function(e,t){return"".concat(t,"-")},Ij=function(e,t){return t===void 0&&(t={}),Oj(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Lj,lm):e=e.replace(Rj,lm),e.replace(_j,Aj))};Ho.camelCase=Ij;var Mj=Il&&Il.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Fj=Mj(Of),zj=Ho;function od(e,t){var n={};return!e||typeof e!="string"||(0,Fj.default)(e,function(r,i){r&&i&&(n[(0,zj.camelCase)(r,t)]=i)}),n}od.default=od;var Dj=od;const $j=go(Dj),jx=Nx("end"),Af=Nx("start");function Nx(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Uj(e){const t=Af(e),n=jx(e);if(t&&n)return{start:t,end:n}}function ea(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?om(e.position):"start"in e||"end"in e?om(e):"line"in e||"column"in e?ud(e):""}function ud(e){return um(e&&e.line)+":"+um(e&&e.column)}function om(e){return ud(e&&e.start)+"-"+ud(e&&e.end)}function um(e){return e&&typeof e=="number"?e:1}class ft extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=ea(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ft.prototype.file="";ft.prototype.name="";ft.prototype.reason="";ft.prototype.message="";ft.prototype.stack="";ft.prototype.column=void 0;ft.prototype.line=void 0;ft.prototype.ancestors=void 0;ft.prototype.cause=void 0;ft.prototype.fatal=void 0;ft.prototype.place=void 0;ft.prototype.ruleId=void 0;ft.prototype.source=void 0;const If={}.hasOwnProperty,Bj=new Map,Hj=/[A-Z]/g,qj=new Set(["table","tbody","thead","tfoot","tr"]),Kj=new Set(["td","th"]),Ex="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Vj(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=eN(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Zj(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Lf:dj,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Px(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Px(e,t,n){if(t.type==="element")return Wj(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Qj(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Xj(e,t,n);if(t.type==="mdxjsEsm")return Gj(e,t);if(t.type==="root")return Jj(e,t,n);if(t.type==="text")return Yj(e,t)}function Wj(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Lf,e.schema=i),e.ancestors.push(t);const s=Tx(e,t.tagName,!1),a=tN(e,t);let l=Ff(e,t);return qj.has(t.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!tj(u):!0})),_x(e,a,s,t),Mf(a,l),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function Qj(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ea(e,t.position)}function Gj(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ea(e,t.position)}function Xj(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Lf,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:Tx(e,t.name,!0),a=nN(e,t),l=Ff(e,t);return _x(e,a,s,t),Mf(a,l),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function Jj(e,t,n){const r={};return Mf(r,Ff(e,t)),e.create(t,e.Fragment,r,n)}function Yj(e,t){return t.value}function _x(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Mf(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Zj(e,t,n){return r;function r(i,s,a,l){const c=Array.isArray(a.children)?n:t;return l?c(s,a,l):c(s,a)}}function eN(e,t){return n;function n(r,i,s,a){const l=Array.isArray(s.children),u=Af(r);return t(i,s,a,l,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function tN(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&If.call(t.properties,i)){const s=rN(e,i,t.properties[i]);if(s){const[a,l]=s;e.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&Kj.has(t.tagName)?r=l:n[a]=l}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function nN(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const l=a.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Ea(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,s=e.evaluater.evaluateExpression(l.expression)}else Ea(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Ff(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Bj;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const c=i.get(u)||0;a=u+"-"+c,i.set(u,c+1)}}const l=Px(e,s,a);l!==void 0&&n.push(l)}return n}function rN(e,t,n){const r=oj(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?XC(n):fj(n)),r.property==="style"){let i=typeof n=="object"?n:iN(e,String(n));return e.stylePropertyNameCase==="css"&&(i=sN(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?sj[r.property]||r.property:r.attribute,n]}}function iN(e,t){try{return $j(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new ft("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Ex+"#cannot-parse-style-attribute",i}}function Tx(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const l=Zp(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=a}else r=Zp(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return If.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ea(e)}function Ea(e,t){const n=new ft("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Ex+"#cannot-handle-mdx-estrees-without-createevaluater",n}function sN(e){const t={};let n;for(n in e)If.call(e,n)&&(t[aN(n)]=e[n]);return t}function aN(e){let t=e.replace(Hj,lN);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function lN(e){return"-"+e.toLowerCase()}const Tu={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},oN={};function uN(e,t){const n=oN,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Rx(e,r,i)}function Rx(e,t,n){if(cN(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return cm(e.children,t,n)}return Array.isArray(e)?cm(e,t,n):""}function cm(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Rx(e[i],t,n);return r.join("")}function cN(e){return!!(e&&typeof e=="object")}const dm=document.createElement("i");function zf(e){const t="&"+e+";";dm.innerHTML=t;const n=dm.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Rn(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function Zt(e,t){return e.length>0?(Rn(e,e.length,0,t),e):t}const fm={}.hasOwnProperty;function dN(e){const t={};let n=-1;for(;++n<e.length;)fN(t,e[n]);return t}function fN(e,t){let n;for(n in t){const i=(fm.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){fm.call(i,a)||(i[a]=[]);const l=s[a];hN(i[a],Array.isArray(l)?l:l?[l]:[])}}}function hN(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Rn(e,0,0,r)}function Lx(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Vi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const En=$r(/[A-Za-z]/),Bt=$r(/[\dA-Za-z]/),pN=$r(/[#-'*+\--9=?A-Z^-~]/);function cd(e){return e!==null&&(e<32||e===127)}const dd=$r(/\d/),mN=$r(/[\dA-Fa-f]/),gN=$r(/[!-/:-@[-`{-~]/);function te(e){return e!==null&&e<-2}function At(e){return e!==null&&(e<0||e===32)}function be(e){return e===-2||e===-1||e===32}const yN=$r(new RegExp("\\p{P}|\\p{S}","u")),xN=$r(/\s/);function $r(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Cs(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&Bt(e.charCodeAt(n+1))&&Bt(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(a=String.fromCharCode(s,l),i=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function je(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(u){return be(u)?(e.enter(n),l(u)):t(u)}function l(u){return be(u)&&s++<i?(e.consume(u),l):(e.exit(n),t(u))}}const vN={tokenize:bN};function bN(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),je(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),s(l)}function s(l){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return te(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),a)}}const wN={tokenize:kN},hm={tokenize:SN};function kN(e){const t=this,n=[];let r=0,i,s,a;return l;function l(v){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,u,c)(v)}return c(v)}function u(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&g();const k=t.events.length;let E=k,j;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){j=t.events[E][1].end;break}y(r);let O=k;for(;O<t.events.length;)t.events[O][1].end={...j},O++;return Rn(t.events,E+1,0,t.events.slice(k)),t.events.length=O,c(v)}return l(v)}function c(v){if(r===n.length){if(!i)return p(v);if(i.currentConstruct&&i.currentConstruct.concrete)return m(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(hm,d,f)(v)}function d(v){return i&&g(),y(r),p(v)}function f(v){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,m(v)}function p(v){return t.containerState={},e.attempt(hm,h,m)(v)}function h(v){return r++,n.push([t.currentConstruct,t.containerState]),p(v)}function m(v){if(v===null){i&&g(),y(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),x(v)}function x(v){if(v===null){b(e.exit("chunkFlow"),!0),y(0),e.consume(v);return}return te(v)?(e.consume(v),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(v),x)}function b(v,k){const E=t.sliceStream(v);if(k&&E.push(null),v.previous=s,s&&(s.next=v),s=v,i.defineSkip(v.start),i.write(E),t.parser.lazy[v.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<a&&(!i.events[j][1].end||i.events[j][1].end.offset>a))return;const O=t.events.length;let P=O,D,L;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(D){L=t.events[P][1].end;break}D=!0}for(y(r),j=O;j<t.events.length;)t.events[j][1].end={...L},j++;Rn(t.events,P+1,0,t.events.slice(O)),t.events.length=j}}function y(v){let k=n.length;for(;k-- >v;){const E=n[k];t.containerState=E[1],E[0].exit.call(t,e)}n.length=v}function g(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function SN(e,t,n){return je(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function pm(e){if(e===null||At(e)||xN(e))return 1;if(yN(e))return 2}function Df(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const fd={name:"attention",resolveAll:CN,tokenize:jN};function CN(e,t){let n=-1,r,i,s,a,l,u,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};mm(f,-u),mm(p,u),a={type:u>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},s={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},e[r][1].end={...a.start},e[n][1].start={...l.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Zt(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Zt(c,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),c=Zt(c,Df(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Zt(c,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=Zt(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Rn(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function jN(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=pm(r);let s;return a;function a(u){return s=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===s)return e.consume(u),l;const c=e.exit("attentionSequence"),d=pm(u),f=!d||d===2&&i||n.includes(u),p=!i||i===2&&d||n.includes(r);return c._open=!!(s===42?f:f&&(i||!p)),c._close=!!(s===42?p:p&&(d||!f)),t(u)}}function mm(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const NN={name:"autolink",tokenize:EN};function EN(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return En(h)?(e.consume(h),a):h===64?n(h):c(h)}function a(h){return h===43||h===45||h===46||Bt(h)?(r=1,l(h)):c(h)}function l(h){return h===58?(e.consume(h),r=0,u):(h===43||h===45||h===46||Bt(h))&&r++<32?(e.consume(h),l):(r=0,c(h))}function u(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||cd(h)?n(h):(e.consume(h),u)}function c(h){return h===64?(e.consume(h),d):pN(h)?(e.consume(h),c):n(h)}function d(h){return Bt(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,d):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):p(h)}function p(h){if((h===45||Bt(h))&&r++<63){const m=h===45?p:f;return e.consume(h),m}return n(h)}}const qo={partial:!0,tokenize:PN};function PN(e,t,n){return r;function r(s){return be(s)?je(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||te(s)?t(s):n(s)}}const Ox={continuation:{tokenize:TN},exit:RN,name:"blockQuote",tokenize:_N};function _N(e,t,n){const r=this;return i;function i(a){if(a===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return be(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function TN(e,t,n){const r=this;return i;function i(a){return be(a)?je(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(Ox,t,n)(a)}}function RN(e){e.exit("blockQuote")}const Ax={name:"characterEscape",tokenize:LN};function LN(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return gN(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Ix={name:"characterReference",tokenize:ON};function ON(e,t,n){const r=this;let i=0,s,a;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,a=Bt,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=mN,d):(e.enter("characterReferenceValue"),s=7,a=dd,d(f))}function d(f){if(f===59&&i){const p=e.exit("characterReferenceValue");return a===Bt&&!zf(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(f)&&i++<s?(e.consume(f),d):n(f)}}const gm={partial:!0,tokenize:IN},ym={concrete:!0,name:"codeFenced",tokenize:AN};function AN(e,t,n){const r=this,i={partial:!0,tokenize:E};let s=0,a=0,l;return u;function u(j){return c(j)}function c(j){const O=r.events[r.events.length-1];return s=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,l=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(j)}function d(j){return j===l?(a++,e.consume(j),d):a<3?n(j):(e.exit("codeFencedFenceSequence"),be(j)?je(e,f,"whitespace")(j):f(j))}function f(j){return j===null||te(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(gm,x,k)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(j))}function p(j){return j===null||te(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(j)):be(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),je(e,h,"whitespace")(j)):j===96&&j===l?n(j):(e.consume(j),p)}function h(j){return j===null||te(j)?f(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(j))}function m(j){return j===null||te(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(j)):j===96&&j===l?n(j):(e.consume(j),m)}function x(j){return e.attempt(i,k,b)(j)}function b(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),y}function y(j){return s>0&&be(j)?je(e,g,"linePrefix",s+1)(j):g(j)}function g(j){return j===null||te(j)?e.check(gm,x,k)(j):(e.enter("codeFlowValue"),v(j))}function v(j){return j===null||te(j)?(e.exit("codeFlowValue"),g(j)):(e.consume(j),v)}function k(j){return e.exit("codeFenced"),t(j)}function E(j,O,P){let D=0;return L;function L(B){return j.enter("lineEnding"),j.consume(B),j.exit("lineEnding"),M}function M(B){return j.enter("codeFencedFence"),be(B)?je(j,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):F(B)}function F(B){return B===l?(j.enter("codeFencedFenceSequence"),H(B)):P(B)}function H(B){return B===l?(D++,j.consume(B),H):D>=a?(j.exit("codeFencedFenceSequence"),be(B)?je(j,K,"whitespace")(B):K(B)):P(B)}function K(B){return B===null||te(B)?(j.exit("codeFencedFence"),O(B)):P(B)}}}function IN(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Ru={name:"codeIndented",tokenize:FN},MN={partial:!0,tokenize:zN};function FN(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),je(e,s,"linePrefix",5)(c)}function s(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?u(c):te(c)?e.attempt(MN,a,u)(c):(e.enter("codeFlowValue"),l(c))}function l(c){return c===null||te(c)?(e.exit("codeFlowValue"),a(c)):(e.consume(c),l)}function u(c){return e.exit("codeIndented"),t(c)}}function zN(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):te(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):je(e,s,"linePrefix",5)(a)}function s(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):te(a)?i(a):n(a)}}const DN={name:"codeText",previous:UN,resolve:$N,tokenize:BN};function $N(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function UN(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function BN(e,t,n){let r=0,i,s;return a;function a(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),r++,l):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):f===96?(s=e.enter("codeTextSequence"),i=0,d(f)):te(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||te(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",c(f))}}class HN{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&zs(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),zs(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),zs(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);zs(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);zs(this.left,n.reverse())}}}function zs(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Mx(e){const t={};let n=-1,r,i,s,a,l,u,c;const d=new HN(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,qN(d,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},l=d.slice(i,n),l.unshift(r),d.splice(i,n-i+1,l))}}return Rn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function qN(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,u=[],c={};let d,f,p=-1,h=n,m=0,x=0;const b=[x];for(;h;){for(;e.get(++i)[1]!==h;);s.push(i),h._tokenizer||(d=r.sliceStream(h),h.next||d.push(null),f&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++p<l.length;)l[p][0]==="exit"&&l[p-1][0]==="enter"&&l[p][1].type===l[p-1][1].type&&l[p][1].start.line!==l[p][1].end.line&&(x=p+1,b.push(x),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):b.pop(),p=b.length;p--;){const y=l.slice(b[p],b[p+1]),g=s.pop();u.push([g,g+y.length-1]),e.splice(g,2,y)}for(u.reverse(),p=-1;++p<u.length;)c[m+u[p][0]]=m+u[p][1],m+=u[p][1]-u[p][0]-1;return c}const KN={resolve:WN,tokenize:QN},VN={partial:!0,tokenize:GN};function WN(e){return Mx(e),e}function QN(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):te(l)?e.check(VN,a,s)(l):(e.consume(l),i)}function s(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function a(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function GN(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),je(e,s,"linePrefix")}function s(a){if(a===null||te(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function Fx(e,t,n,r,i,s,a,l,u){const c=u||Number.POSITIVE_INFINITY;let d=0;return f;function f(y){return y===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(y),e.exit(s),p):y===null||y===32||y===41||cd(y)?n(y):(e.enter(r),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),x(y))}function p(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(l),p(y)):y===null||y===60||te(y)?n(y):(e.consume(y),y===92?m:h)}function m(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function x(y){return!d&&(y===null||y===41||At(y))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(r),t(y)):d<c&&y===40?(e.consume(y),d++,x):y===41?(e.consume(y),d--,x):y===null||y===32||y===40||cd(y)?n(y):(e.consume(y),y===92?b:x)}function b(y){return y===40||y===41||y===92?(e.consume(y),x):x(y)}}function zx(e,t,n,r,i,s){const a=this;let l=0,u;return c;function c(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),d}function d(h){return l>999||h===null||h===91||h===93&&!u||h===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):te(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||te(h)||l++>999?(e.exit("chunkString"),d(h)):(e.consume(h),u||(u=!be(h)),h===92?p:f)}function p(h){return h===91||h===92||h===93?(e.consume(h),l++,f):f(h)}}function Dx(e,t,n,r,i,s){let a;return l;function l(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),a=p===40?41:p,u):n(p)}function u(p){return p===a?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(s),c(p))}function c(p){return p===a?(e.exit(s),u(a)):p===null?n(p):te(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),je(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===a||p===null||te(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?f:d)}function f(p){return p===a||p===92?(e.consume(p),d):d(p)}}function ta(e,t){let n;return r;function r(i){return te(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):be(i)?je(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const XN={name:"definition",tokenize:YN},JN={partial:!0,tokenize:ZN};function YN(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),a(h)}function a(h){return zx.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return i=Vi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),u):n(h)}function u(h){return At(h)?ta(e,c)(h):c(h)}function c(h){return Fx(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function d(h){return e.attempt(JN,f,f)(h)}function f(h){return be(h)?je(e,p,"whitespace")(h):p(h)}function p(h){return h===null||te(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function ZN(e,t,n){return r;function r(l){return At(l)?ta(e,i)(l):n(l)}function i(l){return Dx(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return be(l)?je(e,a,"whitespace")(l):a(l)}function a(l){return l===null||te(l)?t(l):n(l)}}const eE={name:"hardBreakEscape",tokenize:tE};function tE(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return te(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const nE={name:"headingAtx",resolve:rE,tokenize:iE};function rE(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Rn(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function iE(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||At(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),u(d)):d===null||te(d)?(e.exit("atxHeading"),t(d)):be(d)?je(e,l,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function u(d){return d===35?(e.consume(d),u):(e.exit("atxHeadingSequence"),l(d))}function c(d){return d===null||d===35||At(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),c)}}const sE=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],xm=["pre","script","style","textarea"],aE={concrete:!0,name:"htmlFlow",resolveTo:uE,tokenize:cE},lE={partial:!0,tokenize:fE},oE={partial:!0,tokenize:dE};function uE(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function cE(e,t,n){const r=this;let i,s,a,l,u;return c;function c(C){return d(C)}function d(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),f}function f(C){return C===33?(e.consume(C),p):C===47?(e.consume(C),s=!0,x):C===63?(e.consume(C),i=3,r.interrupt?t:w):En(C)?(e.consume(C),a=String.fromCharCode(C),b):n(C)}function p(C){return C===45?(e.consume(C),i=2,h):C===91?(e.consume(C),i=5,l=0,m):En(C)?(e.consume(C),i=4,r.interrupt?t:w):n(C)}function h(C){return C===45?(e.consume(C),r.interrupt?t:w):n(C)}function m(C){const he="CDATA[";return C===he.charCodeAt(l++)?(e.consume(C),l===he.length?r.interrupt?t:F:m):n(C)}function x(C){return En(C)?(e.consume(C),a=String.fromCharCode(C),b):n(C)}function b(C){if(C===null||C===47||C===62||At(C)){const he=C===47,Ne=a.toLowerCase();return!he&&!s&&xm.includes(Ne)?(i=1,r.interrupt?t(C):F(C)):sE.includes(a.toLowerCase())?(i=6,he?(e.consume(C),y):r.interrupt?t(C):F(C)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):s?g(C):v(C))}return C===45||Bt(C)?(e.consume(C),a+=String.fromCharCode(C),b):n(C)}function y(C){return C===62?(e.consume(C),r.interrupt?t:F):n(C)}function g(C){return be(C)?(e.consume(C),g):L(C)}function v(C){return C===47?(e.consume(C),L):C===58||C===95||En(C)?(e.consume(C),k):be(C)?(e.consume(C),v):L(C)}function k(C){return C===45||C===46||C===58||C===95||Bt(C)?(e.consume(C),k):E(C)}function E(C){return C===61?(e.consume(C),j):be(C)?(e.consume(C),E):v(C)}function j(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),u=C,O):be(C)?(e.consume(C),j):P(C)}function O(C){return C===u?(e.consume(C),u=null,D):C===null||te(C)?n(C):(e.consume(C),O)}function P(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||At(C)?E(C):(e.consume(C),P)}function D(C){return C===47||C===62||be(C)?v(C):n(C)}function L(C){return C===62?(e.consume(C),M):n(C)}function M(C){return C===null||te(C)?F(C):be(C)?(e.consume(C),M):n(C)}function F(C){return C===45&&i===2?(e.consume(C),X):C===60&&i===1?(e.consume(C),le):C===62&&i===4?(e.consume(C),Y):C===63&&i===3?(e.consume(C),w):C===93&&i===5?(e.consume(C),V):te(C)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(lE,se,H)(C)):C===null||te(C)?(e.exit("htmlFlowData"),H(C)):(e.consume(C),F)}function H(C){return e.check(oE,K,se)(C)}function K(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),B}function B(C){return C===null||te(C)?H(C):(e.enter("htmlFlowData"),F(C))}function X(C){return C===45?(e.consume(C),w):F(C)}function le(C){return C===47?(e.consume(C),a="",T):F(C)}function T(C){if(C===62){const he=a.toLowerCase();return xm.includes(he)?(e.consume(C),Y):F(C)}return En(C)&&a.length<8?(e.consume(C),a+=String.fromCharCode(C),T):F(C)}function V(C){return C===93?(e.consume(C),w):F(C)}function w(C){return C===62?(e.consume(C),Y):C===45&&i===2?(e.consume(C),w):F(C)}function Y(C){return C===null||te(C)?(e.exit("htmlFlowData"),se(C)):(e.consume(C),Y)}function se(C){return e.exit("htmlFlow"),t(C)}}function dE(e,t,n){const r=this;return i;function i(a){return te(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function fE(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(qo,t,n)}}const hE={name:"htmlText",tokenize:pE};function pE(e,t,n){const r=this;let i,s,a;return l;function l(w){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(w),u}function u(w){return w===33?(e.consume(w),c):w===47?(e.consume(w),E):w===63?(e.consume(w),v):En(w)?(e.consume(w),P):n(w)}function c(w){return w===45?(e.consume(w),d):w===91?(e.consume(w),s=0,m):En(w)?(e.consume(w),g):n(w)}function d(w){return w===45?(e.consume(w),h):n(w)}function f(w){return w===null?n(w):w===45?(e.consume(w),p):te(w)?(a=f,le(w)):(e.consume(w),f)}function p(w){return w===45?(e.consume(w),h):f(w)}function h(w){return w===62?X(w):w===45?p(w):f(w)}function m(w){const Y="CDATA[";return w===Y.charCodeAt(s++)?(e.consume(w),s===Y.length?x:m):n(w)}function x(w){return w===null?n(w):w===93?(e.consume(w),b):te(w)?(a=x,le(w)):(e.consume(w),x)}function b(w){return w===93?(e.consume(w),y):x(w)}function y(w){return w===62?X(w):w===93?(e.consume(w),y):x(w)}function g(w){return w===null||w===62?X(w):te(w)?(a=g,le(w)):(e.consume(w),g)}function v(w){return w===null?n(w):w===63?(e.consume(w),k):te(w)?(a=v,le(w)):(e.consume(w),v)}function k(w){return w===62?X(w):v(w)}function E(w){return En(w)?(e.consume(w),j):n(w)}function j(w){return w===45||Bt(w)?(e.consume(w),j):O(w)}function O(w){return te(w)?(a=O,le(w)):be(w)?(e.consume(w),O):X(w)}function P(w){return w===45||Bt(w)?(e.consume(w),P):w===47||w===62||At(w)?D(w):n(w)}function D(w){return w===47?(e.consume(w),X):w===58||w===95||En(w)?(e.consume(w),L):te(w)?(a=D,le(w)):be(w)?(e.consume(w),D):X(w)}function L(w){return w===45||w===46||w===58||w===95||Bt(w)?(e.consume(w),L):M(w)}function M(w){return w===61?(e.consume(w),F):te(w)?(a=M,le(w)):be(w)?(e.consume(w),M):D(w)}function F(w){return w===null||w===60||w===61||w===62||w===96?n(w):w===34||w===39?(e.consume(w),i=w,H):te(w)?(a=F,le(w)):be(w)?(e.consume(w),F):(e.consume(w),K)}function H(w){return w===i?(e.consume(w),i=void 0,B):w===null?n(w):te(w)?(a=H,le(w)):(e.consume(w),H)}function K(w){return w===null||w===34||w===39||w===60||w===61||w===96?n(w):w===47||w===62||At(w)?D(w):(e.consume(w),K)}function B(w){return w===47||w===62||At(w)?D(w):n(w)}function X(w){return w===62?(e.consume(w),e.exit("htmlTextData"),e.exit("htmlText"),t):n(w)}function le(w){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),T}function T(w){return be(w)?je(e,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):V(w)}function V(w){return e.enter("htmlTextData"),a(w)}}const $f={name:"labelEnd",resolveAll:xE,resolveTo:vE,tokenize:bE},mE={tokenize:wE},gE={tokenize:kE},yE={tokenize:SE};function xE(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Rn(e,0,e.length,n),e}function vE(e,t){let n=e.length,r=0,i,s,a,l;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return l=[["enter",u,t],["enter",c,t]],l=Zt(l,e.slice(s+1,s+r+3)),l=Zt(l,[["enter",d,t]]),l=Zt(l,Df(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),l=Zt(l,[["exit",d,t],e[a-2],e[a-1],["exit",c,t]]),l=Zt(l,e.slice(a+1)),l=Zt(l,[["exit",u,t]]),Rn(e,s,e.length,l),e}function bE(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(p){return s?s._inactive?f(p):(a=r.parser.defined.includes(Vi(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),u):n(p)}function u(p){return p===40?e.attempt(mE,d,a?d:f)(p):p===91?e.attempt(gE,d,a?c:f)(p):a?d(p):f(p)}function c(p){return e.attempt(yE,d,f)(p)}function d(p){return t(p)}function f(p){return s._balanced=!0,n(p)}}function wE(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return At(f)?ta(e,s)(f):s(f)}function s(f){return f===41?d(f):Fx(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return At(f)?ta(e,u)(f):d(f)}function l(f){return n(f)}function u(f){return f===34||f===39||f===40?Dx(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return At(f)?ta(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function kE(e,t,n){const r=this;return i;function i(l){return zx.call(r,e,s,a,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(Vi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function a(l){return n(l)}}function SE(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const CE={name:"labelStartImage",resolveAll:$f.resolveAll,tokenize:jE};function jE(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const NE={name:"labelStartLink",resolveAll:$f.resolveAll,tokenize:EE};function EE(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Lu={name:"lineEnding",tokenize:PE};function PE(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),je(e,t,"linePrefix")}}const Ol={name:"thematicBreak",tokenize:_E};function _E(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),a(c)}function a(c){return i=c,l(c)}function l(c){return c===i?(e.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||te(c))?(e.exit("thematicBreak"),t(c)):n(c)}function u(c){return c===i?(e.consume(c),r++,u):(e.exit("thematicBreakSequence"),be(c)?je(e,l,"whitespace")(c):l(c))}}const Ct={continuation:{tokenize:OE},exit:IE,name:"list",tokenize:LE},TE={partial:!0,tokenize:ME},RE={partial:!0,tokenize:AE};function LE(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(h){const m=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:dd(h)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Ol,n,c)(h):c(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return dd(h)&&++a<10?(e.consume(h),u):(!r.interrupt||a<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),c(h)):n(h)}function c(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(qo,r.interrupt?n:d,e.attempt(TE,p,f))}function d(h){return r.containerState.initialBlankLine=!0,s++,p(h)}function f(h){return be(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),p):n(h)}function p(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function OE(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(qo,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,je(e,t,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!be(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(RE,t,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,je(e,e.attempt(Ct,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function AE(e,t,n){const r=this;return je(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function IE(e){e.exit(this.containerState.type)}function ME(e,t,n){const r=this;return je(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!be(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const vm={name:"setextUnderline",resolveTo:FE,tokenize:zE};function FE(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function zE(e,t,n){const r=this;let i;return s;function s(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,a(c)):n(c)}function a(c){return e.enter("setextHeadingLineSequence"),l(c)}function l(c){return c===i?(e.consume(c),l):(e.exit("setextHeadingLineSequence"),be(c)?je(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||te(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const DE={tokenize:$E};function $E(e){const t=this,n=e.attempt(qo,r,e.attempt(this.parser.constructs.flowInitial,i,je(e,e.attempt(this.parser.constructs.flow,i,e.attempt(KN,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const UE={resolveAll:Ux()},BE=$x("string"),HE=$x("text");function $x(e){return{resolveAll:Ux(e==="text"?qE:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,l);return a;function a(d){return c(d)?s(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),u}function u(d){return c(d)?(n.exit("data"),s(d)):(n.consume(d),u)}function c(d){if(d===null)return!0;const f=i[d];let p=-1;if(f)for(;++p<f.length;){const h=f[p];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function Ux(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function qE(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,l=0,u;for(;s--;){const c=i[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(c===-2)u=!0,l++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const c={type:n===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const KE={42:Ct,43:Ct,45:Ct,48:Ct,49:Ct,50:Ct,51:Ct,52:Ct,53:Ct,54:Ct,55:Ct,56:Ct,57:Ct,62:Ox},VE={91:XN},WE={[-2]:Ru,[-1]:Ru,32:Ru},QE={35:nE,42:Ol,45:[vm,Ol],60:aE,61:vm,95:Ol,96:ym,126:ym},GE={38:Ix,92:Ax},XE={[-5]:Lu,[-4]:Lu,[-3]:Lu,33:CE,38:Ix,42:fd,60:[NN,hE],91:NE,92:[eE,Ax],93:$f,95:fd,96:DN},JE={null:[fd,UE]},YE={null:[42,95]},ZE={null:[]},eP=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:YE,contentInitial:VE,disable:ZE,document:KE,flow:QE,flowInitial:WE,insideSpan:JE,string:GE,text:XE},Symbol.toStringTag,{value:"Module"}));function tP(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],l=[];const u={attempt:O(E),check:O(j),consume:g,enter:v,exit:k,interrupt:O(j,{interrupt:!0})},c={code:null,containerState:{},defineSkip:x,events:[],now:m,parser:e,previous:null,sliceSerialize:p,sliceStream:h,write:f};let d=t.tokenize.call(c,u);return t.resolveAll&&s.push(t),c;function f(M){return a=Zt(a,M),b(),a[a.length-1]!==null?[]:(P(t,0),c.events=Df(s,c.events,c),c.events)}function p(M,F){return rP(h(M),F)}function h(M){return nP(a,M)}function m(){const{_bufferIndex:M,_index:F,line:H,column:K,offset:B}=r;return{_bufferIndex:M,_index:F,line:H,column:K,offset:B}}function x(M){i[M.line]=M.column,L()}function b(){let M;for(;r._index<a.length;){const F=a[r._index];if(typeof F=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<F.length;)y(F.charCodeAt(r._bufferIndex));else y(F)}}function y(M){d=d(M)}function g(M){te(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,L()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=M}function v(M,F){const H=F||{};return H.type=M,H.start=m(),c.events.push(["enter",H,c]),l.push(H),H}function k(M){const F=l.pop();return F.end=m(),c.events.push(["exit",F,c]),F}function E(M,F){P(M,F.from)}function j(M,F){F.restore()}function O(M,F){return H;function H(K,B,X){let le,T,V,w;return Array.isArray(K)?se(K):"tokenize"in K?se([K]):Y(K);function Y(de){return Le;function Le(Mt){const ye=Mt!==null&&de[Mt],Je=Mt!==null&&de.null,Ft=[...Array.isArray(ye)?ye:ye?[ye]:[],...Array.isArray(Je)?Je:Je?[Je]:[]];return se(Ft)(Mt)}}function se(de){return le=de,T=0,de.length===0?X:C(de[T])}function C(de){return Le;function Le(Mt){return w=D(),V=de,de.partial||(c.currentConstruct=de),de.name&&c.parser.constructs.disable.null.includes(de.name)?Ne():de.tokenize.call(F?Object.assign(Object.create(c),F):c,u,he,Ne)(Mt)}}function he(de){return M(V,w),B}function Ne(de){return w.restore(),++T<le.length?C(le[T]):X}}}function P(M,F){M.resolveAll&&!s.includes(M)&&s.push(M),M.resolve&&Rn(c.events,F,c.events.length-F,M.resolve(c.events.slice(F),c)),M.resolveTo&&(c.events=M.resolveTo(c.events,c))}function D(){const M=m(),F=c.previous,H=c.currentConstruct,K=c.events.length,B=Array.from(l);return{from:K,restore:X};function X(){r=M,c.previous=F,c.currentConstruct=H,c.events.length=K,l=B,L()}}function L(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function nP(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function rP(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function iP(e){const r={constructs:dN([eP,...(e||{}).extensions||[]]),content:i(vN),defined:[],document:i(wN),flow:i(DE),lazy:{},string:i(BE),text:i(HE)};return r;function i(s){return a;function a(l){return tP(r,s,l)}}}function sP(e){for(;!Mx(e););return e}const bm=/[\0\t\n\r]/g;function aP(){let e=1,t="",n=!0,r;return i;function i(s,a,l){const u=[];let c,d,f,p,h;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(bm.lastIndex=f,c=bm.exec(s),p=c&&c.index!==void 0?c.index:s.length,h=s.charCodeAt(p),!c){t=s.slice(f);break}if(h===10&&f===p&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<p&&(u.push(s.slice(f,p)),e+=p-f),h){case 0:{u.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,u.push(-2);e++<d;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return l&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const lP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function oP(e){return e.replace(lP,uP)}function uP(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Lx(n.slice(s?2:1),s?16:10)}return zf(n)||e}const Bx={}.hasOwnProperty;function cP(e,t,n){return typeof t!="string"&&(n=t,t=void 0),dP(n)(sP(iP(n).document().write(aP()(e,t,!0))))}function dP(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(tr),autolinkProtocol:D,autolinkEmail:D,atxHeading:s(tt),blockQuote:s(Je),characterEscape:D,characterReference:D,codeFenced:s(Ft),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Ft,a),codeText:s(Ee,a),codeTextData:D,data:D,codeFlowValue:D,definition:s(xe),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(js),hardBreakEscape:s(On),hardBreakTrailing:s(On),htmlFlow:s(wt,a),htmlFlowData:D,htmlText:s(wt,a),htmlTextData:D,image:s(qe),label:a,link:s(tr),listItem:s(Wt),listItemValue:p,listOrdered:s(xn,f),listUnordered:s(xn),paragraph:s(An),reference:C,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(tt),strong:s(Ns),thematicBreak:s(Es)},exit:{atxHeading:u(),atxHeadingSequence:E,autolink:u(),autolinkEmail:ye,autolinkProtocol:Mt,blockQuote:u(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:Ne,characterReferenceMarkerNumeric:Ne,characterReferenceValue:de,characterReference:Le,codeFenced:u(b),codeFencedFence:x,codeFencedFenceInfo:h,codeFencedFenceMeta:m,codeFlowValue:L,codeIndented:u(y),codeText:u(B),codeTextData:L,data:L,definition:u(),definitionDestinationString:k,definitionLabelString:g,definitionTitleString:v,emphasis:u(),hardBreakEscape:u(F),hardBreakTrailing:u(F),htmlFlow:u(H),htmlFlowData:L,htmlText:u(K),htmlTextData:L,image:u(le),label:V,labelText:T,lineEnding:M,link:u(X),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:he,resourceDestinationString:w,resourceTitleString:Y,resource:se,setextHeading:u(P),setextHeadingLineSequence:O,setextHeadingText:j,strong:u(),thematicBreak:u()}};Hx(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(R){let U={type:"root",children:[]};const Z={stack:[U],tokenStack:[],config:t,enter:l,exit:c,buffer:a,resume:d,data:n},oe=[];let pe=-1;for(;++pe<R.length;)if(R[pe][1].type==="listOrdered"||R[pe][1].type==="listUnordered")if(R[pe][0]==="enter")oe.push(pe);else{const ht=oe.pop();pe=i(R,ht,pe)}for(pe=-1;++pe<R.length;){const ht=t[R[pe][0]];Bx.call(ht,R[pe][1].type)&&ht[R[pe][1].type].call(Object.assign({sliceSerialize:R[pe][2].sliceSerialize},Z),R[pe][1])}if(Z.tokenStack.length>0){const ht=Z.tokenStack[Z.tokenStack.length-1];(ht[1]||wm).call(Z,void 0,ht[0])}for(U.position={start:rr(R.length>0?R[0][1].start:{line:1,column:1,offset:0}),end:rr(R.length>0?R[R.length-2][1].end:{line:1,column:1,offset:0})},pe=-1;++pe<t.transforms.length;)U=t.transforms[pe](U)||U;return U}function i(R,U,Z){let oe=U-1,pe=-1,ht=!1,st,We,kt,Mn;for(;++oe<=Z;){const De=R[oe];switch(De[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{De[0]==="enter"?pe++:pe--,Mn=void 0;break}case"lineEndingBlank":{De[0]==="enter"&&(st&&!Mn&&!pe&&!kt&&(kt=oe),Mn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Mn=void 0}if(!pe&&De[0]==="enter"&&De[1].type==="listItemPrefix"||pe===-1&&De[0]==="exit"&&(De[1].type==="listUnordered"||De[1].type==="listOrdered")){if(st){let an=oe;for(We=void 0;an--;){const St=R[an];if(St[1].type==="lineEnding"||St[1].type==="lineEndingBlank"){if(St[0]==="exit")continue;We&&(R[We][1].type="lineEndingBlank",ht=!0),St[1].type="lineEnding",We=an}else if(!(St[1].type==="linePrefix"||St[1].type==="blockQuotePrefix"||St[1].type==="blockQuotePrefixWhitespace"||St[1].type==="blockQuoteMarker"||St[1].type==="listItemIndent"))break}kt&&(!We||kt<We)&&(st._spread=!0),st.end=Object.assign({},We?R[We][1].start:De[1].end),R.splice(We||oe,0,["exit",st,De[2]]),oe++,Z++}if(De[1].type==="listItemPrefix"){const an={type:"listItem",_spread:!1,start:Object.assign({},De[1].start),end:void 0};st=an,R.splice(oe,0,["enter",an,De[2]]),oe++,Z++,kt=void 0,Mn=!0}}}return R[U][1]._spread=ht,Z}function s(R,U){return Z;function Z(oe){l.call(this,R(oe),oe),U&&U.call(this,oe)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(R,U,Z){this.stack[this.stack.length-1].children.push(R),this.stack.push(R),this.tokenStack.push([U,Z||void 0]),R.position={start:rr(U.start),end:void 0}}function u(R){return U;function U(Z){R&&R.call(this,Z),c.call(this,Z)}}function c(R,U){const Z=this.stack.pop(),oe=this.tokenStack.pop();if(oe)oe[0].type!==R.type&&(U?U.call(this,R,oe[0]):(oe[1]||wm).call(this,R,oe[0]));else throw new Error("Cannot close `"+R.type+"` ("+ea({start:R.start,end:R.end})+"): its not open");Z.position.end=rr(R.end)}function d(){return uN(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(R){if(this.data.expectingFirstListItemValue){const U=this.stack[this.stack.length-2];U.start=Number.parseInt(this.sliceSerialize(R),10),this.data.expectingFirstListItemValue=void 0}}function h(){const R=this.resume(),U=this.stack[this.stack.length-1];U.lang=R}function m(){const R=this.resume(),U=this.stack[this.stack.length-1];U.meta=R}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const R=this.resume(),U=this.stack[this.stack.length-1];U.value=R.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const R=this.resume(),U=this.stack[this.stack.length-1];U.value=R.replace(/(\r?\n|\r)$/g,"")}function g(R){const U=this.resume(),Z=this.stack[this.stack.length-1];Z.label=U,Z.identifier=Vi(this.sliceSerialize(R)).toLowerCase()}function v(){const R=this.resume(),U=this.stack[this.stack.length-1];U.title=R}function k(){const R=this.resume(),U=this.stack[this.stack.length-1];U.url=R}function E(R){const U=this.stack[this.stack.length-1];if(!U.depth){const Z=this.sliceSerialize(R).length;U.depth=Z}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function O(R){const U=this.stack[this.stack.length-1];U.depth=this.sliceSerialize(R).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function D(R){const Z=this.stack[this.stack.length-1].children;let oe=Z[Z.length-1];(!oe||oe.type!=="text")&&(oe=In(),oe.position={start:rr(R.start),end:void 0},Z.push(oe)),this.stack.push(oe)}function L(R){const U=this.stack.pop();U.value+=this.sliceSerialize(R),U.position.end=rr(R.end)}function M(R){const U=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Z=U.children[U.children.length-1];Z.position.end=rr(R.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(U.type)&&(D.call(this,R),L.call(this,R))}function F(){this.data.atHardBreak=!0}function H(){const R=this.resume(),U=this.stack[this.stack.length-1];U.value=R}function K(){const R=this.resume(),U=this.stack[this.stack.length-1];U.value=R}function B(){const R=this.resume(),U=this.stack[this.stack.length-1];U.value=R}function X(){const R=this.stack[this.stack.length-1];if(this.data.inReference){const U=this.data.referenceType||"shortcut";R.type+="Reference",R.referenceType=U,delete R.url,delete R.title}else delete R.identifier,delete R.label;this.data.referenceType=void 0}function le(){const R=this.stack[this.stack.length-1];if(this.data.inReference){const U=this.data.referenceType||"shortcut";R.type+="Reference",R.referenceType=U,delete R.url,delete R.title}else delete R.identifier,delete R.label;this.data.referenceType=void 0}function T(R){const U=this.sliceSerialize(R),Z=this.stack[this.stack.length-2];Z.label=oP(U),Z.identifier=Vi(U).toLowerCase()}function V(){const R=this.stack[this.stack.length-1],U=this.resume(),Z=this.stack[this.stack.length-1];if(this.data.inReference=!0,Z.type==="link"){const oe=R.children;Z.children=oe}else Z.alt=U}function w(){const R=this.resume(),U=this.stack[this.stack.length-1];U.url=R}function Y(){const R=this.resume(),U=this.stack[this.stack.length-1];U.title=R}function se(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function he(R){const U=this.resume(),Z=this.stack[this.stack.length-1];Z.label=U,Z.identifier=Vi(this.sliceSerialize(R)).toLowerCase(),this.data.referenceType="full"}function Ne(R){this.data.characterReferenceType=R.type}function de(R){const U=this.sliceSerialize(R),Z=this.data.characterReferenceType;let oe;Z?(oe=Lx(U,Z==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):oe=zf(U);const pe=this.stack[this.stack.length-1];pe.value+=oe}function Le(R){const U=this.stack.pop();U.position.end=rr(R.end)}function Mt(R){L.call(this,R);const U=this.stack[this.stack.length-1];U.url=this.sliceSerialize(R)}function ye(R){L.call(this,R);const U=this.stack[this.stack.length-1];U.url="mailto:"+this.sliceSerialize(R)}function Je(){return{type:"blockquote",children:[]}}function Ft(){return{type:"code",lang:null,meta:null,value:""}}function Ee(){return{type:"inlineCode",value:""}}function xe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function js(){return{type:"emphasis",children:[]}}function tt(){return{type:"heading",depth:0,children:[]}}function On(){return{type:"break"}}function wt(){return{type:"html",value:""}}function qe(){return{type:"image",title:null,url:"",alt:null}}function tr(){return{type:"link",title:null,url:"",children:[]}}function xn(R){return{type:"list",ordered:R.type==="listOrdered",start:null,spread:R._spread,children:[]}}function Wt(R){return{type:"listItem",spread:R._spread,checked:null,children:[]}}function An(){return{type:"paragraph",children:[]}}function Ns(){return{type:"strong",children:[]}}function In(){return{type:"text",value:""}}function Es(){return{type:"thematicBreak"}}}function rr(e){return{line:e.line,column:e.column,offset:e.offset}}function Hx(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Hx(e,r):fP(e,r)}}function fP(e,t){let n;for(n in t)if(Bx.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function wm(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ea({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ea({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ea({start:t.start,end:t.end})+") is still open")}function hP(e){const t=this;t.parser=n;function n(r){return cP(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function pP(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function mP(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function gP(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function yP(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xP(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vP(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Cs(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,l+=1,e.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)}function bP(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wP(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function qx(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function kP(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return qx(e,t);const i={src:Cs(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function SP(e,t){const n={src:Cs(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function CP(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function jP(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return qx(e,t);const i={href:Cs(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function NP(e,t){const n={href:Cs(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function EP(e,t,n){const r=e.all(t),i=n?PP(n):Kx(t),s={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(i||l!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,c),e.applyData(t,c)}function PP(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Kx(n[r])}return t}function Kx(e){const t=e.spread;return t??e.children.length>1}function _P(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function TP(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function RP(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function LP(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function OP(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=Af(t.children[1]),u=jx(t.children[t.children.length-1]);l&&u&&(a.position={start:l,end:u}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function AP(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:t.children.length;let u=-1;const c=[];for(;++u<l;){const f=t.children[u],p={},h=a?a[u]:void 0;h&&(p.align=h);let m={type:"element",tagName:s,properties:p,children:[]};f&&(m.children=e.all(f),e.patch(f,m),m=e.applyData(f,m)),c.push(m)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function IP(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const km=9,Sm=32;function MP(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(Cm(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(Cm(t.slice(i),i>0,!1)),s.join("")}function Cm(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===km||s===Sm;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===km||s===Sm;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function FP(e,t){const n={type:"text",value:MP(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function zP(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const DP={blockquote:pP,break:mP,code:gP,delete:yP,emphasis:xP,footnoteReference:vP,heading:bP,html:wP,imageReference:kP,image:SP,inlineCode:CP,linkReference:jP,link:NP,listItem:EP,list:_P,paragraph:TP,root:RP,strong:LP,table:OP,tableCell:IP,tableRow:AP,text:FP,thematicBreak:zP,toml:pl,yaml:pl,definition:pl,footnoteDefinition:pl};function pl(){}const Vx=-1,Ko=0,na=1,po=2,Uf=3,Bf=4,Hf=5,qf=6,Wx=7,Qx=8,jm=typeof self=="object"?self:globalThis,$P=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case Ko:case Vx:return n(a,i);case na:{const l=n([],i);for(const u of a)l.push(r(u));return l}case po:{const l=n({},i);for(const[u,c]of a)l[r(u)]=r(c);return l}case Uf:return n(new Date(a),i);case Bf:{const{source:l,flags:u}=a;return n(new RegExp(l,u),i)}case Hf:{const l=n(new Map,i);for(const[u,c]of a)l.set(r(u),r(c));return l}case qf:{const l=n(new Set,i);for(const u of a)l.add(r(u));return l}case Wx:{const{name:l,message:u}=a;return n(new jm[l](u),i)}case Qx:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return n(new DataView(l),a)}}return n(new jm[s](a),i)};return r},Nm=e=>$P(new Map,e)(0),ji="",{toString:UP}={},{keys:BP}=Object,Ds=e=>{const t=typeof e;if(t!=="object"||!e)return[Ko,t];const n=UP.call(e).slice(8,-1);switch(n){case"Array":return[na,ji];case"Object":return[po,ji];case"Date":return[Uf,ji];case"RegExp":return[Bf,ji];case"Map":return[Hf,ji];case"Set":return[qf,ji];case"DataView":return[na,n]}return n.includes("Array")?[na,n]:n.includes("Error")?[Wx,n]:[po,n]},ml=([e,t])=>e===Ko&&(t==="function"||t==="symbol"),HP=(e,t,n,r)=>{const i=(a,l)=>{const u=r.push(a)-1;return n.set(l,u),u},s=a=>{if(n.has(a))return n.get(a);let[l,u]=Ds(a);switch(l){case Ko:{let d=a;switch(u){case"bigint":l=Qx,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);d=null;break;case"undefined":return i([Vx],a)}return i([l,d],a)}case na:{if(u){let p=a;return u==="DataView"?p=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(p=new Uint8Array(a)),i([u,[...p]],a)}const d=[],f=i([l,d],a);for(const p of a)d.push(s(p));return f}case po:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],f=i([l,d],a);for(const p of BP(a))(e||!ml(Ds(a[p])))&&d.push([s(p),s(a[p])]);return f}case Uf:return i([l,a.toISOString()],a);case Bf:{const{source:d,flags:f}=a;return i([l,{source:d,flags:f}],a)}case Hf:{const d=[],f=i([l,d],a);for(const[p,h]of a)(e||!(ml(Ds(p))||ml(Ds(h))))&&d.push([s(p),s(h)]);return f}case qf:{const d=[],f=i([l,d],a);for(const p of a)(e||!ml(Ds(p)))&&d.push(s(p));return f}}const{message:c}=a;return i([l,{name:u,message:c}],a)};return s},Em=(e,{json:t,lossy:n}={})=>{const r=[];return HP(!(t||n),!!t,new Map,r)(e),r},mo=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Nm(Em(e,t)):structuredClone(e):(e,t)=>Nm(Em(e,t));function qP(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function KP(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function VP(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||qP,r=e.options.footnoteBackLabel||KP,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[u]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),p=Cs(f.toLowerCase());let h=0;const m=[],x=e.footnoteCounts.get(f);for(;x!==void 0&&++h<=x;){m.length>0&&m.push({type:"text",value:" "});let g=typeof n=="string"?n:n(u,h);typeof g=="string"&&(g={type:"text",value:g}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,h),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const g=b.children[b.children.length-1];g&&g.type==="text"?g.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...m)}else d.push(...m);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,y),l.push(y)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...mo(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Gx=function(e){if(e==null)return XP;if(typeof e=="function")return Vo(e);if(typeof e=="object")return Array.isArray(e)?WP(e):QP(e);if(typeof e=="string")return GP(e);throw new Error("Expected function, string, or object as test")};function WP(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Gx(e[n]);return Vo(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function QP(e){const t=e;return Vo(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function GP(e){return Vo(t);function t(n){return n&&n.type===e}}function Vo(e){return t;function t(n,r,i){return!!(JP(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function XP(){return!0}function JP(e){return e!==null&&typeof e=="object"&&"type"in e}const Xx=[],YP=!0,Pm=!1,ZP="skip";function e4(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Gx(i),a=r?-1:1;l(e,void 0,[])();function l(u,c,d){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=Xx,m,x,b;if((!t||s(u,c,d[d.length-1]||void 0))&&(h=t4(n(u,d)),h[0]===Pm))return h;if("children"in u&&u.children){const y=u;if(y.children&&h[0]!==ZP)for(x=(r?y.children.length:-1)+a,b=d.concat(y);x>-1&&x<y.children.length;){const g=y.children[x];if(m=l(g,x,b)(),m[0]===Pm)return m;x=typeof m[1]=="number"?m[1]:x+a}}return h}}}function t4(e){return Array.isArray(e)?e:typeof e=="number"?[YP,e]:e==null?Xx:[e]}function Jx(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),e4(e,s,l,i);function l(u,c){const d=c[c.length-1],f=d?d.children.indexOf(u):void 0;return a(u,f,d)}}const hd={}.hasOwnProperty,n4={};function r4(e,t){const n=t||n4,r=new Map,i=new Map,s=new Map,a={...DP,...n.handlers},l={all:c,applyData:s4,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:u,options:n,patch:i4,wrap:l4};return Jx(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),l;function u(d,f){const p=d.type,h=l.handlers[p];if(hd.call(l.handlers,p)&&h)return h(l,d,f);if(l.options.passThrough&&l.options.passThrough.includes(p)){if("children"in d){const{children:x,...b}=d,y=mo(b);return y.children=l.all(d),y}return mo(d)}return(l.options.unknownHandler||a4)(l,d,f)}function c(d){const f=[];if("children"in d){const p=d.children;let h=-1;for(;++h<p.length;){const m=l.one(p[h],d);if(m){if(h&&p[h-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=_m(m.value)),!Array.isArray(m)&&m.type==="element")){const x=m.children[0];x&&x.type==="text"&&(x.value=_m(x.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function i4(e,t){e.position&&(t.position=Uj(e))}function s4(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,mo(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function a4(e,t){const n=t.data||{},r="value"in t&&!(hd.call(n,"hProperties")||hd.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function l4(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function _m(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Tm(e,t){const n=r4(e,t),r=n.one(e,void 0),i=VP(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function o4(e,t){return e&&"run"in e?async function(n,r){const i=Tm(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Tm(n,{file:r,...e||t})}}function Rm(e){if(e)throw e}var Al=Object.prototype.hasOwnProperty,Yx=Object.prototype.toString,Lm=Object.defineProperty,Om=Object.getOwnPropertyDescriptor,Am=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Yx.call(t)==="[object Array]"},Im=function(t){if(!t||Yx.call(t)!=="[object Object]")return!1;var n=Al.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Al.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Al.call(t,i)},Mm=function(t,n){Lm&&n.name==="__proto__"?Lm(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Fm=function(t,n){if(n==="__proto__")if(Al.call(t,n)){if(Om)return Om(t,n).value}else return;return t[n]},u4=function e(){var t,n,r,i,s,a,l=arguments[0],u=1,c=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},u=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});u<c;++u)if(t=arguments[u],t!=null)for(n in t)r=Fm(l,n),i=Fm(t,n),l!==i&&(d&&i&&(Im(i)||(s=Am(i)))?(s?(s=!1,a=r&&Am(r)?r:[]):a=r&&Im(r)?r:{},Mm(l,{name:n,newValue:e(d,a,i)})):typeof i<"u"&&Mm(l,{name:n,newValue:i}));return l};const Ou=go(u4);function pd(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function c4(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(u,...c){const d=e[++s];let f=-1;if(u){a(u);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?d4(d,l)(...c):a(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function d4(e,t){let n;return r;function r(...a){const l=e.length>a.length;let u;l&&a.push(i);try{u=e.apply(this,a)}catch(c){const d=c;if(l&&n)throw d;return i(d)}l||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(a,...l){n||(n=!0,t(a,...l))}function s(a){i(null,a)}}const kn={basename:f4,dirname:h4,extname:p4,join:m4,sep:"/"};function f4(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ka(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function h4(e){if(Ka(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function p4(e){Ka(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const l=e.codePointAt(t);if(l===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),l===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function m4(...e){let t=-1,n;for(;++t<e.length;)Ka(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":g4(n)}function g4(e){Ka(e);const t=e.codePointAt(0)===47;let n=y4(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function y4(e,t){let n="",r=0,i=-1,s=0,a=-1,l,u;for(;++a<=e.length;){if(a<e.length)l=e.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else l===46&&s>-1?s++:s=-1}return n}function Ka(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const x4={cwd:v4};function v4(){return"/"}function md(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function b4(e){if(typeof e=="string")e=new URL(e);else if(!md(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return w4(e)}function w4(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Au=["history","path","basename","stem","extname","dirname"];class Zx{constructor(t){let n;t?md(t)?n={path:t}:typeof t=="string"||k4(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":x4.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Au.length;){const s=Au[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Au.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?kn.basename(this.path):void 0}set basename(t){Mu(t,"basename"),Iu(t,"basename"),this.path=kn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?kn.dirname(this.path):void 0}set dirname(t){zm(this.basename,"dirname"),this.path=kn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?kn.extname(this.path):void 0}set extname(t){if(Iu(t,"extname"),zm(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=kn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){md(t)&&(t=b4(t)),Mu(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?kn.basename(this.path,this.extname):void 0}set stem(t){Mu(t,"stem"),Iu(t,"stem"),this.path=kn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ft(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Iu(e,t){if(e&&e.includes(kn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+kn.sep+"`")}function Mu(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function zm(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function k4(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const S4=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},C4={}.hasOwnProperty;class Kf extends S4{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=c4()}copy(){const t=new Kf;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ou(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Du("data",this.frozen),this.namespace[t]=n,this):C4.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Du("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=gl(t),r=this.parser||this.Parser;return Fu("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Fu("process",this.parser||this.Parser),zu("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const l=gl(t),u=r.parse(l);r.run(u,l,function(d,f,p){if(d||!f||!p)return c(d);const h=f,m=r.stringify(h,p);E4(m)?p.value=m:p.result=m,c(d,p)});function c(d,f){d||!f?a(d):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Fu("processSync",this.parser||this.Parser),zu("processSync",this.compiler||this.Compiler),this.process(t,i),$m("processSync","process",n),r;function i(s,a){n=!0,Rm(s),r=a}}run(t,n,r){Dm(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,l){const u=gl(n);i.run(t,u,c);function c(d,f,p){const h=f||t;d?l(d):a?a(h):r(void 0,h,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),$m("runSync","run",r),i;function s(a,l){Rm(a),i=l,r=!0}}stringify(t,n){this.freeze();const r=gl(n),i=this.compiler||this.Compiler;return zu("stringify",i),Dm(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Du("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;u(d,f)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(c.plugins),c.settings&&(i.settings=Ou(!0,i.settings,c.settings))}function l(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===c){p=f;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[h,...m]=d;const x=r[p][1];pd(x)&&pd(h)&&(h=Ou(!0,x,h)),r[p]=[c,h,...m]}}}}const j4=new Kf().freeze();function Fu(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function zu(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Du(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Dm(e){if(!pd(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function $m(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function gl(e){return N4(e)?e:new Zx(e)}function N4(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function E4(e){return typeof e=="string"||P4(e)}function P4(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const _4="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Um=[],Bm={allowDangerousHtml:!0},T4=/^(https?|ircs?|mailto|xmpp)$/i,R4=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function L4(e){const t=O4(e),n=A4(e);return I4(t.runSync(t.parse(n),n),e)}function O4(e){const t=e.rehypePlugins||Um,n=e.remarkPlugins||Um,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Bm}:Bm;return j4().use(hP).use(n).use(o4,r).use(t)}function A4(e){const t=e.children||"",n=new Zx;return typeof t=="string"&&(n.value=t),n}function I4(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,l=t.unwrapDisallowed,u=t.urlTransform||M4;for(const d of R4)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+_4+d.id,void 0);return Jx(e,c),Vj(e,{Fragment:o.Fragment,components:i,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0});function c(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return a?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let h;for(h in Tu)if(Object.hasOwn(Tu,h)&&Object.hasOwn(d.properties,h)){const m=d.properties[h],x=Tu[h];(x===null||x.includes(d.tagName))&&(d.properties[h]=u(String(m||""),h,d))}}if(d.type==="element"){let h=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!h&&r&&typeof f=="number"&&(h=!r(d,f,p)),h&&p&&typeof f=="number")return l&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function M4(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||T4.test(e.slice(0,t))?e:""}function F4({isOpen:e,onClose:t,translationId:n,originalText:r,translatedText:i,onTranslationUpdated:s}){const{t:a}=Re(),l=Fr(),[u,c]=N.useState(""),[d,f]=N.useState(!1),p=N.useRef(null),{getActiveConfig:h,getActiveConfigId:m}=Zn(),x=h(),b=m(),y=!!(x&&x.hasApiKey),{data:g,isLoading:v,refetch:k}=me({queryKey:["conversation",n],queryFn:async()=>{try{return await G.getConversation(n)}catch{return await G.startConversation(n,{config_id:b||void 0})}},enabled:e&&!!n&&y}),E=Ue({mutationFn:L=>G.sendMessage(n,{message:L,config_id:b||void 0}),onSuccess:()=>{k(),c("")}}),j=Ue({mutationFn:L=>G.applyTranslationSuggestion(n,L),onSuccess:()=>{k(),l.invalidateQueries({queryKey:["chapter"]}),s()}}),O=Ue({mutationFn:()=>G.clearConversation(n),onSuccess:()=>{k()}});N.useEffect(()=>{var L;(L=p.current)==null||L.scrollIntoView({behavior:"smooth"})},[g==null?void 0:g.messages]);const P=()=>{u.trim()&&!E.isPending&&E.mutate(u.trim())},D=L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),P())};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-3xl h-[80vh] mx-4 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[o.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[o.jsx(Fy,{className:"w-5 h-5 text-blue-500"}),a("translate.discussTranslation")]}),o.jsxs("div",{className:"flex items-center gap-2",children:[(g==null?void 0:g.messages)&&g.messages.length>0&&o.jsx("button",{onClick:()=>O.mutate(),disabled:O.isPending,className:"p-1.5 text-gray-400 hover:text-red-500 dark:hover:text-red-400 rounded",title:a("translate.clearConversation"),children:o.jsx(Io,{className:"w-4 h-4"})}),o.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:o.jsx(tn,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 text-sm",children:[o.jsx("div",{className:`p-3 ${d?"max-h-[40vh] overflow-y-auto":""}`,children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 ",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-xs uppercase mb-1 font-medium",children:a("translate.original")}),o.jsx("div",{className:`text-gray-700 dark:text-gray-300 ${d?"whitespace-pre-wrap":"line-clamp-2"}`,children:r})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-xs uppercase mb-1 font-medium",children:a("translate.currentTranslation")}),o.jsx("div",{className:`text-blue-700 dark:text-blue-400 ${d?"whitespace-pre-wrap":"line-clamp-2"}`,children:(g==null?void 0:g.current_translation)||i})]})]})}),o.jsx("button",{onClick:()=>f(!d),className:"w-full py-1.5 flex items-center justify-center gap-1 text-xs text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors border-t border-gray-200 dark:border-gray-700",children:d?o.jsxs(o.Fragment,{children:[o.jsx(jk,{className:"w-3 h-3"}),a("translate.collapseContext")]}):o.jsxs(o.Fragment,{children:[o.jsx(Sf,{className:"w-3 h-3"}),a("translate.expandContext")]})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[v?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(ve,{className:"w-6 h-6 animate-spin text-blue-600"})}):!(g!=null&&g.messages)||g.messages.length===0?o.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:[o.jsx(My,{className:"w-8 h-8 mx-auto mb-2 text-amber-500"}),o.jsx("p",{children:a("translate.askAboutTranslation")}),o.jsx("p",{className:"text-sm mt-2 text-gray-400 dark:text-gray-500",children:a("translate.chatExamples")})]}):g.messages.map(L=>o.jsx(z4,{message:L,onApplySuggestion:()=>j.mutate(L.id),isApplying:j.isPending,t:a},L.id)),E.isPending&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-3",children:o.jsx(ve,{className:"w-5 h-5 animate-spin text-blue-600"})})}),o.jsx("div",{ref:p})]}),o.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[E.isError&&o.jsx("div",{className:"text-red-500 text-sm mb-2",children:a("translate.messageFailed")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("textarea",{value:u,onChange:L=>c(L.target.value),onKeyDown:D,placeholder:a("translate.typeYourQuestion"),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg resize-none bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,disabled:E.isPending}),o.jsx("button",{onClick:P,disabled:!u.trim()||E.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors",children:E.isPending?o.jsx(ve,{className:"w-5 h-5 animate-spin"}):o.jsx(zy,{className:"w-5 h-5"})})]})]})]})}):null}function z4({message:e,onApplySuggestion:t,isApplying:n,t:r}){const i=e.role==="user";return o.jsx("div",{className:`flex ${i?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${i?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100"}`,children:[i?o.jsx("p",{className:"whitespace-pre-wrap",children:e.content}):o.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:o.jsx(L4,{children:e.content})}),e.suggested_translation&&!e.suggestion_applied&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:[o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:[r("translate.suggestedTranslation"),":"]}),o.jsx("div",{className:"text-sm bg-white dark:bg-gray-800 p-2 rounded mb-2 text-gray-800 dark:text-gray-200",children:e.suggested_translation}),o.jsxs("button",{onClick:t,disabled:n,className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white text-sm rounded hover:bg-green-700 disabled:bg-gray-400 transition-colors",children:[n?o.jsx(ve,{className:"w-4 h-4 animate-spin"}):o.jsx(gn,{className:"w-4 h-4"}),r("translate.applyTranslation")]})]}),e.suggestion_applied&&o.jsxs("div",{className:"mt-2 text-xs text-green-600 dark:text-green-400 flex items-center gap-1",children:[o.jsx(gn,{className:"w-3 h-3"}),r("translate.suggestionApplied")]})]})})}function ev(e){const t=[];for(const n of e)n.chapter_id&&t.push(n.chapter_id),n.children&&n.children.length>0&&t.push(...ev(n.children));return t}function D4(){var Qf,Gf;const{t:e}=Re(),{projectId:t}=bi(),n=Fr(),r=Ao(),i=ze(A=>A.fontSize),s=Dr[i],a=ze(A=>A.panelWidths),l=ze(A=>A.setPanelWidth),u=120,c=400,d=200,f=500,p=N.useCallback(A=>{const ue=Math.max(u,Math.min(c,a.chapterList+A));l("chapterList",ue)},[a.chapterList,l]),h=N.useCallback(A=>{const ue=Math.max(d,Math.min(f,a.referencePanel-A));l("referencePanel",ue)},[a.referencePanel,l]),[m,x]=N.useState(null),[b,y]=N.useState(null),[g,v]=N.useState(""),[k,E]=N.useState(new Set),[j,O]=N.useState(null),[P,D]=N.useState(!1),[L,M]=N.useState(!1),[F,H]=N.useState(!1),[K,B]=N.useState(!1),[X,le]=N.useState(null),[T,V]=N.useState(""),[w,Y]=N.useState(""),[se,C]=N.useState(null),{getActiveConfig:he,getActiveConfigId:Ne}=Zn(),de=he(),Le=Ne(),Mt=!!(de&&de.hasApiKey),ye=((Qf=r==null?void 0:r.workflowStatus)==null?void 0:Qf.has_reference_epub)??!1,Je=(Gf=r==null?void 0:r.workflowStatus)==null?void 0:Gf.translation_progress,Ft=(Je==null?void 0:Je.status)==="processing"||(Je==null?void 0:Je.status)==="pending",Ee=Je==null?void 0:Je.status,[xe,js]=N.useState(void 0),{data:tt}=me({queryKey:["toc",t],queryFn:()=>G.getToc(t),enabled:!!t}),{data:On}=me({queryKey:["analysis",t],queryFn:()=>G.getAnalysis(t),enabled:!!t}),{data:wt}=me({queryKey:["chapters",t],queryFn:()=>G.getChapters(t),enabled:!!t}),qe=N.useMemo(()=>tt&&tt.length>0?ev(tt):(wt==null?void 0:wt.map(A=>A.id))||[],[tt,wt]),tr=N.useMemo(()=>{const A=On==null?void 0:On.raw_analysis;if(!A)return{source_text:"(Source text will be provided during translation)",analysis_text:"",author_biography:"",writing_style:"",tone:"",target_audience:"",genre_conventions:"",key_terminology:"",translation_principles:"",custom_guidelines:""};const ue=A.key_terminology,zt=ue?Object.entries(ue).map(([iv,sv])=>`${iv}: ${sv}`).join(`
`):"",Si=A.translation_principles,Wo=Si?JSON.stringify(Si,null,2):"",Xf=A.custom_guidelines,rv=Xf?Xf.join(`
`):"";return{source_text:"(Source text will be provided during translation)",analysis_text:JSON.stringify(A,null,2),author_biography:A.author_biography||"",writing_style:A.writing_style||"",tone:A.tone||"",target_audience:A.target_audience||"",genre_conventions:A.genre_conventions||"",key_terminology:zt,translation_principles:Wo,custom_guidelines:rv}},[On]),{data:xn}=me({queryKey:["referenceEpub",t],queryFn:()=>G.getReferenceEpub(t),enabled:!!t&&ye,retry:!1}),{data:Wt}=me({queryKey:["referenceChapters",t],queryFn:()=>G.getReferenceChapters(t),enabled:!!t&&ye&&K,retry:!1}),{data:An,isLoading:Ns}=me({queryKey:["referenceChapterContent",t,X],queryFn:()=>G.getReferenceChapterContent(t,X),enabled:!!t&&ye&&K&&X!==null&&!T,retry:!1}),{data:In,isLoading:Es}=me({queryKey:["referenceSearch",t,T],queryFn:()=>G.searchReferenceContent(t,T,50),enabled:!!t&&ye&&K&&T.length>0,retry:!1});N.useEffect(()=>{K&&Wt&&Wt.length>0&&X===null&&le(Wt[0].chapter_number)},[K,Wt,X]);const{data:R,isLoading:U,refetch:Z}=me({queryKey:["chapter",t,m],queryFn:()=>G.getChapterContent(t,m),enabled:!!t&&!!m,refetchInterval:Ft?3e3:!1});N.useEffect(()=>{if(xe&&Ee!==xe&&(xe==="processing"||xe==="pending")&&Ee==="completed"){const A=setTimeout(()=>{Z()},500);return()=>clearTimeout(A)}js(Ee)},[Ee,xe,Z]),N.useEffect(()=>{qe.length>0&&!m&&x(qe[0])},[qe,m]);const oe=(R==null?void 0:R.paragraphs)||[],pe=Ue({mutationFn:async A=>{const ue=await G.uploadReferenceEpub(t,A);return await G.autoMatchParagraphs(t),ue},onSuccess:()=>{n.invalidateQueries({queryKey:["referenceEpub",t]}),n.invalidateQueries({queryKey:["matches",t]}),n.invalidateQueries({queryKey:["workflowStatus",t]}),r==null||r.refetchWorkflow()}}),ht=Ue({mutationFn:()=>G.deleteReferenceEpub(t),onSuccess:()=>{n.invalidateQueries({queryKey:["referenceEpub",t]}),n.invalidateQueries({queryKey:["matches",t]}),n.invalidateQueries({queryKey:["workflowStatus",t]}),r==null||r.refetchWorkflow()}}),st=Ue({mutationFn:({paragraphId:A,text:ue})=>G.updateTranslation(A,ue),onSuccess:()=>{n.invalidateQueries({queryKey:["chapter",t,m]}),y(null)}}),We=Ue({mutationFn:async A=>{const ue=R==null?void 0:R.chapter_number;if(!ue)throw new Error("No chapter selected");return G.startTranslation({project_id:t,mode:"author_based",config_id:Le||void 0,chapters:[ue],custom_system_prompt:A==null?void 0:A.customSystemPrompt,custom_user_prompt:A==null?void 0:A.customUserPrompt})},onSuccess:()=>{n.invalidateQueries({queryKey:["workflowStatus",t]}),n.invalidateQueries({queryKey:["chapter",t,m]})}}),kt=Ue({mutationFn:A=>G.retranslateParagraph(A,{config_id:Le||void 0,mode:"author_aware"}),onSuccess:()=>{n.invalidateQueries({queryKey:["chapter",t,m]})}}),Mn=(A,ue)=>{D(!1),We.mutate({customSystemPrompt:A,customUserPrompt:ue})},De=()=>{M(!1)},an=()=>{We.mutate({})},St=N.useCallback(A=>{var zt;const ue=(zt=A.target.files)==null?void 0:zt[0];ue&&ue.name.endsWith(".epub")&&pe.mutate(ue)},[pe]),Va=N.useCallback(A=>{A.preventDefault(),V(w.trim())},[w]),I=N.useCallback(()=>{V(""),Y("")},[]),ne=N.useCallback((A,ue)=>{le(A),C(ue),V(""),Y(""),setTimeout(()=>C(null),3e3)},[]),at=(A,ue)=>{y(A),v(ue||"")},Ur=A=>{st.mutate({paragraphId:A,text:g})},Br=A=>{E(ue=>{const zt=new Set(ue);return zt.has(A)?zt.delete(A):zt.add(A),zt})},nv=(A,ue,zt,Si)=>{ue&&O({translationId:ue,paragraphId:A,originalText:zt,translatedText:Si})},Ps=qe.findIndex(A=>A===m),Vf=Ps>0,Wf=Ps>=0&&Ps<qe.length-1;return o.jsxs("div",{className:`h-full flex flex-col ${s.base}`,children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2 bg-white dark:bg-gray-800 p-2 rounded-lg border border-gray-200 dark:border-gray-700",children:[o.jsx("div",{className:"flex items-center gap-2 lg:gap-4",children:ye&&xn?o.jsxs("div",{className:`flex items-center gap-2 ${s.base}`,children:[o.jsx(Or,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0"}),o.jsxs("span",{className:"hidden sm:inline text-gray-600 dark:text-gray-400",children:[e("translate.referenceLoaded"),": "]}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100 truncate max-w-[150px] lg:max-w-none",children:xn.filename}),o.jsxs("span",{className:`hidden md:inline text-gray-400 dark:text-gray-500 ${s.xs}`,children:["(",xn.total_chapters," ",e("translate.chapters"),", ",xn.total_paragraphs," ",e("translate.paragraphs"),")"]}),o.jsx("button",{onClick:()=>ht.mutate(),className:"p-1 text-red-500 hover:text-red-700 flex-shrink-0",title:e("translate.removeReference"),children:o.jsx(Io,{className:"w-4 h-4"})}),o.jsxs("button",{onClick:()=>B(!K),className:`flex items-center gap-2 px-2 lg:px-3 py-1.5 border rounded-lg flex-shrink-0 transition-colors ${K?"border-amber-200 dark:border-amber-700 bg-amber-50 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${s.button}`,title:e(K?"translate.hideReferencePanel":"translate.showReferencePanel"),children:[K?o.jsx(Ak,{className:"w-4 h-4"}):o.jsx(Wn,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden lg:inline",children:e("translate.reference")})]})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("label",{className:`flex items-center gap-2 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded cursor-pointer hover:bg-blue-100 dark:hover:bg-blue-900/50 ${s.button}`,children:[o.jsx(Zc,{className:"w-4 h-4"}),e("translate.uploadReference"),o.jsx("input",{type:"file",accept:".epub",onChange:St,className:"hidden",disabled:pe.isPending})]}),pe.isPending&&o.jsx(ve,{className:"w-4 h-4 animate-spin text-blue-600"})]})}),o.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[o.jsx(Tf,{}),o.jsxs("button",{onClick:()=>D(!0),disabled:!Mt,className:`flex items-center gap-2 px-2 lg:px-3 py-1.5 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 ${s.button}`,title:e("prompts.viewPrompt"),children:[o.jsx(Or,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden lg:inline",children:e("prompts.viewPrompt")})]}),o.jsxs("button",{onClick:an,disabled:!Mt||!R||We.isPending||Ft,title:R?e("translate.translateChapterHint",{chapter:R.title||String(R.chapter_number)}):"",className:`flex items-center gap-2 px-3 lg:px-4 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed ${s.button}`,children:[We.isPending||Ft?o.jsx(ve,{className:"w-4 h-4 animate-spin"}):o.jsx(Ca,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:e(Ft?"translate.translating":"translate.translateCurrentChapter")})]}),o.jsxs("button",{onClick:()=>H(!0),className:`flex items-center gap-2 px-2 lg:px-3 py-1.5 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 ${s.button}`,children:[o.jsx(Wn,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden lg:inline",children:e("common.preview")})]})]})]}),o.jsxs("div",{className:"flex flex-1 min-h-0 overflow-x-auto",children:[o.jsx("div",{className:"hidden lg:flex lg:flex-col flex-shrink-0",style:{width:a.chapterList},children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-2 h-full overflow-y-auto",children:[o.jsx("h3",{className:`font-medium text-gray-900 dark:text-gray-100 mb-1.5 ${s.sm}`,children:e("preview.chapterList")}),tt&&tt.length>0?o.jsx(Bo,{toc:tt,selectedChapterId:m,onSelectChapter:x,fontClasses:s}):wt!=null&&wt.length?o.jsx("div",{className:"space-y-0.5",children:wt.map(A=>o.jsxs("button",{onClick:()=>x(A.id),className:`w-full text-left px-1.5 py-1 rounded ${s.paragraph} transition-colors ${m===A.id?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[o.jsx("div",{className:"font-medium truncate",children:A.title||e("preview.chapterNumber",{number:String(A.chapter_number)})}),o.jsxs("div",{className:`${s.xs} text-gray-400 dark:text-gray-500`,children:[A.paragraph_count," ",e("home.paragraphs")]})]},A.id))}):o.jsx("div",{className:`text-gray-500 dark:text-gray-400 ${s.paragraph} text-center py-4`,children:e("preview.noChapters")})]})}),o.jsx("div",{className:"hidden lg:flex h-full",children:o.jsx(id,{onResize:p,className:"h-full"})}),o.jsxs("div",{className:"flex-1 flex flex-col min-h-0 min-w-[500px]",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[o.jsxs("button",{onClick:()=>{Vf&&x(qe[Ps-1])},disabled:!Vf,className:"flex items-center gap-0.5 px-1.5 py-0.5 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 disabled:text-gray-300 dark:disabled:text-gray-600 text-xs",children:[o.jsx(Da,{className:"w-3 h-3"}),e("preview.prevChapter")]}),o.jsx("span",{className:"text-gray-600 dark:text-gray-300 font-medium text-xs",children:(R==null?void 0:R.title)||e("preview.chapterNumber",{number:String(R==null?void 0:R.chapter_number)})}),o.jsxs("button",{onClick:()=>{Wf&&x(qe[Ps+1])},disabled:!Wf,className:"flex items-center gap-0.5 px-1.5 py-0.5 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 disabled:text-gray-300 dark:disabled:text-gray-600 text-xs",children:[e("preview.nextChapter"),o.jsx(wi,{className:"w-3 h-3"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:U?o.jsx("div",{className:"text-center py-12",children:o.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto"})}):o.jsxs("div",{className:"space-y-2",children:[(R==null?void 0:R.images)&&R.images.length>0&&o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded border border-gray-200 dark:border-gray-700 p-2",children:o.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:R.images.map((A,ue)=>{const zt=A.src.replace(/^\.\.\//,""),Si=`/api/v1/preview/${t}/image/${zt}`;return o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:Si,alt:A.alt||`Image ${ue+1}`,className:"max-w-full max-h-64 object-contain rounded",onError:Wo=>{Wo.target.style.display="none"}}),A.caption&&o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:A.caption})]},ue)})})}),oe.map(A=>o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded border border-gray-200 dark:border-gray-700 p-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:`${s.label} text-gray-400 dark:text-gray-500 uppercase mb-1`,children:e("translate.original")}),o.jsx("div",{className:`text-gray-700 dark:text-gray-300 ${s.paragraph} leading-relaxed`,children:A.original_text})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:`${s.label} text-gray-400 dark:text-gray-500 uppercase mb-1`,children:e("translate.translation")}),b===A.id?o.jsxs("div",{children:[o.jsx("textarea",{value:g,onChange:ue=>v(ue.target.value),className:`w-full h-16 px-1.5 py-1 border border-gray-300 dark:border-gray-600 rounded ${s.paragraph} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-1 focus:ring-blue-500 focus:border-blue-500`}),o.jsxs("div",{className:"flex gap-1.5 mt-1.5",children:[o.jsxs("button",{onClick:()=>Ur(A.id),disabled:st.isPending,className:`flex items-center gap-0.5 px-1.5 py-0.5 bg-blue-600 text-white rounded hover:bg-blue-700 ${s.xs}`,children:[o.jsx(ja,{className:"w-2.5 h-2.5"}),e("common.save")]}),o.jsxs("button",{onClick:()=>y(null),className:`flex items-center gap-0.5 px-1.5 py-0.5 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 ${s.xs}`,children:[o.jsx(tn,{className:"w-2.5 h-2.5"}),e("common.cancel")]})]})]}):o.jsx("div",{className:`${s.paragraph} leading-relaxed ${A.translated_text?"text-blue-700 dark:text-blue-400":"text-gray-400 dark:text-gray-500 italic"}`,children:A.translated_text||e("common.noTranslation")})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-1.5 mt-1.5 pt-1.5 border-t border-gray-100 dark:border-gray-700",children:[A.translated_text&&A.translation_id&&o.jsxs("button",{onClick:()=>nv(A.id,A.translation_id??void 0,A.original_text,A.translated_text||""),className:"flex items-center gap-0.5 px-1.5 py-0.5 text-amber-600 dark:text-amber-400 hover:bg-amber-50 dark:hover:bg-amber-900/30 rounded text-[10px]",children:[o.jsx(My,{className:"w-2.5 h-2.5"}),e("translate.showReasoning")]}),o.jsxs("button",{onClick:()=>kt.mutate(A.id),disabled:kt.isPending,className:"flex items-center gap-0.5 px-1.5 py-0.5 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-[10px] disabled:opacity-50",children:[kt.isPending&&kt.variables===A.id?o.jsx(ve,{className:"w-2.5 h-2.5 animate-spin"}):o.jsx(jf,{className:"w-2.5 h-2.5"}),kt.isPending&&kt.variables===A.id?e("translate.retranslating"):e("translate.retranslate")]}),o.jsxs("button",{onClick:()=>at(A.id,A.translated_text||""),className:"flex items-center gap-0.5 px-1.5 py-0.5 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-[10px]",children:[o.jsx(Xc,{className:"w-2.5 h-2.5"}),e("common.edit")]}),o.jsxs("button",{onClick:()=>Br(A.id),className:`flex items-center gap-0.5 px-1.5 py-0.5 rounded text-[10px] ${k.has(A.id)?"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[o.jsx(gn,{className:"w-2.5 h-2.5"}),k.has(A.id)?e("translate.confirmed"):e("translate.pending")]})]})]},A.id))]})})]}),K&&ye&&o.jsx(id,{onResize:h,className:"h-full"}),K&&ye&&o.jsx("div",{className:"flex-shrink-0 self-start sticky top-2",style:{width:a.referencePanel},children:o.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded border border-amber-200 dark:border-amber-800 p-2 max-h-[calc(100vh-100px)] flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("h3",{className:"font-medium text-amber-800 dark:text-amber-200 text-xs flex items-center gap-1",children:[o.jsx(Wn,{className:"w-3 h-3"}),e("translate.referenceChapter")]}),o.jsx("button",{onClick:()=>B(!1),className:"p-0.5 text-amber-600 hover:text-amber-800 dark:text-amber-400 dark:hover:text-amber-200",children:o.jsx(tn,{className:"w-3.5 h-3.5"})})]}),o.jsxs("form",{onSubmit:Va,className:"flex gap-1 mb-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx("input",{type:"text",value:w,onChange:A=>Y(A.target.value),placeholder:e("translate.searchReference"),className:"w-full pl-6 pr-2 py-1 text-xs border border-amber-300 dark:border-amber-700 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400"}),o.jsx(Mk,{className:"absolute left-1.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-amber-500"})]}),T&&o.jsx("button",{type:"button",onClick:I,className:"p-1 text-amber-600 hover:text-amber-800 dark:text-amber-400 dark:hover:text-amber-200",title:e("common.cancel"),children:o.jsx(tn,{className:"w-3.5 h-3.5"})})]}),!T&&o.jsx("select",{value:X??"",onChange:A=>le(Number(A.target.value)),className:"w-full px-1.5 py-1 mb-2 text-xs border border-amber-300 dark:border-amber-700 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:Wt==null?void 0:Wt.map(A=>o.jsxs("option",{value:A.chapter_number,children:[A.title||`Ch ${A.chapter_number}`," (",A.paragraph_count,")"]},A.chapter_number))}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:T?Es?o.jsx("div",{className:"flex items-center justify-center py-4",children:o.jsx(ve,{className:"w-4 h-4 animate-spin text-amber-600"})}):In&&In.results.length>0?o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("div",{className:`${s.xs} text-amber-600 dark:text-amber-400 mb-2`,children:e("translate.searchResultsCount",{count:String(In.total_results)})}),In.results.map((A,ue)=>o.jsxs("div",{onClick:()=>ne(A.chapter_number,A.paragraph_number),className:`${s.paragraph} text-amber-900 dark:text-amber-100 leading-relaxed p-1.5 rounded cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/40 border border-amber-200 dark:border-amber-700`,children:[o.jsxs("div",{className:`${s.xs} text-amber-500 dark:text-amber-500 mb-0.5`,children:[A.chapter_title||`Ch ${A.chapter_number}`," - P",A.paragraph_number]}),o.jsxs("div",{children:[A.text.slice(0,A.match_start),o.jsx("mark",{className:"bg-amber-300 dark:bg-amber-600 text-amber-900 dark:text-amber-100 px-0.5 rounded",children:A.text.slice(A.match_start,A.match_end)}),A.text.slice(A.match_end)]})]},`${A.chapter_number}-${A.paragraph_number}-${ue}`))]}):o.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-xs text-center py-4",children:e("translate.noSearchResults")}):Ns?o.jsx("div",{className:"flex items-center justify-center py-4",children:o.jsx(ve,{className:"w-4 h-4 animate-spin text-amber-600"})}):An?o.jsxs("div",{className:"space-y-1.5",children:[An.title&&o.jsx("h4",{className:`font-medium text-amber-900 dark:text-amber-100 ${s.sm} border-b border-amber-200 dark:border-amber-700 pb-1`,children:An.title}),An.paragraphs.map(A=>o.jsxs("div",{id:`ref-para-${A.paragraph_number}`,ref:se===A.paragraph_number?ue=>ue==null?void 0:ue.scrollIntoView({behavior:"smooth",block:"center"}):void 0,className:`${s.paragraph} text-amber-900 dark:text-amber-100 leading-relaxed p-1 rounded transition-colors duration-300 ${se===A.paragraph_number?"bg-amber-200 dark:bg-amber-700 ring-2 ring-amber-400":"hover:bg-amber-100 dark:hover:bg-amber-900/40"}`,children:[o.jsxs("span",{className:`text-amber-500 dark:text-amber-500 ${s.xs} mr-1`,children:[A.paragraph_number,"."]}),A.text]},A.paragraph_number))]}):o.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-xs text-center py-2",children:e("translate.selectReferenceChapter")})})]})})]}),j&&o.jsx(F4,{isOpen:!!j,onClose:()=>O(null),translationId:j.translationId,paragraphId:j.paragraphId,originalText:j.originalText,translatedText:j.translatedText,onTranslationUpdated:()=>{n.invalidateQueries({queryKey:["chapter",t,m]})}}),t&&o.jsx(yx,{isOpen:F,onClose:()=>H(!1),projectId:t}),o.jsx(ho,{isOpen:P,onClose:()=>D(!1),promptType:"translation",variables:tr,onConfirm:Mn,isLoading:We.isPending}),o.jsx(ho,{isOpen:L,onClose:()=>M(!1),promptType:"reasoning",variables:{original_text:"(Original text will be provided)",translated_text:"(Translated text will be provided)"},onConfirm:De,isLoading:!1})]})}function tv(e){const t=[];for(const n of e)n.chapter_id&&t.push(n.chapter_id),n.children&&n.children.length>0&&t.push(...tv(n.children));return t}function $4(){const{t:e}=Re(),{projectId:t}=bi(),n=Fr(),r=Ao(),i=ze(I=>I.fontSize),s=Dr[i],a=ze(I=>I.panelWidths),l=ze(I=>I.setPanelWidth),{getActiveConfig:u,getActiveConfigId:c}=Zn(),d=u(),f=c(),p=!!(d&&d.hasApiKey),h=120,m=400,x=N.useCallback(I=>{const ne=Math.max(h,Math.min(m,a.chapterList+I));l("chapterList",ne)},[a.chapterList,l]),[b,y]=N.useState("llm-suggestions"),[g,v]=N.useState(null),[k,E]=N.useState(null),[j,O]=N.useState(""),[P,D]=N.useState("pending"),[L,M]=N.useState(new Set),[F,H]=N.useState(null),[K,B]=N.useState(null),[X,le]=N.useState(""),[T,V]=N.useState(0),[w,Y]=N.useState(!1),[se,C]=N.useState(!1),{data:he}=me({queryKey:["toc",t],queryFn:()=>G.getToc(t),enabled:!!t}),{data:Ne}=me({queryKey:["chapters",t],queryFn:()=>G.getChapters(t),enabled:!!t}),de=N.useMemo(()=>he&&he.length>0?tv(he):(Ne==null?void 0:Ne.map(I=>I.id))||[],[he,Ne]);N.useEffect(()=>{b==="all-translations"&&de.length>0&&!F&&H(de[0])},[b,de,F]);const{data:Le,isLoading:Mt}=me({queryKey:["chapter",t,F],queryFn:()=>G.getChapterContent(t,F),enabled:!!t&&!!F&&b==="all-translations"}),{data:ye,isLoading:Je}=me({queryKey:["proofreadingSessions",t],queryFn:()=>G.listProofreadingSessions(t),enabled:!!t}),{data:Ft}=me({queryKey:["models"],queryFn:()=>G.getModels()});N.useEffect(()=>{ye!=null&&ye.length&&!g&&v(ye[0].id)},[ye,g]);const{data:Ee}=me({queryKey:["proofreadingSession",g],queryFn:()=>G.getProofreadingSession(g),enabled:!!g,refetchInterval:I=>{const ne=I.state.data;return(ne==null?void 0:ne.status)==="processing"?2e3:!1}}),{data:xe,isLoading:js}=me({queryKey:["proofreadingSuggestions",g,P],queryFn:()=>G.getProofreadingSuggestions(g,P==="all"?void 0:P,100,0),enabled:!!g&&b==="llm-suggestions"}),tt=Ue({mutationFn:async I=>G.startProofreading(t,{config_id:f||void 0,custom_system_prompt:I==null?void 0:I.customSystemPrompt,custom_user_prompt:I==null?void 0:I.customUserPrompt}),onSuccess:I=>{n.invalidateQueries({queryKey:["proofreadingSessions",t]}),v(I.id),y("llm-suggestions")}}),On=(I,ne)=>{Y(!1),tt.mutate({customSystemPrompt:I,customUserPrompt:ne})},wt=()=>{Y(!0)},qe=Ue({mutationFn:async({id:I,action:ne,text:at})=>G.updateSuggestion(I,{action:ne,modified_text:at}),onSuccess:()=>{n.invalidateQueries({queryKey:["proofreadingSuggestions",g]}),E(null)}}),tr=Ue({mutationFn:async()=>G.applySuggestions(g),onSuccess:()=>{n.invalidateQueries({queryKey:["proofreadingSuggestions",g]}),n.invalidateQueries({queryKey:["chapter",t]}),r==null||r.refetchWorkflow()}}),xn=Ue({mutationFn:({paragraphId:I,text:ne})=>G.updateTranslation(I,ne),onSuccess:()=>{n.invalidateQueries({queryKey:["chapter",t,F]}),B(null)}}),Wt=I=>{qe.mutate({id:I,action:"accept"})},An=I=>{qe.mutate({id:I,action:"reject"})},Ns=I=>{qe.mutate({id:I,action:"modify",text:j})},In=I=>{E(I.id),O(I.suggested_translation)},Es=()=>{const I=(xe==null?void 0:xe.filter(ne=>ne.status==="pending"))||[];M(new Set(I.map(ne=>ne.id)))},R=()=>{M(new Set)},U=async()=>{for(const I of L)await qe.mutateAsync({id:I,action:"accept"});M(new Set)},Z=async()=>{for(const I of L)await qe.mutateAsync({id:I,action:"reject"});M(new Set)},oe=I=>{M(ne=>{const at=new Set(ne);return at.has(I)?at.delete(I):at.add(I),at})},pe=(I,ne)=>{B(I),le(ne||"")},ht=I=>{xn.mutate({paragraphId:I,text:X})};N.useEffect(()=>{const I=ne=>{if(b!=="llm-suggestions"||!(xe!=null&&xe.length)||k)return;const at=xe.filter(Br=>P==="all"||Br.status===P);if(at.length===0)return;const Ur=at[T];!Ur||Ur.status!=="pending"||(ne.key==="a"||ne.key==="A"?(ne.preventDefault(),Wt(Ur.id)):ne.key==="r"||ne.key==="R"?(ne.preventDefault(),An(Ur.id)):ne.key==="e"||ne.key==="E"?(ne.preventDefault(),In(Ur)):ne.key==="ArrowDown"||ne.key==="j"?(ne.preventDefault(),V(Br=>Math.min(Br+1,at.length-1))):(ne.key==="ArrowUp"||ne.key==="k")&&(ne.preventDefault(),V(Br=>Math.max(Br-1,0))))};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[b,xe,P,T,k]);const st=(xe==null?void 0:xe.filter(I=>I.status==="pending").length)||0,We=(xe==null?void 0:xe.filter(I=>I.status==="accepted"||I.status==="modified").length)||0,kt=(xe==null?void 0:xe.filter(I=>I.status==="rejected").length)||0,Mn=I=>{const ne=Ft==null?void 0:Ft.find(at=>at.id===I);return(ne==null?void 0:ne.display_name)||I},De=de.findIndex(I=>I===F),an=De>0,St=De>=0&&De<de.length-1,Va=(Le==null?void 0:Le.paragraphs)||[];return o.jsxs("div",{className:`h-full flex flex-col ${s.base}`,children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2 bg-white dark:bg-gray-800 p-2 rounded-lg border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h2",{className:`font-medium text-gray-900 dark:text-gray-100 ${s.heading}`,children:e("proofreading.title")}),Ee&&o.jsxs("span",{className:`${s.sm} text-gray-500 dark:text-gray-400`,children:[e("proofreading.round")," ",Ee.round_number]}),o.jsxs("div",{className:"flex rounded-lg bg-gray-100 dark:bg-gray-700 p-0.5",children:[o.jsxs("button",{onClick:()=>y("llm-suggestions"),className:`flex items-center gap-1 px-2 py-1 rounded-md ${s.sm} font-medium transition-colors ${b==="llm-suggestions"?"bg-white dark:bg-gray-800 text-blue-700 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[o.jsx(Fy,{className:"w-3.5 h-3.5"}),o.jsx("span",{className:"hidden sm:inline",children:e("proofreading.llmSuggestions")}),st>0&&o.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300 rounded-full",children:st})]}),o.jsxs("button",{onClick:()=>y("all-translations"),className:`flex items-center gap-1 px-2 py-1 rounded-md ${s.sm} font-medium transition-colors ${b==="all-translations"?"bg-white dark:bg-gray-800 text-blue-700 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[o.jsx(Sa,{className:"w-3.5 h-3.5"}),o.jsx("span",{className:"hidden sm:inline",children:e("proofreading.allTranslations")})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[ye&&ye.length>1&&o.jsx("select",{value:g||"",onChange:I=>v(I.target.value),className:`px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-lg ${s.sm} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`,children:ye.map(I=>o.jsxs("option",{value:I.id,children:[e("proofreading.round")," ",I.round_number," - ",I.status]},I.id))}),o.jsx(Tf,{}),o.jsxs("button",{onClick:()=>Y(!0),disabled:!p,className:`flex items-center gap-1.5 px-2 py-1.5 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 ${s.button}`,children:[o.jsx(Or,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden lg:inline",children:e("prompts.viewPrompt")})]}),o.jsxs("button",{onClick:wt,disabled:!p||tt.isPending||(Ee==null?void 0:Ee.status)==="processing",className:`flex items-center gap-1.5 px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed ${s.button}`,children:[tt.isPending||(Ee==null?void 0:Ee.status)==="processing"?o.jsx(ve,{className:"w-4 h-4 animate-spin"}):ye!=null&&ye.length?o.jsx(jf,{className:"w-4 h-4"}):o.jsx(Ca,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:ye!=null&&ye.length?e("proofreading.newRound"):e("proofreading.start")})]}),o.jsxs("button",{onClick:()=>C(!0),className:`flex items-center gap-1.5 px-2 py-1.5 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 ${s.button}`,children:[o.jsx(Wn,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden lg:inline",children:e("common.preview")})]})]})]}),o.jsxs("div",{className:"flex flex-1 min-h-0",children:[b==="all-translations"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"hidden lg:flex lg:flex-col flex-shrink-0",style:{width:a.chapterList},children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-2 h-full overflow-y-auto",children:[o.jsx("h3",{className:`font-medium text-gray-900 dark:text-gray-100 mb-1.5 ${s.sm}`,children:e("preview.chapterList")}),he&&he.length>0?o.jsx(Bo,{toc:he,selectedChapterId:F,onSelectChapter:H,fontClasses:s}):Ne!=null&&Ne.length?o.jsx("div",{className:"space-y-0.5",children:Ne.map(I=>o.jsxs("button",{onClick:()=>H(I.id),className:`w-full text-left px-1.5 py-1 rounded ${s.paragraph} transition-colors ${F===I.id?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[o.jsx("div",{className:"font-medium truncate",children:I.title||e("preview.chapterNumber",{number:String(I.chapter_number)})}),o.jsxs("div",{className:`${s.xs} text-gray-400 dark:text-gray-500`,children:[I.paragraph_count," ",e("home.paragraphs")]})]},I.id))}):null]})}),o.jsx("div",{className:"hidden lg:flex h-full",children:o.jsx(id,{onResize:x,className:"h-full"})})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-h-0 min-w-0",children:[!(ye!=null&&ye.length)&&!Je&&b==="llm-suggestions"&&o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ay,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),o.jsx("h3",{className:`font-medium text-gray-700 dark:text-gray-300 mb-2 ${s.heading}`,children:e("proofreading.noSession")}),o.jsx("p",{className:`text-gray-500 dark:text-gray-400 mb-4 ${s.paragraph}`,children:e("proofreading.noSessionHint")}),o.jsxs("button",{onClick:wt,disabled:!p||tt.isPending,className:`flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 dark:disabled:bg-gray-600 mx-auto ${s.button}`,children:[tt.isPending?o.jsx(ve,{className:"w-4 h-4 animate-spin"}):o.jsx(Ca,{className:"w-4 h-4"}),e("proofreading.start")]})]})}),(Ee==null?void 0:Ee.status)==="processing"&&b==="llm-suggestions"&&o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-4 rounded-lg mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(ve,{className:"w-5 h-5 animate-spin text-blue-600 dark:text-blue-400"}),o.jsx("span",{className:`font-medium text-blue-700 dark:text-blue-300 ${s.base}`,children:e("proofreading.inProgress")})]}),o.jsxs("div",{className:`flex items-center gap-4 ${s.sm} text-blue-600 dark:text-blue-400`,children:[o.jsxs("span",{children:[e("proofreading.model"),": ",Mn(Ee.model)]}),o.jsxs("span",{children:[Ee.completed_paragraphs," / ",Ee.total_paragraphs," ",e("proofreading.paragraphs")]})]}),o.jsx("div",{className:"mt-2 bg-blue-200 dark:bg-blue-800 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-600 dark:bg-blue-400 h-2 rounded-full transition-all",style:{width:`${Ee.progress*100}%`}})})]}),b==="llm-suggestions"&&(Ee==null?void 0:Ee.status)==="completed"&&xe&&o.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 bg-white dark:bg-gray-800 p-2 rounded-lg border border-gray-200 dark:border-gray-700 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[o.jsxs("button",{onClick:()=>{D("pending"),V(0)},className:`flex items-center gap-1.5 px-2 py-1 rounded ${s.sm} ${P==="pending"?"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[o.jsx(za,{className:"w-4 h-4"}),e("proofreading.pending")," (",st,")"]}),o.jsxs("button",{onClick:()=>{D("accepted"),V(0)},className:`flex items-center gap-1.5 px-2 py-1 rounded ${s.sm} ${P==="accepted"?"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[o.jsx(uo,{className:"w-4 h-4"}),e("proofreading.accepted")," (",We,")"]}),o.jsxs("button",{onClick:()=>{D("rejected"),V(0)},className:`flex items-center gap-1.5 px-2 py-1 rounded ${s.sm} ${P==="rejected"?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[o.jsx(_p,{className:"w-4 h-4"}),e("proofreading.rejected")," (",kt,")"]}),o.jsx("button",{onClick:()=>{D("all"),V(0)},className:`px-2 py-1 rounded ${s.sm} ${P==="all"?"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:e("proofreading.all")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[P==="pending"&&st>0&&o.jsx(o.Fragment,{children:L.size>0?o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:`${s.sm} text-gray-500 dark:text-gray-400`,children:[L.size," ",e("proofreading.selected")]}),o.jsx("button",{onClick:R,className:`px-2 py-1 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded ${s.sm}`,children:e("proofreading.deselectAll")}),o.jsxs("button",{onClick:U,disabled:qe.isPending,className:`flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 ${s.sm}`,children:[o.jsx(Ck,{className:"w-3.5 h-3.5"}),e("proofreading.batchAccept")]}),o.jsxs("button",{onClick:Z,disabled:qe.isPending,className:`flex items-center gap-1 px-2 py-1 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 ${s.sm}`,children:[o.jsx(tn,{className:"w-3.5 h-3.5"}),e("proofreading.batchReject")]})]}):o.jsx("button",{onClick:Es,className:`px-2 py-1 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded ${s.sm}`,children:e("proofreading.selectAll")})}),We>0&&o.jsxs("button",{onClick:()=>tr.mutate(),disabled:tr.isPending,className:`flex items-center gap-1.5 px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-300 dark:disabled:bg-gray-600 ${s.button}`,children:[tr.isPending?o.jsx(ve,{className:"w-4 h-4 animate-spin"}):o.jsx(Oy,{className:"w-4 h-4"}),e("proofreading.applyChanges")," (",We,")"]})]})]}),P==="pending"&&st>0&&o.jsxs("div",{className:`flex items-center gap-4 mb-2 px-2 py-1 bg-gray-50 dark:bg-gray-800/50 rounded ${s.xs} text-gray-500 dark:text-gray-400`,children:[o.jsxs("span",{children:[e("proofreading.keyboardShortcuts"),":"]}),o.jsxs("span",{children:[o.jsx("kbd",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-700 rounded",children:"A"})," ",e("proofreading.shortcutAccept")]}),o.jsxs("span",{children:[o.jsx("kbd",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-700 rounded",children:"R"})," ",e("proofreading.shortcutReject")]}),o.jsxs("span",{children:[o.jsx("kbd",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-700 rounded",children:"E"})," ",e("proofreading.shortcutEdit")]}),o.jsxs("span",{children:[o.jsx("kbd",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-700 rounded",children:""})," ",e("proofreading.shortcutNav")]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:js?o.jsx("div",{className:"text-center py-12",children:o.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto"})}):(xe==null?void 0:xe.length)===0?o.jsx("div",{className:`text-center py-12 text-gray-500 dark:text-gray-400 ${s.paragraph}`,children:e(P==="pending"?"proofreading.noPending":"proofreading.noSuggestions")}):xe==null?void 0:xe.map((I,ne)=>o.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg border p-3 transition-all ${I.status==="accepted"||I.status==="modified"?"border-green-200 dark:border-green-800":I.status==="rejected"?"border-red-200 dark:border-red-800":T===ne&&P==="pending"?"border-blue-400 dark:border-blue-500 ring-2 ring-blue-100 dark:ring-blue-900":"border-gray-200 dark:border-gray-700"}`,children:[I.status==="pending"&&o.jsx("div",{className:"flex items-center mb-2",children:o.jsx("button",{onClick:()=>oe(I.id),className:`p-1 rounded ${L.has(I.id)?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:o.jsx(gn,{className:"w-3.5 h-3.5"})})}),o.jsxs("div",{className:"mb-3",children:[o.jsx("div",{className:`${s.label} text-gray-400 dark:text-gray-500 uppercase mb-1`,children:e("proofreading.originalText")}),o.jsx("div",{className:`text-gray-700 dark:text-gray-300 ${s.paragraph}`,children:I.original_text})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:`${s.label} text-gray-400 dark:text-gray-500 uppercase mb-1`,children:e("proofreading.currentTranslation")}),o.jsx("div",{className:`text-gray-600 dark:text-gray-400 ${s.paragraph} bg-gray-50 dark:bg-gray-900/50 p-2 rounded`,children:I.original_translation})]}),o.jsxs("div",{children:[o.jsx("div",{className:`${s.label} text-gray-400 dark:text-gray-500 uppercase mb-1`,children:e("proofreading.suggestedTranslation")}),k===I.id?o.jsxs("div",{children:[o.jsx("textarea",{value:j,onChange:at=>O(at.target.value),className:`w-full h-20 px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded ${s.paragraph} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500`}),o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsxs("button",{onClick:()=>Ns(I.id),disabled:qe.isPending,className:`flex items-center gap-1 px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 ${s.xs}`,children:[o.jsx(ja,{className:"w-3 h-3"}),e("common.save")]}),o.jsxs("button",{onClick:()=>E(null),className:`flex items-center gap-1 px-2 py-1 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 ${s.xs}`,children:[o.jsx(tn,{className:"w-3 h-3"}),e("common.cancel")]})]})]}):o.jsx("div",{className:`text-blue-700 dark:text-blue-400 ${s.paragraph} bg-blue-50 dark:bg-blue-900/30 p-2 rounded`,children:I.user_modified_text||I.suggested_translation})]})]}),I.explanation&&o.jsxs("div",{className:`mt-3 ${s.sm} text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-900/50 p-2 rounded`,children:[o.jsxs("span",{className:"font-medium",children:[e("proofreading.explanation"),": "]}),I.explanation]}),I.status==="pending"&&o.jsxs("div",{className:"flex items-center justify-end gap-2 mt-3 pt-3 border-t border-gray-100 dark:border-gray-700",children:[o.jsxs("button",{onClick:()=>In(I),className:`flex items-center gap-1 px-2 py-1 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded ${s.sm}`,children:[o.jsx(Xc,{className:"w-4 h-4"}),e("common.edit")]}),o.jsxs("button",{onClick:()=>An(I.id),disabled:qe.isPending,className:`flex items-center gap-1 px-2 py-1 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded ${s.sm}`,children:[o.jsx(tn,{className:"w-4 h-4"}),e("proofreading.reject")]}),o.jsxs("button",{onClick:()=>Wt(I.id),disabled:qe.isPending,className:`flex items-center gap-1 px-2 py-1 bg-green-600 text-white hover:bg-green-700 rounded ${s.sm}`,children:[o.jsx(gn,{className:"w-4 h-4"}),e("proofreading.accept")]})]}),I.status!=="pending"&&o.jsx("div",{className:"flex items-center justify-end mt-3 pt-3 border-t border-gray-100 dark:border-gray-700",children:o.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded ${s.xs} ${I.status==="accepted"||I.status==="modified"?"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300"}`,children:[I.status==="accepted"||I.status==="modified"?o.jsx(uo,{className:"w-3 h-3"}):o.jsx(_p,{className:"w-3 h-3"}),I.status==="modified"?e("proofreading.modified"):I.status==="accepted"?e("proofreading.statusAccepted"):e("proofreading.statusRejected")]})})]},I.id))})]}),b==="all-translations"&&o.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[o.jsxs("button",{onClick:()=>{an&&H(de[De-1])},disabled:!an,className:`flex items-center gap-0.5 px-1.5 py-0.5 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 disabled:text-gray-300 dark:disabled:text-gray-600 ${s.xs}`,children:[o.jsx(Da,{className:"w-3 h-3"}),e("preview.prevChapter")]}),o.jsx("span",{className:`text-gray-600 dark:text-gray-300 font-medium ${s.xs}`,children:(Le==null?void 0:Le.title)||e("preview.chapterNumber",{number:String(Le==null?void 0:Le.chapter_number)})}),o.jsxs("button",{onClick:()=>{St&&H(de[De+1])},disabled:!St,className:`flex items-center gap-0.5 px-1.5 py-0.5 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 disabled:text-gray-300 dark:disabled:text-gray-600 ${s.xs}`,children:[e("preview.nextChapter"),o.jsx(wi,{className:"w-3 h-3"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:Mt?o.jsx("div",{className:"text-center py-12",children:o.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto"})}):Va.length===0?o.jsx("div",{className:`text-center py-12 text-gray-500 dark:text-gray-400 ${s.paragraph}`,children:e("preview.noContent")}):Va.map(I=>o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded border border-gray-200 dark:border-gray-700 p-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:`${s.label} text-gray-400 dark:text-gray-500 uppercase mb-1`,children:e("translate.original")}),o.jsx("div",{className:`text-gray-700 dark:text-gray-300 ${s.paragraph} leading-relaxed`,children:I.original_text})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:`${s.label} text-gray-400 dark:text-gray-500 uppercase mb-1`,children:e("translate.translation")}),K===I.id?o.jsxs("div",{children:[o.jsx("textarea",{value:X,onChange:ne=>le(ne.target.value),className:`w-full h-16 px-1.5 py-1 border border-gray-300 dark:border-gray-600 rounded ${s.paragraph} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-1 focus:ring-blue-500 focus:border-blue-500`}),o.jsxs("div",{className:"flex gap-1.5 mt-1.5",children:[o.jsxs("button",{onClick:()=>ht(I.id),disabled:xn.isPending,className:`flex items-center gap-0.5 px-1.5 py-0.5 bg-blue-600 text-white rounded hover:bg-blue-700 ${s.xs}`,children:[o.jsx(ja,{className:"w-2.5 h-2.5"}),e("common.save")]}),o.jsxs("button",{onClick:()=>B(null),className:`flex items-center gap-0.5 px-1.5 py-0.5 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 ${s.xs}`,children:[o.jsx(tn,{className:"w-2.5 h-2.5"}),e("common.cancel")]})]})]}):o.jsx("div",{className:`${s.paragraph} leading-relaxed ${I.translated_text?"text-blue-700 dark:text-blue-400":"text-gray-400 dark:text-gray-500 italic"}`,children:I.translated_text||e("common.noTranslation")})]})]}),K!==I.id&&o.jsx("div",{className:"flex items-center justify-end mt-1.5 pt-1.5 border-t border-gray-100 dark:border-gray-700",children:o.jsx("button",{onClick:()=>pe(I.id,I.translated_text||""),className:"p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:o.jsx(Xc,{className:"w-3 h-3"})})})]},I.id))})]})]})]}),t&&o.jsx(yx,{isOpen:se,onClose:()=>C(!1),projectId:t}),o.jsx(ho,{isOpen:w,onClose:()=>Y(!1),promptType:"proofreading",variables:{original_text:"(Original text will be provided during proofreading)",current_translation:"(Current translation will be provided)",author_biography:"",writing_style:"",tone:"",target_audience:"",genre_conventions:""},onConfirm:On,isLoading:tt.isPending})]})}function U4(){var v,k,E,j,O;const{t:e}=Re(),{projectId:t}=bi(),n=Ao(),[r,i]=N.useState(null),[s,a]=N.useState(!1),{data:l}=me({queryKey:["chapters",t],queryFn:()=>G.getChapters(t),enabled:!!t}),{data:u,isLoading:c}=me({queryKey:["exportPreview",t,r],queryFn:async()=>(await fetch(`/api/v1/export/${t}/preview${r?`?chapter_id=${r}`:""}`)).json(),enabled:!!t&&s}),d=Ue({mutationFn:async()=>{var M;const P=await G.exportEpub(t),D=window.URL.createObjectURL(P),L=document.createElement("a");L.href=D,L.download=`${((M=n==null?void 0:n.project)==null?void 0:M.name)||"book"}_bilingual.epub`,document.body.appendChild(L),L.click(),document.body.removeChild(L),window.URL.revokeObjectURL(D)}}),f=(v=n==null?void 0:n.workflowStatus)==null?void 0:v.translation_progress,p=(f==null?void 0:f.completed_paragraphs)||0,h=(f==null?void 0:f.total_paragraphs)||((k=n==null?void 0:n.project)==null?void 0:k.total_paragraphs)||0,m=h>0?Math.round(p/h*100):0,x=m===100,b=(l==null?void 0:l.findIndex(P=>P.id===r))??-1,y=b>0,g=l&&b<l.length-1&&b>=0;return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6 bg-white p-4 rounded-lg border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-medium",children:e("export.title")}),o.jsx("p",{className:"text-sm text-gray-500",children:e("export.subtitle")})]}),o.jsxs("button",{onClick:()=>d.mutate(),disabled:d.isPending||!x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:[d.isPending?o.jsx(ve,{className:"w-4 h-4 animate-spin"}):o.jsx(Cf,{className:"w-4 h-4"}),e("export.downloadEpub")]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-6 flex-1 min-h-0",children:[o.jsxs("div",{className:"col-span-1 space-y-4",children:[o.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[o.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[o.jsx(Wn,{className:"w-4 h-4"}),e("export.projectInfo")]}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:e("export.bookTitle")}),o.jsx("span",{className:"font-medium",children:(E=n==null?void 0:n.project)==null?void 0:E.name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:e("export.totalChapters")}),o.jsx("span",{className:"font-medium",children:(j=n==null?void 0:n.project)==null?void 0:j.total_chapters})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:e("export.totalParagraphs")}),o.jsx("span",{className:"font-medium",children:(O=n==null?void 0:n.project)==null?void 0:O.total_paragraphs})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[o.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[o.jsx(Or,{className:"w-4 h-4"}),e("export.translationStatus")]}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{className:"text-gray-500",children:e("export.progress")}),o.jsxs("span",{className:"font-medium",children:[m,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all ${x?"bg-green-500":"bg-blue-600"}`,style:{width:`${m}%`}})}),o.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[p," / ",h," ",e("export.paragraphsTranslated")]})]}),o.jsx("div",{className:`flex items-center gap-2 p-2 rounded ${x?"bg-green-50 text-green-700":"bg-amber-50 text-amber-700"}`,children:x?o.jsxs(o.Fragment,{children:[o.jsx(uo,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:e("export.readyToExport")})]}):o.jsxs(o.Fragment,{children:[o.jsx(Sk,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:e("export.translationIncomplete")})]})})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[o.jsx("h3",{className:"font-medium mb-3",children:e("export.format")}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-2 p-2 border border-blue-300 bg-blue-50 rounded cursor-pointer",children:[o.jsx("input",{type:"radio",name:"format",defaultChecked:!0,className:"text-blue-600"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:e("export.formatBilingual")}),o.jsx("div",{className:"text-xs text-gray-500",children:e("export.formatBilingualDesc")})]})]}),o.jsxs("label",{className:"flex items-center gap-2 p-2 border border-gray-200 rounded cursor-pointer opacity-50",children:[o.jsx("input",{type:"radio",name:"format",disabled:!0,className:"text-gray-400"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:e("export.formatChineseOnly")}),o.jsx("div",{className:"text-xs text-gray-500",children:e("export.comingSoon")})]})]})]})]}),o.jsxs("button",{onClick:()=>{a(!s),!r&&(l!=null&&l.length)&&i(l[0].id)},className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[o.jsx(Sa,{className:"w-4 h-4"}),e(s?"export.hidePreview":"export.showPreview")]})]}),o.jsx("div",{className:"col-span-2 bg-white rounded-lg border border-gray-200 flex flex-col min-h-0",children:s?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>{y&&l&&i(l[b-1].id)},disabled:!y,className:"p-1 text-gray-500 hover:text-gray-700 disabled:text-gray-300",children:o.jsx(Da,{className:"w-4 h-4"})}),o.jsxs("select",{value:r||"",onChange:P=>i(P.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:[o.jsx("option",{value:"",children:e("export.allChapters")}),l==null?void 0:l.map(P=>o.jsx("option",{value:P.id,children:P.title||e("preview.chapterNumber",{number:String(P.chapter_number)})},P.id))]}),o.jsx("button",{onClick:()=>{g&&l&&i(l[b+1].id)},disabled:!g,className:"p-1 text-gray-500 hover:text-gray-700 disabled:text-gray-300",children:o.jsx(wi,{className:"w-4 h-4"})})]}),o.jsx("span",{className:"text-xs text-gray-400",children:e("export.previewNote")})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(ve,{className:"w-6 h-6 animate-spin text-blue-600"})}):u!=null&&u.html?o.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:u.html}}):o.jsx("div",{className:"text-center py-12 text-gray-500",children:e("export.noPreview")})})]}):o.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Sa,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:e("export.clickToPreview")})]})})})]})]})}function B4(){const e=Zn(n=>n.loadConfigs),t=Zn(n=>n._isHydrated);return N.useEffect(()=>{t||e()},[t,e]),o.jsx(yk,{children:o.jsx(a2,{children:o.jsxs(ck,{children:[o.jsx(Qt,{path:"/",element:o.jsx(MC,{})}),o.jsx(Qt,{path:"/upload",element:o.jsx(FC,{})}),o.jsxs(Qt,{path:"/project/:projectId",element:o.jsx(qC,{}),children:[o.jsx(Qt,{index:!0,element:o.jsx(lk,{to:"analysis",replace:!0})}),o.jsx(Qt,{path:"analysis",element:o.jsx(QC,{})}),o.jsx(Qt,{path:"translate",element:o.jsx(D4,{})}),o.jsx(Qt,{path:"proofread",element:o.jsx($4,{})}),o.jsx(Qt,{path:"export",element:o.jsx(U4,{})})]}),o.jsx(Qt,{path:"/translate/:projectId",element:o.jsx(zC,{})}),o.jsx(Qt,{path:"/preview/:projectId",element:o.jsx($C,{})}),o.jsx(Qt,{path:"/settings",element:o.jsx(HC,{})})]})})})}function H4(){var n;const e=localStorage.getItem("epub-translator-app");let t="light";if(e)try{const r=JSON.parse(e);(n=r.state)!=null&&n.theme&&(t=r.state.theme)}catch{window.matchMedia("(prefers-color-scheme: dark)").matches&&(t="dark")}else window.matchMedia("(prefers-color-scheme: dark)").matches&&(t="dark");t==="dark"&&document.documentElement.classList.add("dark")}H4();const q4=new rw({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});$u.createRoot(document.getElementById("root")).render(o.jsx(wd.StrictMode,{children:o.jsx(iw,{client:q4,children:o.jsx(B4,{})})}));
